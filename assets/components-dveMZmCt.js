function hs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ur={exports:{}},un={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go;function ki(){if(go)return un;go=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,s){var i=null;if(s!==void 0&&(i=""+s),o.key!==void 0&&(i=""+o.key),"key"in o){s={};for(var a in o)a!=="key"&&(s[a]=o[a])}else s=o;return o=s.ref,{$$typeof:e,type:r,key:i,ref:o!==void 0?o:null,props:s}}return un.Fragment=t,un.jsx=n,un.jsxs=n,un}var mo;function Ti(){return mo||(mo=1,ur.exports=ki()),ur.exports}var B=Ti(),fr={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo;function Oi(){if(yo)return te;yo=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),f=Symbol.iterator;function h(C){return C===null||typeof C!="object"?null:(C=f&&C[f]||C["@@iterator"],typeof C=="function"?C:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function v(C,P,z){this.props=C,this.context=P,this.refs=b,this.updater=z||p}v.prototype.isReactComponent={},v.prototype.setState=function(C,P){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,P,"setState")},v.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=v.prototype;function T(C,P,z){this.props=C,this.context=P,this.refs=b,this.updater=z||p}var I=T.prototype=new O;I.constructor=T,g(I,v.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function _(){}var k={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function y(C,P,z){var N=z.ref;return{$$typeof:e,type:C,key:P,ref:N!==void 0?N:null,props:z}}function R(C,P){return y(C.type,P,C.props)}function E(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function S(C){var P={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(z){return P[z]})}var L=/\/+/g;function A(C,P){return typeof C=="object"&&C!==null&&C.key!=null?S(""+C.key):P.toString(36)}function $(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(_,_):(C.status="pending",C.then(function(P){C.status==="pending"&&(C.status="fulfilled",C.value=P)},function(P){C.status==="pending"&&(C.status="rejected",C.reason=P)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function w(C,P,z,N,U){var G=typeof C;(G==="undefined"||G==="boolean")&&(C=null);var W=!1;if(C===null)W=!0;else switch(G){case"bigint":case"string":case"number":W=!0;break;case"object":switch(C.$$typeof){case e:case t:W=!0;break;case l:return W=C._init,w(W(C._payload),P,z,N,U)}}if(W)return U=U(C),W=N===""?"."+A(C,0):N,D(U)?(z="",W!=null&&(z=W.replace(L,"$&/")+"/"),w(U,P,z,"",function(ee){return ee})):U!=null&&(E(U)&&(U=R(U,z+(U.key==null||C&&C.key===U.key?"":(""+U.key).replace(L,"$&/")+"/")+W)),P.push(U)),1;W=0;var Z=N===""?".":N+":";if(D(C))for(var V=0;V<C.length;V++)N=C[V],G=Z+A(N,V),W+=w(N,P,z,G,U);else if(V=h(C),typeof V=="function")for(C=V.call(C),V=0;!(N=C.next()).done;)N=N.value,G=Z+A(N,V++),W+=w(N,P,z,G,U);else if(G==="object"){if(typeof C.then=="function")return w($(C),P,z,N,U);throw P=String(C),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return W}function m(C,P,z){if(C==null)return C;var N=[],U=0;return w(C,N,"","",function(G){return P.call(z,G,U++)}),N}function M(C){if(C._status===-1){var P=C._result;P=P(),P.then(function(z){(C._status===0||C._status===-1)&&(C._status=1,C._result=z)},function(z){(C._status===0||C._status===-1)&&(C._status=2,C._result=z)}),C._status===-1&&(C._status=0,C._result=P)}if(C._status===1)return C._result.default;throw C._result}var j=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},H={map:m,forEach:function(C,P,z){m(C,function(){P.apply(this,arguments)},z)},count:function(C){var P=0;return m(C,function(){P++}),P},toArray:function(C){return m(C,function(P){return P})||[]},only:function(C){if(!E(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return te.Activity=u,te.Children=H,te.Component=v,te.Fragment=n,te.Profiler=o,te.PureComponent=T,te.StrictMode=r,te.Suspense=c,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return k.H.useMemoCache(C)}},te.cache=function(C){return function(){return C.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(C,P,z){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var N=g({},C.props),U=C.key;if(P!=null)for(G in P.key!==void 0&&(U=""+P.key),P)!x.call(P,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&P.ref===void 0||(N[G]=P[G]);var G=arguments.length-2;if(G===1)N.children=z;else if(1<G){for(var W=Array(G),Z=0;Z<G;Z++)W[Z]=arguments[Z+2];N.children=W}return y(C.type,U,N)},te.createContext=function(C){return C={$$typeof:i,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:s,_context:C},C},te.createElement=function(C,P,z){var N,U={},G=null;if(P!=null)for(N in P.key!==void 0&&(G=""+P.key),P)x.call(P,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(U[N]=P[N]);var W=arguments.length-2;if(W===1)U.children=z;else if(1<W){for(var Z=Array(W),V=0;V<W;V++)Z[V]=arguments[V+2];U.children=Z}if(C&&C.defaultProps)for(N in W=C.defaultProps,W)U[N]===void 0&&(U[N]=W[N]);return y(C,G,U)},te.createRef=function(){return{current:null}},te.forwardRef=function(C){return{$$typeof:a,render:C}},te.isValidElement=E,te.lazy=function(C){return{$$typeof:l,_payload:{_status:-1,_result:C},_init:M}},te.memo=function(C,P){return{$$typeof:d,type:C,compare:P===void 0?null:P}},te.startTransition=function(C){var P=k.T,z={};k.T=z;try{var N=C(),U=k.S;U!==null&&U(z,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(_,j)}catch(G){j(G)}finally{P!==null&&z.types!==null&&(P.types=z.types),k.T=P}},te.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},te.use=function(C){return k.H.use(C)},te.useActionState=function(C,P,z){return k.H.useActionState(C,P,z)},te.useCallback=function(C,P){return k.H.useCallback(C,P)},te.useContext=function(C){return k.H.useContext(C)},te.useDebugValue=function(){},te.useDeferredValue=function(C,P){return k.H.useDeferredValue(C,P)},te.useEffect=function(C,P){return k.H.useEffect(C,P)},te.useEffectEvent=function(C){return k.H.useEffectEvent(C)},te.useId=function(){return k.H.useId()},te.useImperativeHandle=function(C,P,z){return k.H.useImperativeHandle(C,P,z)},te.useInsertionEffect=function(C,P){return k.H.useInsertionEffect(C,P)},te.useLayoutEffect=function(C,P){return k.H.useLayoutEffect(C,P)},te.useMemo=function(C,P){return k.H.useMemo(C,P)},te.useOptimistic=function(C,P){return k.H.useOptimistic(C,P)},te.useReducer=function(C,P,z){return k.H.useReducer(C,P,z)},te.useRef=function(C){return k.H.useRef(C)},te.useState=function(C){return k.H.useState(C)},te.useSyncExternalStore=function(C,P,z){return k.H.useSyncExternalStore(C,P,z)},te.useTransition=function(){return k.H.useTransition()},te.version="19.2.0",te}var vo;function Vr(){return vo||(vo=1,fr.exports=Oi()),fr.exports}var dr={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo;function Pi(){if(wo)return Be;wo=1;var e=Vr();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)d+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(c,d,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:u==null?null:""+u,children:c,containerInfo:d,implementation:l}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Be.createPortal=function(c,d){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(c,d,null,l)},Be.flushSync=function(c){var d=i.T,l=r.p;try{if(i.T=null,r.p=2,c)return c()}finally{i.T=d,r.p=l,r.d.f()}},Be.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Be.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Be.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var l=d.as,u=a(l,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,h=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;l==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:u,integrity:f,fetchPriority:h}):l==="script"&&r.d.X(c,{crossOrigin:u,integrity:f,fetchPriority:h,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Be.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var l=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Be.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var l=d.as,u=a(l,d.crossOrigin);r.d.L(c,l,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Be.preloadModule=function(c,d){if(typeof c=="string")if(d){var l=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Be.requestFormReset=function(c){r.d.r(c)},Be.unstable_batchedUpdates=function(c,d){return c(d)},Be.useFormState=function(c,d,l){return i.H.useFormState(c,d,l)},Be.useFormStatus=function(){return i.H.useHostTransitionStatus()},Be.version="19.2.0",Be}var xo;function $i(){if(xo)return dr.exports;xo=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dr.exports=Pi(),dr.exports}var je=function(){return je=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},je.apply(this,arguments)};function pn(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var F=Vr();const ae=hs(F);var we="-ms-",dn="-moz-",he="-webkit-",ps="comm",Xn="rule",Yr="decl",Di="@import",gs="@keyframes",ji="@layer",ms=Math.abs,Xr=String.fromCharCode,Rr=Object.assign;function Mi(e,t){return De(e,0)^45?(((t<<2^De(e,0))<<2^De(e,1))<<2^De(e,2))<<2^De(e,3):0}function ys(e){return e.trim()}function At(e,t){return(e=t.exec(e))?e[0]:e}function se(e,t,n){return e.replace(t,n)}function Ln(e,t,n){return e.indexOf(t,n)}function De(e,t){return e.charCodeAt(t)|0}function Qt(e,t,n){return e.slice(t,n)}function gt(e){return e.length}function vs(e){return e.length}function fn(e,t){return t.push(e),e}function Ui(e,t){return e.map(t).join("")}function bo(e,t){return e.filter(function(n){return!At(n,t)})}var Kn=1,Zt=1,ws=0,st=0,Ie=0,sn="";function Qn(e,t,n,r,o,s,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:s,line:Kn,column:Zt,length:i,return:"",siblings:a}}function Rt(e,t){return Rr(Qn("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function qt(e){for(;e.root;)e=Rt(e.root,{children:[e]});fn(e,e.siblings)}function Ni(){return Ie}function Fi(){return Ie=st>0?De(sn,--st):0,Zt--,Ie===10&&(Zt=1,Kn--),Ie}function ct(){return Ie=st<ws?De(sn,st++):0,Zt++,Ie===10&&(Zt=1,Kn++),Ie}function Dt(){return De(sn,st)}function kn(){return st}function Zn(e,t){return Qt(sn,e,t)}function Ir(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bi(e){return Kn=Zt=1,ws=gt(sn=e),st=0,[]}function zi(e){return sn="",e}function hr(e){return ys(Zn(st-1,Lr(e===91?e+2:e===40?e+1:e)))}function Hi(e){for(;(Ie=Dt())&&Ie<33;)ct();return Ir(e)>2||Ir(Ie)>3?"":" "}function Gi(e,t){for(;--t&&ct()&&!(Ie<48||Ie>102||Ie>57&&Ie<65||Ie>70&&Ie<97););return Zn(e,kn()+(t<6&&Dt()==32&&ct()==32))}function Lr(e){for(;ct();)switch(Ie){case e:return st;case 34:case 39:e!==34&&e!==39&&Lr(Ie);break;case 40:e===41&&Lr(e);break;case 92:ct();break}return st}function qi(e,t){for(;ct()&&e+Ie!==57;)if(e+Ie===84&&Dt()===47)break;return"/*"+Zn(t,st-1)+"*"+Xr(e===47?e:ct())}function Wi(e){for(;!Ir(Dt());)ct();return Zn(e,st)}function Vi(e){return zi(Tn("",null,null,null,[""],e=Bi(e),0,[0],e))}function Tn(e,t,n,r,o,s,i,a,c){for(var d=0,l=0,u=i,f=0,h=0,p=0,g=1,b=1,v=1,O=0,T="",I=o,D=s,_=r,k=T;b;)switch(p=O,O=ct()){case 40:if(p!=108&&De(k,u-1)==58){Ln(k+=se(hr(O),"&","&\f"),"&\f",ms(d?a[d-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:k+=hr(O);break;case 9:case 10:case 13:case 32:k+=Hi(p);break;case 92:k+=Gi(kn()-1,7);continue;case 47:switch(Dt()){case 42:case 47:fn(Yi(qi(ct(),kn()),t,n,c),c);break;default:k+="/"}break;case 123*g:a[d++]=gt(k)*v;case 125*g:case 59:case 0:switch(O){case 0:case 125:b=0;case 59+l:v==-1&&(k=se(k,/\f/g,"")),h>0&&gt(k)-u&&fn(h>32?So(k+";",r,n,u-1,c):So(se(k," ","")+";",r,n,u-2,c),c);break;case 59:k+=";";default:if(fn(_=_o(k,t,n,d,l,o,a,T,I=[],D=[],u,s),s),O===123)if(l===0)Tn(k,t,_,_,I,s,u,a,D);else switch(f===99&&De(k,3)===110?100:f){case 100:case 108:case 109:case 115:Tn(e,_,_,r&&fn(_o(e,_,_,0,0,o,a,T,o,I=[],u,D),D),o,D,u,a,r?I:D);break;default:Tn(k,_,_,_,[""],D,0,a,D)}}d=l=h=0,g=v=1,T=k="",u=i;break;case 58:u=1+gt(k),h=p;default:if(g<1){if(O==123)--g;else if(O==125&&g++==0&&Fi()==125)continue}switch(k+=Xr(O),O*g){case 38:v=l>0?1:(k+="\f",-1);break;case 44:a[d++]=(gt(k)-1)*v,v=1;break;case 64:Dt()===45&&(k+=hr(ct())),f=Dt(),l=u=gt(T=k+=Wi(kn())),O++;break;case 45:p===45&&gt(k)==2&&(g=0)}}return s}function _o(e,t,n,r,o,s,i,a,c,d,l,u){for(var f=o-1,h=o===0?s:[""],p=vs(h),g=0,b=0,v=0;g<r;++g)for(var O=0,T=Qt(e,f+1,f=ms(b=i[g])),I=e;O<p;++O)(I=ys(b>0?h[O]+" "+T:se(T,/&\f/g,h[O])))&&(c[v++]=I);return Qn(e,t,n,o===0?Xn:a,c,d,l,u)}function Yi(e,t,n,r){return Qn(e,t,n,ps,Xr(Ni()),Qt(e,2,-2),0,r)}function So(e,t,n,r,o){return Qn(e,t,n,Yr,Qt(e,0,r),Qt(e,r+1,-1),r,o)}function xs(e,t,n){switch(Mi(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 4789:return dn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+dn+e+we+e+e;case 5936:switch(De(e,t+11)){case 114:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return he+e+we+e+e;case 6165:return he+e+we+"flex-"+e+e;case 5187:return he+e+se(e,/(\w+).+(:[^]+)/,he+"box-$1$2"+we+"flex-$1$2")+e;case 5443:return he+e+we+"flex-item-"+se(e,/flex-|-self/g,"")+(At(e,/flex-|baseline/)?"":we+"grid-row-"+se(e,/flex-|-self/g,""))+e;case 4675:return he+e+we+"flex-line-pack"+se(e,/align-content|flex-|-self/g,"")+e;case 5548:return he+e+we+se(e,"shrink","negative")+e;case 5292:return he+e+we+se(e,"basis","preferred-size")+e;case 6060:return he+"box-"+se(e,"-grow","")+he+e+we+se(e,"grow","positive")+e;case 4554:return he+se(e,/([^-])(transform)/g,"$1"+he+"$2")+e;case 6187:return se(se(se(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return se(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return se(se(e,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+we+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4200:if(!At(e,/flex-|baseline/))return we+"grid-column-align"+Qt(e,t)+e;break;case 2592:case 3360:return we+se(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,At(r.props,/grid-\w+-end/)})?~Ln(e+(n=n[t].value),"span",0)?e:we+se(e,"-start","")+e+we+"grid-row-span:"+(~Ln(n,"span",0)?At(n,/\d+/):+At(n,/\d+/)-+At(e,/\d+/))+";":we+se(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return At(r.props,/grid-\w+-start/)})?e:we+se(se(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return se(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gt(e)-1-t>6)switch(De(e,t+1)){case 109:if(De(e,t+4)!==45)break;case 102:return se(e,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+dn+(De(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ln(e,"stretch",0)?xs(se(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return se(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,s,i,a,c,d){return we+o+":"+s+d+(i?we+o+"-span:"+(a?c:+c-+s)+d:"")+e});case 4949:if(De(e,t+6)===121)return se(e,":",":"+he)+e;break;case 6444:switch(De(e,De(e,14)===45?18:11)){case 120:return se(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+he+(De(e,14)===45?"inline-":"")+"box$3$1"+he+"$2$3$1"+we+"$2box$3")+e;case 100:return se(e,":",":"+we)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(e,"scroll-","scroll-snap-")+e}return e}function Mn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Xi(e,t,n,r){switch(e.type){case ji:if(e.children.length)break;case Di:case Yr:return e.return=e.return||e.value;case ps:return"";case gs:return e.return=e.value+"{"+Mn(e.children,r)+"}";case Xn:if(!gt(e.value=e.props.join(",")))return""}return gt(n=Mn(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ki(e){var t=vs(e);return function(n,r,o,s){for(var i="",a=0;a<t;a++)i+=e[a](n,r,o,s)||"";return i}}function Qi(e){return function(t){t.root||(t=t.return)&&e(t)}}function Zi(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Yr:e.return=xs(e.value,e.length,n);return;case gs:return Mn([Rt(e,{value:se(e.value,"@","@"+he)})],r);case Xn:if(e.length)return Ui(n=e.props,function(o){switch(At(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qt(Rt(e,{props:[se(o,/:(read-\w+)/,":"+dn+"$1")]})),qt(Rt(e,{props:[o]})),Rr(e,{props:bo(n,r)});break;case"::placeholder":qt(Rt(e,{props:[se(o,/:(plac\w+)/,":"+he+"input-$1")]})),qt(Rt(e,{props:[se(o,/:(plac\w+)/,":"+dn+"$1")]})),qt(Rt(e,{props:[se(o,/:(plac\w+)/,we+"input-$1")]})),qt(Rt(e,{props:[o]})),Rr(e,{props:bo(n,r)});break}return""})}}var Ji={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ze={},Jt=typeof process<"u"&&Ze!==void 0&&(Ze.REACT_APP_SC_ATTR||Ze.SC_ATTR)||"data-styled",bs="active",_s="data-styled-version",Jn="6.1.19",Kr=`/*!sc*/
`,Un=typeof window<"u"&&typeof document<"u",ea=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ze!==void 0&&Ze.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ze.REACT_APP_SC_DISABLE_SPEEDY!==""?Ze.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ze.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ze!==void 0&&Ze.SC_DISABLE_SPEEDY!==void 0&&Ze.SC_DISABLE_SPEEDY!==""&&Ze.SC_DISABLE_SPEEDY!=="false"&&Ze.SC_DISABLE_SPEEDY),ta={},er=Object.freeze([]),en=Object.freeze({});function Ss(e,t,n){return n===void 0&&(n=en),e.theme!==n.theme&&e.theme||t||n.theme}var Cs=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),na=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ra=/(^-|-$)/g;function Co(e){return e.replace(na,"-").replace(ra,"")}var oa=/(a)(d)/gi,Sn=52,Ao=function(e){return String.fromCharCode(e+(e>25?39:97))};function kr(e){var t,n="";for(t=Math.abs(e);t>Sn;t=t/Sn|0)n=Ao(t%Sn)+n;return(Ao(t%Sn)+n).replace(oa,"$1-$2")}var pr,As=5381,Yt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Es=function(e){return Yt(As,e)};function Rs(e){return kr(Es(e)>>>0)}function sa(e){return e.displayName||e.name||"Component"}function gr(e){return typeof e=="string"&&!0}var Is=typeof Symbol=="function"&&Symbol.for,Ls=Is?Symbol.for("react.memo"):60115,ia=Is?Symbol.for("react.forward_ref"):60112,aa={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ca={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ks={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},la=((pr={})[ia]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pr[Ls]=ks,pr);function Eo(e){return("type"in(t=e)&&t.type.$$typeof)===Ls?ks:"$$typeof"in e?la[e.$$typeof]:aa;var t}var ua=Object.defineProperty,fa=Object.getOwnPropertyNames,Ro=Object.getOwnPropertySymbols,da=Object.getOwnPropertyDescriptor,ha=Object.getPrototypeOf,Io=Object.prototype;function Ts(e,t,n){if(typeof t!="string"){if(Io){var r=ha(t);r&&r!==Io&&Ts(e,r,n)}var o=fa(t);Ro&&(o=o.concat(Ro(t)));for(var s=Eo(e),i=Eo(t),a=0;a<o.length;++a){var c=o[a];if(!(c in ca||n&&n[c]||i&&c in i||s&&c in s)){var d=da(t,c);try{ua(e,c,d)}catch{}}}}return e}function Ut(e){return typeof e=="function"}function Qr(e){return typeof e=="object"&&"styledComponentId"in e}function Pt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Tr(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function gn(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Or(e,t,n){if(n===void 0&&(n=!1),!n&&!gn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Or(e[r],t[r]);else if(gn(t))for(var r in t)e[r]=Or(e[r],t[r]);return e}function Zr(e,t){Object.defineProperty(e,"toString",{value:t})}function Nt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var pa=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,s=o;t>=s;)if((s<<=1)<0)throw Nt(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var i=o;i<s;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(t+1),c=(i=0,n.length);i<c;i++)this.tag.insertRule(a,n[i])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var s=r;s<o;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),s=o+r,i=o;i<s;i++)n+="".concat(this.tag.getRule(i)).concat(Kr);return n},e})(),On=new Map,Nn=new Map,Pn=1,Cn=function(e){if(On.has(e))return On.get(e);for(;Nn.has(Pn);)Pn++;var t=Pn++;return On.set(e,t),Nn.set(t,e),t},ga=function(e,t){Pn=t+1,On.set(e,t),Nn.set(t,e)},ma="style[".concat(Jt,"][").concat(_s,'="').concat(Jn,'"]'),ya=new RegExp("^".concat(Jt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),va=function(e,t,n){for(var r,o=n.split(","),s=0,i=o.length;s<i;s++)(r=o[s])&&e.registerName(t,r)},wa=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Kr),o=[],s=0,i=r.length;s<i;s++){var a=r[s].trim();if(a){var c=a.match(ya);if(c){var d=0|parseInt(c[1],10),l=c[2];d!==0&&(ga(l,d),va(e,l,c[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(a)}}},Lo=function(e){for(var t=document.querySelectorAll(ma),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Jt)!==bs&&(wa(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function xa(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Os=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=(function(a){var c=Array.from(a.querySelectorAll("style[".concat(Jt,"]")));return c[c.length-1]})(n),s=o!==void 0?o.nextSibling:null;r.setAttribute(Jt,bs),r.setAttribute(_s,Jn);var i=xa();return i&&r.setAttribute("nonce",i),n.insertBefore(r,s),r},ba=(function(){function e(t){this.element=Os(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,s=r.length;o<s;o++){var i=r[o];if(i.ownerNode===n)return i}throw Nt(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e})(),_a=(function(){function e(t){this.element=Os(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),Sa=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),ko=Un,Ca={isServer:!Un,useCSSOMInjection:!ea},Fn=(function(){function e(t,n,r){t===void 0&&(t=en),n===void 0&&(n={});var o=this;this.options=je(je({},Ca),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Un&&ko&&(ko=!1,Lo(this)),Zr(this,function(){return(function(s){for(var i=s.getTag(),a=i.length,c="",d=function(u){var f=(function(v){return Nn.get(v)})(u);if(f===void 0)return"continue";var h=s.names.get(f),p=i.getGroup(u);if(h===void 0||!h.size||p.length===0)return"continue";var g="".concat(Jt,".g").concat(u,'[id="').concat(f,'"]'),b="";h!==void 0&&h.forEach(function(v){v.length>0&&(b+="".concat(v,","))}),c+="".concat(p).concat(g,'{content:"').concat(b,'"}').concat(Kr)},l=0;l<a;l++)d(l);return c})(o)})}return e.registerId=function(t){return Cn(t)},e.prototype.rehydrate=function(){!this.server&&Un&&Lo(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(je(je({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Sa(o):r?new ba(o):new _a(o)})(this.options),new pa(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Cn(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Cn(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Cn(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),Aa=/&/g,Ea=/^\s*\/\/.*$/gm;function Ps(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ps(n.children,t)),n})}function Ra(e){var t,n,r,o=en,s=o.options,i=s===void 0?en:s,a=o.plugins,c=a===void 0?er:a,d=function(f,h,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(t):f},l=c.slice();l.push(function(f){f.type===Xn&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Aa,n).replace(r,d))}),i.prefix&&l.push(Zi),l.push(Xi);var u=function(f,h,p,g){h===void 0&&(h=""),p===void 0&&(p=""),g===void 0&&(g="&"),t=g,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var b=f.replace(Ea,""),v=Vi(p||h?"".concat(p," ").concat(h," { ").concat(b," }"):b);i.namespace&&(v=Ps(v,i.namespace));var O=[];return Mn(v,Ki(l.concat(Qi(function(T){return O.push(T)})))),O};return u.hash=c.length?c.reduce(function(f,h){return h.name||Nt(15),Yt(f,h.name)},As).toString():"",u}var Ia=new Fn,Pr=Ra(),$s=ae.createContext({shouldForwardProp:void 0,styleSheet:Ia,stylis:Pr});$s.Consumer;ae.createContext(void 0);function $r(){return F.useContext($s)}var La=(function(){function e(t,n){var r=this;this.inject=function(o,s){s===void 0&&(s=Pr);var i=r.name+s.hash;o.hasNameForId(r.id,i)||o.insertRules(r.id,i,s(r.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Zr(this,function(){throw Nt(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Pr),this.name+t.hash},e})(),ka=function(e){return e>="A"&&e<="Z"};function To(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;ka(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Ds=function(e){return e==null||e===!1||e===""},js=function(e){var t,n,r=[];for(var o in e){var s=e[o];e.hasOwnProperty(o)&&!Ds(s)&&(Array.isArray(s)&&s.isCss||Ut(s)?r.push("".concat(To(o),":"),s,";"):gn(s)?r.push.apply(r,pn(pn(["".concat(o," {")],js(s),!1),["}"],!1)):r.push("".concat(To(o),": ").concat((t=o,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Ji||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Lt(e,t,n,r){if(Ds(e))return[];if(Qr(e))return[".".concat(e.styledComponentId)];if(Ut(e)){if(!Ut(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var o=e(t);return Lt(o,t,n,r)}var s;return e instanceof La?n?(e.inject(n,r),[e.getName(r)]):[e]:gn(e)?js(e):Array.isArray(e)?Array.prototype.concat.apply(er,e.map(function(i){return Lt(i,t,n,r)})):[e.toString()]}function Ms(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ut(n)&&!Qr(n))return!1}return!0}var Ta=Es(Jn),Oa=(function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Ms(t),this.componentId=n,this.baseHash=Yt(Ta,n),this.baseStyle=r,Fn.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Pt(o,this.staticRulesId);else{var s=Tr(Lt(this.rules,t,n,r)),i=kr(Yt(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,i)){var a=r(s,".".concat(i),void 0,this.componentId);n.insertRules(this.componentId,i,a)}o=Pt(o,i),this.staticRulesId=i}else{for(var c=Yt(this.baseHash,r.hash),d="",l=0;l<this.rules.length;l++){var u=this.rules[l];if(typeof u=="string")d+=u;else if(u){var f=Tr(Lt(u,t,n,r));c=Yt(c,f+l),d+=f}}if(d){var h=kr(c>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(d,".".concat(h),void 0,this.componentId)),o=Pt(o,h)}}return o},e})(),mn=ae.createContext(void 0);mn.Consumer;function sf(e){var t=ae.useContext(mn),n=F.useMemo(function(){return(function(r,o){if(!r)throw Nt(14);if(Ut(r)){var s=r(o);return s}if(Array.isArray(r)||typeof r!="object")throw Nt(8);return o?je(je({},o),r):r})(e.theme,t)},[e.theme,t]);return e.children?ae.createElement(mn.Provider,{value:n},e.children):null}var mr={};function Pa(e,t,n){var r=Qr(e),o=e,s=!gr(e),i=t.attrs,a=i===void 0?er:i,c=t.componentId,d=c===void 0?(function(I,D){var _=typeof I!="string"?"sc":Co(I);mr[_]=(mr[_]||0)+1;var k="".concat(_,"-").concat(Rs(Jn+_+mr[_]));return D?"".concat(D,"-").concat(k):k})(t.displayName,t.parentComponentId):c,l=t.displayName,u=l===void 0?(function(I){return gr(I)?"styled.".concat(I):"Styled(".concat(sa(I),")")})(e):l,f=t.displayName&&t.componentId?"".concat(Co(t.displayName),"-").concat(t.componentId):t.componentId||d,h=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,p=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;p=function(I,D){return g(I,D)&&b(I,D)}}else p=g}var v=new Oa(n,f,r?o.componentStyle:void 0);function O(I,D){return(function(_,k,x){var y=_.attrs,R=_.componentStyle,E=_.defaultProps,S=_.foldedComponentIds,L=_.styledComponentId,A=_.target,$=ae.useContext(mn),w=$r(),m=_.shouldForwardProp||w.shouldForwardProp,M=Ss(k,$,E)||en,j=(function(U,G,W){for(var Z,V=je(je({},G),{className:void 0,theme:W}),ee=0;ee<U.length;ee+=1){var le=Ut(Z=U[ee])?Z(V):Z;for(var oe in le)V[oe]=oe==="className"?Pt(V[oe],le[oe]):oe==="style"?je(je({},V[oe]),le[oe]):le[oe]}return G.className&&(V.className=Pt(V.className,G.className)),V})(y,k,M),H=j.as||A,C={};for(var P in j)j[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&j.theme===M||(P==="forwardedAs"?C.as=j.forwardedAs:m&&!m(P,H)||(C[P]=j[P]));var z=(function(U,G){var W=$r(),Z=U.generateAndInjectStyles(G,W.styleSheet,W.stylis);return Z})(R,j),N=Pt(S,L);return z&&(N+=" "+z),j.className&&(N+=" "+j.className),C[gr(H)&&!Cs.has(H)?"class":"className"]=N,x&&(C.ref=x),F.createElement(H,C)})(T,I,D)}O.displayName=u;var T=ae.forwardRef(O);return T.attrs=h,T.componentStyle=v,T.displayName=u,T.shouldForwardProp=p,T.foldedComponentIds=r?Pt(o.foldedComponentIds,o.styledComponentId):"",T.styledComponentId=f,T.target=r?o.target:e,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=r?(function(D){for(var _=[],k=1;k<arguments.length;k++)_[k-1]=arguments[k];for(var x=0,y=_;x<y.length;x++)Or(D,y[x],!0);return D})({},o.defaultProps,I):I}}),Zr(T,function(){return".".concat(T.styledComponentId)}),s&&Ts(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function Oo(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Po=function(e){return Object.assign(e,{isCss:!0})};function Us(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ut(e)||gn(e))return Po(Lt(Oo(er,pn([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Lt(r):Po(Lt(Oo(r,t)))}function Dr(e,t,n){if(n===void 0&&(n=en),!t)throw Nt(1,t);var r=function(o){for(var s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return e(t,n,Us.apply(void 0,pn([o],s,!1)))};return r.attrs=function(o){return Dr(e,t,je(je({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Dr(e,t,je(je({},n),o))},r}var Ns=function(e){return Dr(Pa,e)},J=Ns;Cs.forEach(function(e){J[e]=Ns(e)});var $a=(function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Ms(t),Fn.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var s=o(Tr(Lt(this.rules,n,r,o)),""),i=this.componentId+t;r.insertRules(i,i,s)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&Fn.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e})();function Da(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Us.apply(void 0,pn([e],t,!1)),o="sc-global-".concat(Rs(JSON.stringify(r))),s=new $a(r,o),i=function(c){var d=$r(),l=ae.useContext(mn),u=ae.useRef(d.styleSheet.allocateGSInstance(o)).current;return d.styleSheet.server&&a(u,c,d.styleSheet,l,d.stylis),ae.useLayoutEffect(function(){if(!d.styleSheet.server)return a(u,c,d.styleSheet,l,d.stylis),function(){return s.removeStyles(u,d.styleSheet)}},[u,c,d.styleSheet,l,d.stylis]),null};function a(c,d,l,u,f){if(s.isStatic)s.renderStyles(c,ta,l,f);else{var h=je(je({},d),{theme:Ss(d,u,i.defaultProps)});s.renderStyles(c,h,l,f)}}return ae.memo(i)}var yr={exports:{}},vr={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o;function ja(){if($o)return vr;$o=1;var e=Vr().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return vr.c=function(t){return e.H.useMemoCache(t)},vr}var Do;function Ma(){return Do||(Do=1,yr.exports=ja()),yr.exports}var Le=Ma();const Ua=F.createContext({loading:!1,start:()=>{},stop:()=>{}}),zt=()=>F.useContext(Ua),Fs={ftype:void 0,imgBuf:new ArrayBuffer,imgCtx:null,originalImageData:null,layers:[],currentLayer:void 0,selectedLayerIdx:-1,mode:"edit",hideSelectionOverlay:!1},Na=F.createContext({state:Fs,dispatch:()=>{}}),Me=()=>F.useContext(Na),Jr=F.createContext(null),Bs={min:0,max:2,default:1},zs={min:0,max:1,default:1},Hs={min:0,max:1,default:.5},Gs={min:2,max:12,default:6},Fa=["Vibrance","Red","Green","Blue"],jr={min:1,max:100,default:{option:"Vibrance",intensity:5}},Ba=["Vertical","Horizontal"],Mr={min:1,max:100,default:{direction:"Vertical",intensity:1}},qs={min:-100,max:0,default:-100},$n={min:1,max:20,step:1,default:1},Ur={BRIGHTNESS_RANGE:{min:0,max:2,default:1},CONTRAST_RANGE:{min:0,max:100,default:0}};var ne=(e=>(e.None="None",e.PixelSort="PixelSort",e.AsSound="AsSound",e.FractalPixelSort="FractalPixelSort",e.Brightness="Brightness",e.RGBShift="RGBShift",e.Grayscale="Grayscale",e.Slice="Slice",e.OffsetPixelSort="OffsetPixelSort",e.Duotone="Duotone",e))(ne||{});class za{past;present;future;constructor(t){this.past=[],this.present=t,this.future=[]}canUndo(){return this.past.length!==0}canRedo(){return this.future.length!==0}undo(){if(this.past.length===0)return this;const t=this.past[this.past.length-1],n=this.past.slice(0,this.past.length-1),r=this.present;return this.past=n,this.present=t,this.future=[r,...this.future],this}redo(){if(this.future.length===0)return this;const t=this.future[0],n=this.future.slice(1);return this.past=[...this.past,this.present],this.present=t,this.future=n,this}set(t){return this.past=[...this.past,this.present],this.present=t,this.future=[],this}reset(t){return this.past=[],this.present=t,this.future=[],this}}const Ha=async e=>{const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("").substring(0,12)},Bn=()=>`# ${(Math.random()*16777215<<0).toString(16).padStart(6,"0")}`,jo=44100,Ga=1e-4,wr={r:{min:30,max:500,offset:60},g:{min:500,max:2e3,offset:250},b:{min:2e3,max:1e4,offset:1e3}},qa=e=>{const[t,n,r,o]=e;return[t/255,n/255,r/255,o]},Wa=e=>e.map(t=>{const{value:n,range:r}=t,{offset:o,min:s,max:i}=r;return o+n*(i-s)}),Va=(e,t,n,r)=>{const o=Math.floor(e.length/3)*Math.floor(r*n),s=new Float32Array(o);let i=0;for(let a=0;a<e.length;a+=3){const[c,d,l]=[e[a],e[a+1],e[a+2]],[u,f,h]=[t[a],t[a+1],t[a+2]];for(let p=0;p<r*n;p++){const g=p/r,b=(u*Math.sin(2*Math.PI*c*g)+f*Math.sin(2*Math.PI*d*g)+h*Math.sin(2*Math.PI*l*g))/3;s[i++]=b}}return s},Ya=e=>{const t=new Float32Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];const s=2**4;r=Math.round(r*s)/s,Math.random()<.1&&(r=n>0?t[n-1]:r),r=Math.max(-1,Math.min(1,r*2.5)),r+=(Math.random()-.5)*.15;const a=255;r=Math.sign(r)*Math.log(1+a*Math.abs(r))/Math.log(1+a),t[n]=r}return t},Xa=(e,t)=>{const i=t*1,a=e.length*1,c=new ArrayBuffer(44+a),d=new DataView(c);An(d,0,"RIFF"),d.setUint32(4,36+a,!0),An(d,8,"WAVE"),An(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,7,!0),d.setUint16(22,1,!0),d.setUint32(24,t,!0),d.setUint32(28,i,!0),d.setUint16(32,1,!0),d.setUint16(34,8,!0),An(d,36,"data"),d.setUint32(40,a,!0);const l=44;for(let u=0;u<e.length;u++){const f=Math.max(-1,Math.min(1,e[u]));d.setUint8(l+u,f*127+128|0)}return new Uint8Array(c)},An=(e,t,n)=>{for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},Ka=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,{width:o,height:s}=e.canvas,i=e.getImageData(0,0,o,s),a=i.data;new Uint8Array(o*s).fill(1);let d;return r.config.cache.length===0?d=Qa(a,n,o,s):d=r.config.cache,Za(a,d,n,r.config.blend),e.putImageData(i,0,0),{updatedSelection:{...t.selection,config:{...r.config,cache:d}}}},Qa=(e,t,n,r)=>{const o=[],s=[];for(let u=0;u<t.length;u++){const f=t[u]*4,h=qa(new Uint8Array([e[f],e[f+1],e[f+2]]));Wa([{value:h[0],range:wr.r},{value:h[1],range:wr.g},{value:h[2],range:wr.b}]).forEach(p=>{s.push(p)}),o.push(h[0],h[1],h[2])}const i=Va(o,s,Ga,jo);if(!i)return new Uint8ClampedArray;const a=Ya(i),c=Xa(a,jo),d=new Uint8ClampedArray(n*r*4),l=c.length;for(let u=0;u<d.length;u+=l){const f=d.length-u;f>=l?d.set(c,u):d.set(c.subarray(0,f),u)}return d},Za=(e,t,n,r)=>{for(let o=0;o<n.length;o++){const s=n[o]*4;e[s]=e[s]*(1-r)+t[s]*r,e[s+1]=e[s+1]*(1-r)+t[s+1]*r,e[s+2]=e[s+2]*(1-r)+t[s+2]*r}};class Je{channel;startingIdx;constructor(t,n=0){if(t.length!==4)for(let r=t.length;r<4;r++)t[r]=0;t.forEach(r=>{if(!Number.isInteger(r))throw new Error("value must be an integer");if(r<0||r>255)throw new Error("value range must be within 0..255")}),this.channel=t,this.startingIdx=n}get red(){return this.channel[0]}get green(){return this.channel[1]}get blue(){return this.channel[2]}get alpha(){return this.channel[3]}normalizeRGBValue=t=>Math.min(255,Math.max(0,t));brightness(){const t=this.red/255,n=this.green/255,r=this.blue/255;let o,s;return o=t,s=t,n>o&&(o=n),r>o&&(o=r),n<s&&(s=n),r<s&&(s=r),(o+s)/2}}const Ct=(e,t,n)=>{const r=e.getBoundingClientRect(),o=e.width/r.width,s=e.height/r.height;return{x:Math.round((t-r.left)*o),y:Math.round((n-r.top)*s)}},Mo=e=>{const{drawing:{width:t,height:n,minX:r,minY:o},mouse:s}=e;return s.x>=r&&s.x<=r+t&&s.y>=o&&s.y<=o+n},Uo=e=>{const t=e.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},Ws=(e,t,n)=>{for(let r=0;r<t.length;r++){const o=t[r]*4,{red:s,blue:i,green:a}=new Je(e.slice(o,o+4));e[o]=s*n,e[o+1]=a*n,e[o+2]=i*n}},Vs=(e,t,n)=>{for(let r=0;r<t.length;r++){const o=t[r]*4,{red:s,blue:i,green:a}=new Je(e.slice(o,o+4)),c=Math.round((.299*s+.587*a+.114*i)*1);e[o]=s*(1-n)+c*n,e[o+1]=a*(1-n)+c*n,e[o+2]=i*(1-n)+c*n}},Ja=(e,t,n)=>{n*=2.55;const r=(255+n)/(255.01-n);for(let o=0;o<t.length;o++){const s=t[o]*4,{red:i,blue:a,green:c}=new Je(e.slice(s,s+4));e[s]=r*(i-128)+128,e[s+1]=r*(c-128)+128,e[s+2]=r*(a-128)+128}},ec=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;return Ws(s,n,r.config.intensity),e.putImageData(o,0,0),{updatedSelection:t.selection}},tc=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,{width:o,height:s}=e.canvas,i=e.getImageData(0,0,o,s),a=i.data;Ws(a,n,r.config.brightness),Vs(a,n,1),Ja(a,n,r.config.contrast);const c=Uo(r.config.highlightsColor);for(let l=0;l<n.length;l++){const u=n[l]*4;a[u]=a[u]*c.r/255,a[u+1]=a[u+1]*c.g/255,a[u+2]=a[u+2]*c.b/255}const d=Uo(r.config.shadowsColor);for(let l=0;l<n.length;l++){const u=n[l]*4;a[u]=Math.max(a[u],d.r),a[u+1]=Math.max(a[u+1],d.g),a[u+2]=Math.max(a[u+2],d.b)}return e.putImageData(i,0,0),{updatedSelection:t.selection}},nc=({imageCanvas:e,layer:t,selectionArea:n,refresh:r})=>{const o=t.selection;let s;return o.config.cache.length===0||r?s=rc(e,o.config.intensity):s=o.config.cache,sc(e,s,n),{updatedSelection:{...t.selection,config:{...o.config,cache:s}}}},rc=(e,t)=>{const n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=new Uint8ClampedArray(n.data);for(let c=r.length-1;c>0;c--)r[c*t%r.length]<r[c]&&(r[c]=r[c*t%r.length]);const o=e.canvas.width,s=e.canvas.height,i=Math.round(Math.random()*(o-10)+10),a=Math.round(Math.random()*(o-10)+i);for(let c=0;c<s;c++)for(let d=0;d<o;d++){const l=(d+c*o)*4,{red:u,blue:f,green:h}=new Je(r.slice(l,l+4)),p=Math.floor(Math.random()*2);oc(r,l,i,a,p,u,h,f)}return r},oc=(e,t,n,r,o,s,i,a)=>{if(o===0){if(t+n+1>e.length-1)return;r%3===0?(e[t]=a,e[t+n]=s,e[t+n+1]=i):r%3===1?(e[t]=s,e[t+n]=a,e[t+n+1]=i):(e[t]=s,e[t+n]=a)}else{if(t-n<0)return;r%3===0?(e[t]=a,e[t-n]=i,e[t-n+1]=s):r%3===1?(e[t+1]=a,e[t-n]=a):(e[t]=i,e[t-n]=a,e[t-n+1]=s)}},sc=(e,t,n)=>{const r=e.getImageData(0,0,e.canvas.width,e.canvas.height),o=r.data;for(let s=0;s<n.length;s++){const i=n[s]*4,{red:a,blue:c,green:d}=new Je(t.slice(i,i+4));o[i]=a,o[i+1]=c,o[i+2]=d}e.putImageData(r,0,0)},ic=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;return Vs(s,n,r.config.intensity),e.putImageData(o,0,0),{updatedSelection:t.selection}},ac=({layer:e,imageCanvas:t,selectionArea:n,refresh:r})=>{const o=e.selection,s=t.canvas.width,i=t.canvas.height,a=o.config.intensity;let c;if(o.config.cache.length===0||r){const u=document.createElement("canvas");u.width=s,u.height=i;const f=u.getContext("2d");f.drawImage(t.canvas,0,0);const h=document.createElement("canvas");h.width=s,h.height=i;const p=h.getContext("2d");p.drawImage(t.canvas,0,0);const g=a*a/100*s;for(let y=0;y<a*2;y++){const R=Wt(0,i),E=Math.min(Wt(1,Math.floor(i/4)),i-R),S=Wt(-g,g);if(S!==0)if(S<0){const L=-S;f.drawImage(h,L,R,s+S,E,0,R,s+S,E),f.drawImage(h,0,R,L,E,s+S,R,L,E)}else S>0&&(f.drawImage(h,0,R,s,E,S,R,s,E),f.drawImage(h,s-S,R,S,E,0,R,S,E))}const b=f.getImageData(0,0,s,i),v=b.data,T=p.getImageData(0,0,s,i).data,I=Wt(0,2),D=Wt(-a*2,a*2),_=Wt(-a*2,a*2);for(let y=0;y<i;y++)for(let R=0;R<s;R++){const E=D+R,S=_+y;if(E<0||E>=s||S<0||S>=i)continue;const L=(E+S*s)*4,A=(R+y*s)*4,$=new Je(T.slice(A,A+4)),w=new Je(v.slice(L,L+4));let m;I===0?m={red:$.red,green:w.green,blue:w.blue,alpha:w.alpha}:I===1?m={red:w.red,green:$.green,blue:w.blue,alpha:w.alpha}:m={red:w.red,green:w.green,blue:$.blue,alpha:w.alpha},!(L<0||L+4>v.length)&&(v[L]=m.red,v[L+1]=m.green,v[L+2]=m.blue,v[L+3]=m.alpha)}f.putImageData(b,0,0),c=f.getImageData(0,0,s,i).data}else c=o.config.cache;const d=t.getImageData(0,0,s,i),l=d.data;for(let u=0;u<n.length;u++){const f=n[u]*4,{red:h,green:p,blue:g,alpha:b}=new Je(c.slice(f,f+4));l[f]=h,l[f+1]=p,l[f+2]=g,l[f+3]=b}return t.putImageData(d,0,0),{updatedSelection:{...e.selection,config:{...o.config,cache:c}}}},Wt=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,cc=({imageCanvas:e,layer:t,selectionArea:n,refresh:r})=>{const o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data,i=e.canvas.width,a=e.canvas.height,c=t.selection,d=c.config.intensity,l=c.config.direction;let u;c.config.cache.length===0||r?(u=new Uint8ClampedArray(s.length),u.set(s),l==="Vertical"?lc(u,i,a,d):uc(u,i,a,d)):u=c.config.cache;for(let f=0;f<n.length;f++){const h=n[f]*4,{red:p,green:g,blue:b}=new Je(u.slice(h,h+4));s[h]=p,s[h+1]=g,s[h+2]=b}return e.putImageData(o,0,0),{updatedSelection:c}},lc=(e,t,n,r)=>{for(let o=0;o<t;o++){let s=[],i=!0,a=-1;for(let c=0;c<n;c++){const d=(c*t+o)*4,l=new Je(e.slice(d,d+4));if(l.brightness()>r/100){if(!i&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=((u+a)*t+o)*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],i=!0}}else i&&(a=c,i=!1),s.push({color:l,y:c})}if(!i&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=((c+a)*t+o)*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},uc=(e,t,n,r)=>{for(let o=0;o<n;o++){let s=[],i=!0,a=-1;for(let c=0;c<t;c++){const d=(o*t+c)*4,l=new Je(e.slice(d,d+4));if(l.brightness()>r/100){if(!i&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=(o*t+(u+a))*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],i=!0}}else i&&(a=c,i=!1),s.push({color:l,y:o})}if(!i&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=(o*t+(c+a))*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},fc=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;for(let i=0;i<n.length;i++){const a=n[i]*4,{red:c,blue:d,green:l,normalizeRGBValue:u}=new Je(s.slice(a,a+4),a),f=r.config.intensity;if(r.config.effect==="Vibrance"){const h=Math.max(c,l,d),p=(c+l+d)/3,g=Math.abs(h-p)*2/255*-f/100;c!==h&&(s[a]=c+(h-c)*g),l!==h&&(s[a+1]=l+(h-l)*g),d!==h&&(s[a+2]=d+(h-d)*g)}else r.config.effect==="Red"?(s[a]=u(c+f),s[a+1]=u(l-f),s[a+2]=u(d-f)):r.config.effect==="Green"?(s[a]=u(c-f),s[a+1]=u(l+f),s[a+2]=u(d-f)):r.config.effect==="Blue"&&(s[a]=u(c-f),s[a+1]=u(l-f),s[a+2]=u(d+f))}return e.putImageData(o,0,0),{updatedSelection:t.selection}},dc=({layer:e,imageCanvas:t,selectionArea:n})=>{const r=e.selection,o=t.getImageData(0,0,t.canvas.width,t.canvas.height),s=o.data,i=t.canvas.width,a=t.canvas.height,c=r.config.intensity/10;let d=-1;const l=new Uint8ClampedArray(s.length);l.set(s);for(let u=0;u<i;u++){Math.random()>.95&&(d=Math.floor(((1-c)*Math.random()+c)*a)),Math.random()>.95&&(d=0);for(let f=0;f<a;f++){const h=(f*i+u)*4;let p=f+d;p>a-1&&(p=p-a);const g=(u+p*i)*4;for(let b=0;b<4;b++)g+b<0||g+b>l.length||(l[g+b]=l[h+b])}}for(let u=0;u<n.length;u++){const f=n[u]*4,{red:h,green:p,blue:g}=new Je(l.slice(f,f+4));s[f]=h,s[f+1]=p,s[f+2]=g}return t.putImageData(o,0,0),{updatedSelection:e.selection}},hc=({layer:e})=>({updatedSelection:e.selection}),Ys={[ne.AsSound]:"Data-as-Sound",[ne.FractalPixelSort]:"Fractal Pixel Sort",[ne.Brightness]:"Brightness",[ne.Grayscale]:"Grayscale",[ne.RGBShift]:"RGB Shift",[ne.None]:"No Filter",[ne.PixelSort]:"Pixel Sort",[ne.Slice]:"Slice",[ne.OffsetPixelSort]:"Offset Pixel Sort",[ne.Duotone]:"Duotone Filter"},pc={[ne.AsSound]:Ka,[ne.FractalPixelSort]:nc,[ne.Brightness]:ec,[ne.Grayscale]:ic,[ne.RGBShift]:fc,[ne.None]:hc,[ne.PixelSort]:cc,[ne.Slice]:dc,[ne.OffsetPixelSort]:ac,[ne.Duotone]:tc};var X=(e=>(e[e.SetOriginalAreaData=0]="SetOriginalAreaData",e[e.CreateNewLayer=1]="CreateNewLayer",e[e.SetPointsToLayer=2]="SetPointsToLayer",e[e.SelectLayer=3]="SelectLayer",e[e.GetSelectedLayerPoint=4]="GetSelectedLayerPoint",e[e.ClearLayers=5]="ClearLayers",e[e.DoLayerAction=6]="DoLayerAction",e[e.UndoLayer=7]="UndoLayer",e[e.RedoLayer=8]="RedoLayer",e[e.UpdateLayer=9]="UpdateLayer",e[e.UpdateLayerSelection=10]="UpdateLayerSelection",e[e.DeleteLayer=11]="DeleteLayer",e[e.MoveLayer=12]="MoveLayer",e[e.DuplicateLayer=13]="DuplicateLayer",e[e.ResetImageCanvas=14]="ResetImageCanvas",e[e.GenerateResult=15]="GenerateResult",e[e.UpdateState=16]="UpdateState",e))(X||{});function En(e,t){return t>=0&&t<e}const No=e=>({[ne.None]:{_empty:!0},[ne.AsSound]:{blend:Hs.default,cache:new Uint8ClampedArray},[ne.FractalPixelSort]:{intensity:Gs.default,cache:new Uint8ClampedArray},[ne.Brightness]:{intensity:Bs.default},[ne.RGBShift]:{intensity:jr.default.intensity,effect:jr.default.option},[ne.Grayscale]:{intensity:zs.default},[ne.PixelSort]:{cache:new Uint8ClampedArray,intensity:Mr.default.intensity,direction:Mr.default.direction},[ne.Slice]:{intensity:qs.default},[ne.OffsetPixelSort]:{intensity:$n.default,cache:new Uint8ClampedArray},[ne.Duotone]:{brightness:Ur.BRIGHTNESS_RANGE.default,contrast:Ur.CONTRAST_RANGE.default,highlightsColor:"#ffefb3",shadowsColor:"#290900"}})[e],af=(e,t)=>{switch(t.type){case 1:{const n={points:[],start:{x:0,y:0},filter:ne.None,config:No(ne.None),selectionArea:new Uint32Array},r={selection:n,ctx:null,color:Bn(),commands:new za(n)},o=[...e.layers,r],s=o.length-1;return{...e,layers:o,selectedLayerIdx:s,currentLayer:o[s]}}case 2:{const n=e.selectedLayerIdx;if(!En(e.layers.length,n))return e;const r=e.layers.slice(),o=r[n],i={...o.selection,start:t.payload.start,points:t.payload.points},a={...o,selection:i,commands:o.commands.set(i)};return r[n]=a,{...e,layers:r}}case 3:{const n=t.payload;if(!En(e.layers.length,n))return{...e};for(let r=0;r<e.layers.length;r++){const o=e.layers[r].ctx;if(!o)continue;const s=Number(o.canvas.id.replace("drawing-canvas-",""));n===s?(o.canvas.classList.add("active"),o.canvas.style.pointerEvents="auto"):(o.clearRect(0,0,o.canvas.width,o.canvas.height),o.canvas.classList.remove("active"),o.canvas.style.pointerEvents="none")}return{...e,selectedLayerIdx:n,currentLayer:e.layers[n]}}case 9:{if(!En(e.layers.length,e.selectedLayerIdx))return e;const n=e.layers.map(o=>({...o}));n[t.payload.layerIdx]={...n[t.payload.layerIdx],...t.payload.pselection};const r=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:n,currentLayer:r?n[t.payload.layerIdx]:e.currentLayer}}case 10:{const{layerIdx:n,pselection:r,withUpdateInitialPresent:o}=t.payload;if(!En(e.layers.length,e.selectedLayerIdx))return e;const s=e.layers.slice(),i=s[n],a=i.selection,c=r.filter??a.filter,d=r.filter&&r.filter!==a.filter?No(c):{...a.config,...r.config||{}},l={...a,...r,filter:c,config:d},u={...i,selection:l};o?u.commands.present={...i.selection}:u.commands=i.commands.set(l),s[n]=u;const f=n===e.selectedLayerIdx;return{...e,layers:s,currentLayer:f?u:e.currentLayer}}case 5:return{...Fs,imgCtx:null,originalImageData:null};case 6:{const n=e.layers.map(o=>({...o})),r=n[e.selectedLayerIdx];if(t.payload==="undo"){if(!r.commands.canUndo())return e;r.commands=r.commands.undo()}else{if(!r.commands.canRedo())return console.log("cant redo"),e;r.commands=r.commands.redo()}return r.selection=r.commands.present,{...e,layers:n,currentLayer:r}}case 11:{let n=t.payload;const r=e.layers[n];r?.ctx?.canvas&&r.ctx.canvas.remove();const o=[...e.layers].filter((s,i)=>i!==n);for(let s=0;s<o.length;s++){const i=o[s].ctx;i?.canvas&&(i.canvas.id=`drawing-canvas-${s}`)}return o.length===0?n=-1:n>=o.length&&(n=o.length-1),{...e,layers:o,selectedLayerIdx:n,currentLayer:o[n]}}case 12:{const n=t.payload.layerIdx,r=t.payload.direction==="up"?n-1:n+1;if(r<0||r>=e.layers.length)return e;const o=e.layers.map(d=>({...d})),[s]=o.splice(n,1);o.splice(r,0,s);const i=o[r].ctx,a=o[n].ctx;o[r]={...o[r],ctx:a},o[n]={...o[n],ctx:i};const c=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:o,selectedLayerIdx:c?r:e.selectedLayerIdx,currentLayer:c?o[r]:e.currentLayer}}case 13:{const n=document.getElementById("canvasContainer");if(!n)throw new Error("could not find #canvasContainer");const r=e.layers[t.payload],o=document.createElement("canvas");if(!r.ctx)throw new Error("currDuplicatedLayer has no canvas context");o.width=r.ctx.canvas.width,o.height=r.ctx.canvas.height;const s=o.getContext("2d");s.drawImage(r.ctx.canvas,0,0);const i={...r,color:Bn(),ctx:s},a=[...e.layers];if(a.splice(t.payload+1,0,i),!i.ctx)throw new Error("duplicatedLayer has no canvas context");const c=t.payload+2,d=a[c]?.ctx?.canvas;Object.assign(i.ctx.canvas.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),d?n.insertBefore(i.ctx.canvas,d):n.appendChild(i.ctx.canvas);let l=e.selectedLayerIdx;t.payload<l&&l++;for(let u=t.payload+1;u<a.length;u++){const f=a[u];if(!f.ctx?.canvas)continue;const h=f.ctx.canvas,p=f.ctx;h.id=`drawing-canvas-${u}`,u===l?(h.classList.add("active"),h.style.pointerEvents="auto"):(p.clearRect(0,0,h.width,h.height),h.classList.remove("active"),h.style.pointerEvents="none")}return{...e,layers:a,selectedLayerIdx:l,currentLayer:a[l]}}case 15:{const n=e.imgCtx;if(!n)return e;let r=e.layers,o=!1,s=!1;t.payload?.refreshIdx===-1&&(s=!0);for(let i=0;i<e.layers.length;i++){const a=e.layers[i],{filter:c,selectionArea:d}=a.selection;if(!d)continue;const l=pc[c];if(!l)continue;t.payload?.refreshIdx===i&&(s=!0);const{updatedSelection:u}=l({imageCanvas:n,layer:{...a,selection:{...a.selection}},selectionArea:d,refresh:s??t.payload?.refreshIdx===i});u!==a.selection&&(o||(r=e.layers.slice(),o=!0),r[i]={...a,selection:u})}return o?{...e,layers:r}:e}case 14:{const n=e.imgCtx;if(!n)return e;if(!e.originalImageData)throw new Error("Original image data is not defined");return n.putImageData(e.originalImageData,0,0),e}case 16:{const{key:n,value:r}=t.payload;return{...e,[n]:r}}default:return e}};class gc{points;startPoint;mouseStartPos={x:0,y:0};selectionArea;isDrawing=!1;cwidth;cheight;isAllArea;constructor(){this.points=[],this.startPoint=null,this.mouseStartPos={x:0,y:0},this.selectionArea=null,this.isDrawing=!1,this.cwidth=0,this.cheight=0,this.isAllArea=!1}begin(t){this.isDrawing=!0,this.startPoint=t,this.points=[t],this.selectionArea||(this.selectionArea=new Uint8Array(this.cwidth*this.cheight))}update(t){this.isDrawing&&this.points.push(t)}finish(){this.isDrawing&&(this.points.length<=1&&this.selectAllArea(),this.isDrawing=!1)}reset(){this.points=[],this.startPoint=null,this.selectionArea=null,this.isDrawing=!1,this.isAllArea=!1}loadSelection(t,n){this.points=t,this.startPoint=n}selectAllArea(){this.points=[{x:0,y:0},{x:this.cwidth-1,y:0},{x:this.cwidth-1,y:this.cheight-1},{x:0,y:this.cheight-1}],this.startPoint=this.points[0],this.isAllArea=!0}fillSelectionArea(t){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(const n of t){const r=n.y*this.cwidth+n.x;this.selectionArea[r]=1}}getSelectArea(){if(!(this.points.length<=1)){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(let t=0;t<this.cwidth;t++)for(let n=0;n<this.cheight;n++)if(this.pointInPolygon({x:t,y:n},this.points)){const r=n*this.cwidth+t;this.selectionArea[r]=1}}}getSelectedAreaCoords(){if(!this.selectionArea)return null;const t=this.selectionArea;let n=0;for(let s=0;s<t.length;s++)t[s]===1&&n++;const r=new Uint32Array(n);let o=0;for(let s=0;s<t.length;s++)t[s]===1&&(r[o++]=s);return r}moveSelection(t,n){this.points=this.points.map(r=>({x:r.x+t,y:r.y+n,data:r.data})),this.startPoint={x:this.startPoint.x+t,y:this.startPoint.y+n}}getPointsBoundingBox(){let t=1/0,n=1/0,r=-1/0,o=-1/0;for(const{x:a,y:c}of this.points)a<t&&(t=a),c<n&&(n=c),a>r&&(r=a),c>o&&(o=c);const s=r-t+1,i=o-n+1;return[s,i,t,n]}pointInPolygon(t,n){let r=!1,o=n.length-1;for(let s=0;s<n.length;s++){const i=n[s].x,a=n[s].y,c=n[o].x,d=n[o].y;a>t.y!=d>t.y&&t.x<(c-i)*(t.y-a)/(d-a)+i&&(r=!r),o=s}return r}renderSelection(t,n,r){if(!this.startPoint)return;t.clearRect(0,0,n.width,n.height),t.setLineDash([5,3]),t.strokeStyle=r;const o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(s,i,a,c)=>`#${i}${i}${a}${a}${c}${c}`).substring(1).match(/.{2}/g)?.map(s=>parseInt(s,16))??[0,0,0];t.fillStyle=`rgb(${o[0]}, ${o[1]}, ${o[2]}, 0.3)`,t.lineWidth=2,t.beginPath();for(let s=0;s<this.points.length;s++){const i=this.points[s];s===0?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}t.lineTo(this.startPoint.x,this.startPoint.y),t.fill(),t.stroke(),t.closePath(),t.setLineDash([])}}function cf(e){const{start:t,stop:n}=zt(),{state:r,dispatch:o}=Me(),s=F.useContext(Jr),i=F.useRef(null),a=F.useRef(null),c=F.useRef(new gc),[d,l]=F.useState([]),[u,f]=F.useState(!1),h=F.useCallback(p=>d.findIndex(g=>g.identifier===p),[d]);return F.useEffect(()=>{if(r.imgBuf.byteLength===0||!i.current)return;const p=i.current,g=p?.getContext("2d",{willReadFrequently:!0});if(!g)return;const b=a.current;if(!b)return;b.querySelectorAll('[id^="drawing-canvas-"]').forEach(D=>{D.remove()}),t();const O=new Blob([r.imgBuf]),T=URL.createObjectURL(O),I=new Image;I.onload=()=>{p.width=I.naturalWidth,p.height=I.naturalHeight,g.drawImage(I,0,0),o({type:X.UpdateState,payload:{key:"imgCtx",value:g}}),new Uint8Array(I.naturalWidth*I.naturalHeight).fill(1),c.current.cwidth=I.naturalWidth,c.current.cheight=I.naturalHeight,o({type:X.UpdateState,payload:{key:"originalImageData",value:g.getImageData(0,0,g.canvas.width,g.canvas.height)}}),n()},I.onerror=()=>{n(),console.error("Failed to load image")},I.src=T},[r.imgBuf,o,t,n]),F.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`);if(!g)return;const b=r.currentLayer?.ctx;if(!b){console.log("drawingCanvasCtx empty in register");return}const v=S=>{const L=Ct(g,S.clientX,S.clientY);c.current.reset(),c.current.begin(L),c.current.renderSelection(b,g,r.currentLayer.color)},O=S=>{if(!c.current.isDrawing)return;const L=Ct(g,S.clientX,S.clientY);c.current.update(L),c.current.renderSelection(b,g,r.currentLayer.color)},T=()=>{c.current.isDrawing&&(c.current.finish(),b.clearRect(0,0,g.width,g.height),c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:L}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:S,start:L}}),!i.current?.getContext("2d"))return;const w=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:w},withUpdateInitialPresent:!0}});const[,,m,M]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:m,y:M},o({type:X.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),n()}))},I=S=>{S.preventDefault();const L=S.changedTouches;if(L.length>0){const A=Ct(g,L[0].clientX,L[0].clientY);c.current.reset(),c.current.begin(A),l([L[0]]),c.current.renderSelection(b,g,r.currentLayer.color)}},D=S=>{if(!c.current.isDrawing)return;const L=S.changedTouches;for(let A=0;A<L.length;A++){const $=h(L[A].identifier);if($>=0){const w=Ct(g,L[A].clientX,L[A].clientY);c.current.update(w),l(m=>{const M=[...m];return M.splice($,1,L[A]),M})}}c.current.renderSelection(b,g,r.currentLayer.color)},_=S=>{if(!c.current.isDrawing)return;S.preventDefault(),c.current.finish();const L=S.changedTouches;for(let A=0;A<L.length;A++){const $=h(L[A].identifier);$>=0&&l(w=>w.filter((m,M)=>M!==$))}c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:A,startPoint:$}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:A,start:$}}),!i.current?.getContext("2d"))return;const M=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:M},withUpdateInitialPresent:!0}});const[,,j,H]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:j,y:H},o({type:X.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),n()})},k=S=>{S.preventDefault();const L=S.changedTouches;for(let A=0;A<L.length;A++){const $=h(L[A].identifier);$>=0&&l(w=>w.filter((m,M)=>M!==$))}c.current.finish()},x=()=>{c.current.isDrawing&&(document.addEventListener("mousemove",y),document.addEventListener("mouseup",R))},y=S=>{if(!c.current.isDrawing)return;let L=Ct(g,S.clientX,S.clientY);const A=g.width,$=g.height;L={x:Math.max(0,Math.min(A,L.x)),y:Math.max(0,Math.min($,L.y))},c.current.points.push(L),c.current.renderSelection(b,g,r.currentLayer.color)},R=()=>{c.current.isDrawing&&(document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",R),c.current.finish(),b.clearRect(0,0,g.width,g.height),c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:L}=c.current;o({type:X.SetPointsToLayer,payload:{points:S,start:L}}),i.current?.getContext("2d")&&(o({type:X.GenerateResult}),n())}))},E=new AbortController;return r.mode==="edit"&&(g.addEventListener("mousedown",v,E),g.addEventListener("mousemove",O,E),g.addEventListener("mouseup",T,E),g.addEventListener("touchstart",I,E),g.addEventListener("touchmove",D,E),g.addEventListener("touchend",_,E),g.addEventListener("touchcancel",k,E),g.addEventListener("mouseout",x,E)),()=>{E.abort()}},[r.selectedLayerIdx,r.currentLayer,r.mode,o,h,t,n,s?.isActive,s?.getCurrentStep,s?.next]),F.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`);if(!r.currentLayer?.selection)return;const{points:b,start:v}=r.currentLayer.selection;if(c.current.reset(),c.current.loadSelection(b,v),g&&r.currentLayer?.ctx&&(b.length===0&&r.currentLayer.ctx?.clearRect(0,0,g?.width,g?.height),c.current.renderSelection(r.currentLayer.ctx,g,r.currentLayer.color)),r.selectedLayerIdx>=0&&!r.currentLayer?.ctx){const O=a.current;if(!O)return;const T=i.current,I=document.createElement("canvas");T&&(I.width=T.width,I.height=T.height),I.id=`drawing-canvas-${r.selectedLayerIdx}`,Object.assign(I.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),O.appendChild(I);const D=I.getContext("2d");o({type:X.UpdateLayer,payload:{layerIdx:r.selectedLayerIdx,pselection:{ctx:D}}})}},[r.selectedLayerIdx,r.currentLayer,r.currentLayer?.commands.present,o]),F.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`),b=r.currentLayer;if(b&&!(!g||!b.ctx)&&r.mode==="move"){const v=b.ctx;if(!v||!g.getContext("2d"))return;const T=R=>{R.preventDefault();const{x:E,y:S}=Ct(g,R.clientX,R.clientY),[L,A,$,w]=c.current.getPointsBoundingBox();Mo({drawing:{width:L,height:A,minX:$,minY:w},mouse:{x:E,y:S}})&&(f(!0),c.current.mouseStartPos={x:E,y:S})},I=R=>{u&&(R.preventDefault(),f(!1),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:E,startPoint:S}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:E,start:S}}),!i.current?.getContext("2d",{willReadFrequently:!0}))return;const $=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:$},withUpdateInitialPresent:!0}}),o({type:X.GenerateResult}),n()}))},D=R=>{const{x:E,y:S}=Ct(g,R.clientX,R.clientY),L=c.current.mouseStartPos;if(!L||!u)return;const A=E-L.x,$=S-L.y;c.current.moveSelection(A,$),c.current.mouseStartPos={x:E,y:S},c.current.renderSelection(v,g,b.color)},_=R=>{R.preventDefault();const E=R.changedTouches;if(E.length>0){const{x:S,y:L}=Ct(g,E[0].clientX,E[0].clientY),[A,$,w,m]=c.current.getPointsBoundingBox();if(!Mo({drawing:{width:A,height:$,minX:w,minY:m},mouse:{x:S,y:L}}))return;f(!0),c.current.mouseStartPos={x:S,y:L}}},k=R=>{R.preventDefault();const E=R.changedTouches;if(E.length===0)return;const{x:S,y:L}=Ct(g,E[0].clientX,E[0].clientY),A=c.current.mouseStartPos;if(!A||!u)return;const $=S-A.x,w=L-A.y;c.current.moveSelection($,w),c.current.mouseStartPos={x:S,y:L},c.current.renderSelection(v,g,r.currentLayer.color)},x=R=>{u&&(R.preventDefault(),f(!1),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:E,startPoint:S}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:E,start:S}}),!i.current?.getContext("2d",{willReadFrequently:!0}))return;const $=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:$},withUpdateInitialPresent:!0}}),o({type:X.GenerateResult}),n()}))},y=new AbortController;return g.addEventListener("mousedown",T,y),g.addEventListener("mouseup",I,y),g.addEventListener("mousemove",D,y),g.addEventListener("touchstart",_,y),g.addEventListener("touchmove",k,y),g.addEventListener("touchend",x,y),()=>{y.abort()}}},[r.mode,r.currentLayer,r.selectedLayerIdx,u,o,t,n]),F.useEffect(()=>{o({type:X.SelectLayer,payload:r.selectedLayerIdx})},[r.selectedLayerIdx,o]),F.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`),b=r.currentLayer;b&&(!g||!b.ctx||(r.hideSelectionOverlay?b.ctx.clearRect(0,0,g.width,g.height):c.current.renderSelection(b.ctx,g,r.currentLayer.color)))},[r.hideSelectionOverlay,r.currentLayer,r.selectedLayerIdx]),B.jsx("div",{id:"canvasContainer",ref:a,style:{position:"relative",display:"inline-block",lineHeight:0},...e,children:B.jsx("canvas",{id:"imageCanvas",ref:i,style:{display:"block",maxWidth:"100%",height:"auto"}})})}const mc="modulepreload",yc=function(e){return"/bendor/"+e},Fo={},vc=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(l=>Promise.resolve(l).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=c(n.map(d=>{if(d=yc(d),d in Fo)return;Fo[d]=!0;const l=d.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":mc,l||(f.as="script"),f.crossOrigin="",f.href=d,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},lf=Da`
  @font-face {
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    box-sizing: border-box;
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
  }
  
  /* html reset */
  html,
  body,
  div,
  span,
  applet,
  object,
  iframe,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  a,
  abbr,
  acronym,
  address,
  big,
  cite,
  code,
  del,
  dfn,
  em,
  img,
  ins,
  kbd,
  q,
  s,
  samp,
  small,
  strike,
  strong,
  sub,
  sup,
  tt,
  var,
  b,
  u,
  i,
  center,
  dl,
  dt,
  dd,
  ol,
  ul,
  li,
  fieldset,
  form,
  label,
  legend,
  table,
  caption,
  tbody,
  tfoot,
  thead,
  tr,
  th,
  td,
  article,
  aside,
  canvas,
  details,
  embed,
  figure,
  figcaption,
  footer,
  header,
  hgroup,
  menu,
  nav,
  output,
  ruby,
  section,
  summary,
  time,
  mark,
  audio,
  video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    vertical-align: baseline;
  }
  
  /* HTML5 display-role reset for older browsers */
  article,
  aside,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  menu,
  nav,
  section {
    display: block;
  }
  
  body {
    line-height: 1;
    background-repeat: repeat;
    background-image: url("./grid_patterns.png");
  }
  
  ol,
  ul {
    list-style: none;
  }
  
  blockquote,
  q {
    quotes: none;
  }
  
  blockquote:before,
  blockquote:after,
  q:before,
  q:after {
    content: "";
    content: none;
  }
  
  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  button {
    all: unset;
  }

  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  select::-ms-expand {
    display: none;
  }

  .react-colorful__saturation {
    border-radius: 0px !important;
  }

  .react-colorful__hue {
    border-radius: 0px !important;
  }

  .react-colorful__last-control {
    border-radius: 0px !important;
  }

  .onboarding {
    border: 2px solid ${({theme:e})=>e.colors.primary};
    border-radius: 0px;
  }

  .shepherd-modal-overlay-container {
    opacity: 0.6 !important;
  }

  .shepherd-title {
    color: ${({theme:e})=>e.colors.primary};
  }

  .shepherd-element .shepherd-arrow:after {
    content: url('./images/arrow.svg');
    color: #0062f6ff;
    display: inline-block;
  }

  .shepherd-element .shepherd-arrow {
    border-width: 0;
    height: auto;
    width: auto;
  }

  .shepherd-arrow::before {
    display: none;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow {
    bottom: -35px;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow:after {
    transform: rotate(270deg);
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow {
    top: -35px;
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow:after {
    transform: rotate(90deg);
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow {
    right: -35px;
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow:after {
    transform: rotate(180deg);
  }

  .shepherd-element[data-popper-placement^='right'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-right .shepherd-arrow {
    left: -35px;
  }

  .shepherd-button {
    background: #ffffff;
    border-radius: 0;
    color: ${({theme:e})=>e.colors.primary};
    display: flex;
    flex-grow: 1;
    font-size: 1rem;
    justify-content: center;
    margin: 0;
    padding: 0.2;
    text-align: center;
    text-transform: uppercase;
  }

  .shepherd-button:hover {
    color: ${({theme:e})=>e.colors.primary};
    color: #ffffff;
  }

  .shepherd-button.shepherd-button-secondary {
    background: #cad5d5;
  }

  .shepherd-button.shepherd-button-secondary:hover {
    color: #cad5d5;
    color: ${({theme:e})=>e.colors.primary};
  }

  .custom-tooltip {
    border-radius: 0 !important;
    font-size: 12px !important;
    padding: 8px !important;
  }
`,uf=J.div`
  margin-top: auto;
`,tn=J.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  align-items: center;
`,Dn=J.div`
  display: flex;
  justify-content: center;
  width: 100%;
  align-items: center;
  gap: 4px;
`,Xs=J.div`
  display: flex;
  flex-direction: ${({direction:e})=>e==="col"?"column":"row"};
  gap: 8px;
`;function wc(e,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(e)}function Ks(e,t){return new Promise((function(n,r){let o;return xc(e).then((function(s){try{return o=s,n(new Blob([t.slice(0,2),o,t.slice(2)],{type:"image/jpeg"}))}catch(i){return r(i)}}),r)}))}const xc=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:o}})=>{const s=new DataView(o);let i=0;if(s.getUint16(i)!==65496)return n("not a valid JPEG");for(i+=2;;){const a=s.getUint16(i);if(a===65498)break;const c=s.getUint16(i+2);if(a===65505&&s.getUint32(i+4)===1165519206){const d=i+10;let l;switch(s.getUint16(d)){case 18761:l=!0;break;case 19789:l=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(d+2,l)!==42)return n("TIFF header contains invalid version");const u=s.getUint32(d+4,l),f=d+u+2+12*s.getUint16(d+u,l);for(let h=d+u+2;h<f;h+=12)if(s.getUint16(h,l)==274){if(s.getUint16(h+2,l)!==3)return n("Orientation data type is invalid");if(s.getUint32(h+4,l)!==1)return n("Orientation data count is invalid");s.setUint16(h+8,1,l);break}return t(o.slice(i,i+2+c))}i+=2+c}return t(new Blob)})),r.readAsArrayBuffer(e)}));var zn={},bc={get exports(){return zn},set exports(e){zn=e}};(function(e){var t,n,r={};bc.exports=r,r.parse=function(o,s){for(var i=r.bin.readUshort,a=r.bin.readUint,c=0,d={},l=new Uint8Array(o),u=l.length-4;a(l,u)!=101010256;)u--;c=u,c+=4;var f=i(l,c+=4);i(l,c+=2);var h=a(l,c+=2),p=a(l,c+=4);c+=4,c=p;for(var g=0;g<f;g++){a(l,c),c+=4,c+=4,c+=4,a(l,c+=4),h=a(l,c+=4);var b=a(l,c+=4),v=i(l,c+=4),O=i(l,c+2),T=i(l,c+4);c+=6;var I=a(l,c+=8);c+=4,c+=v+O+T,r._readLocal(l,I,d,h,b,s)}return d},r._readLocal=function(o,s,i,a,c,d){var l=r.bin.readUshort,u=r.bin.readUint;u(o,s),l(o,s+=4),l(o,s+=2);var f=l(o,s+=2);u(o,s+=2),u(o,s+=4),s+=4;var h=l(o,s+=8),p=l(o,s+=2);s+=2;var g=r.bin.readUTF8(o,s,h);if(s+=h,s+=p,d)i[g]={size:c,csize:a};else{var b=new Uint8Array(o.buffer,s);if(f==0)i[g]=new Uint8Array(b.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(c);r.inflateRaw(b,v),i[g]=v}}},r.inflateRaw=function(o,s){return r.F.inflate(o,s)},r.inflate=function(o,s){return o[0],o[1],r.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),s)},r.deflate=function(o,s){s==null&&(s={level:6});var i=0,a=new Uint8Array(50+Math.floor(1.1*o.length));a[i]=120,a[i+1]=156,i+=2,i=r.F.deflateRaw(o,a,i,s.level);var c=r.adler(o,0,o.length);return a[i+0]=c>>>24&255,a[i+1]=c>>>16&255,a[i+2]=c>>>8&255,a[i+3]=c>>>0&255,new Uint8Array(a.buffer,0,i+4)},r.deflateRaw=function(o,s){s==null&&(s={level:6});var i=new Uint8Array(50+Math.floor(1.1*o.length)),a=r.F.deflateRaw(o,i,a,s.level);return new Uint8Array(i.buffer,0,a)},r.encode=function(o,s){s==null&&(s=!1);var i=0,a=r.bin.writeUint,c=r.bin.writeUshort,d={};for(var l in o){var u=!r._noNeed(l)&&!s,f=o[l],h=r.crc.crc(f,0,f.length);d[l]={cpr:u,usize:f.length,crc:h,file:u?r.deflateRaw(f):f}}for(var l in d)i+=d[l].file.length+30+46+2*r.bin.sizeUTF8(l);i+=22;var p=new Uint8Array(i),g=0,b=[];for(var l in d){var v=d[l];b.push(g),g=r._writeHeader(p,g,l,v,0)}var O=0,T=g;for(var l in d)v=d[l],b.push(g),g=r._writeHeader(p,g,l,v,1,b[O++]);var I=g-T;return a(p,g,101010256),g+=4,c(p,g+=4,O),c(p,g+=2,O),a(p,g+=2,I),a(p,g+=4,T),g+=4,g+=2,p.buffer},r._noNeed=function(o){var s=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(o,s,i,a,c,d){var l=r.bin.writeUint,u=r.bin.writeUshort,f=a.file;return l(o,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),u(o,s,20),u(o,s+=2,0),u(o,s+=2,a.cpr?8:0),l(o,s+=2,0),l(o,s+=4,a.crc),l(o,s+=4,f.length),l(o,s+=4,a.usize),u(o,s+=4,r.bin.sizeUTF8(i)),u(o,s+=2,0),s+=2,c==1&&(s+=2,s+=2,l(o,s+=6,d),s+=4),s+=r.bin.writeUTF8(o,s,i),c==0&&(o.set(f,s),s+=f.length),s},r.crc={table:(function(){for(var o=new Uint32Array(256),s=0;s<256;s++){for(var i=s,a=0;a<8;a++)1&i?i=3988292384^i>>>1:i>>>=1;o[s]=i}return o})(),update:function(o,s,i,a){for(var c=0;c<a;c++)o=r.crc.table[255&(o^s[i+c])]^o>>>8;return o},crc:function(o,s,i){return 4294967295^r.crc.update(4294967295,o,s,i)}},r.adler=function(o,s,i){for(var a=1,c=0,d=s,l=s+i;d<l;){for(var u=Math.min(d+5552,l);d<u;)c+=a+=o[d++];a%=65521,c%=65521}return c<<16|a},r.bin={readUshort:function(o,s){return o[s]|o[s+1]<<8},writeUshort:function(o,s,i){o[s]=255&i,o[s+1]=i>>8&255},readUint:function(o,s){return 16777216*o[s+3]+(o[s+2]<<16|o[s+1]<<8|o[s])},writeUint:function(o,s,i){o[s]=255&i,o[s+1]=i>>8&255,o[s+2]=i>>16&255,o[s+3]=i>>24&255},readASCII:function(o,s,i){for(var a="",c=0;c<i;c++)a+=String.fromCharCode(o[s+c]);return a},writeASCII:function(o,s,i){for(var a=0;a<i.length;a++)o[s+a]=i.charCodeAt(a)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,s,i){for(var a,c="",d=0;d<i;d++)c+="%"+r.bin.pad(o[s+d].toString(16));try{a=decodeURIComponent(c)}catch{return r.bin.readASCII(o,s,i)}return a},writeUTF8:function(o,s,i){for(var a=i.length,c=0,d=0;d<a;d++){var l=i.charCodeAt(d);if((4294967168&l)==0)o[s+c]=l,c++;else if((4294965248&l)==0)o[s+c]=192|l>>6,o[s+c+1]=128|l>>0&63,c+=2;else if((4294901760&l)==0)o[s+c]=224|l>>12,o[s+c+1]=128|l>>6&63,o[s+c+2]=128|l>>0&63,c+=3;else{if((4292870144&l)!=0)throw"e";o[s+c]=240|l>>18,o[s+c+1]=128|l>>12&63,o[s+c+2]=128|l>>6&63,o[s+c+3]=128|l>>0&63,c+=4}}return c},sizeUTF8:function(o){for(var s=o.length,i=0,a=0;a<s;a++){var c=o.charCodeAt(a);if((4294967168&c)==0)i++;else if((4294965248&c)==0)i+=2;else if((4294901760&c)==0)i+=3;else{if((4292870144&c)!=0)throw"e";i+=4}}return i}},r.F={},r.F.deflateRaw=function(o,s,i,a){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=r.F.U,l=r.F._goodIndex;r.F._hash;var u=r.F._putsE,f=0,h=i<<3,p=0,g=o.length;if(a==0){for(;f<g;)u(s,h,f+(E=Math.min(65535,g-f))==g?1:0),h=r.F._copyExact(o,f,E,s,h+8),f+=E;return h>>>3}var b=d.lits,v=d.strt,O=d.prev,T=0,I=0,D=0,_=0,k=0,x=0;for(g>2&&(v[x=r.F._hash(o,0)]=0),f=0;f<g;f++){if(k=x,f+1<g-2){x=r.F._hash(o,f+1);var y=f+1&32767;O[y]=v[x],v[x]=y}if(p<=f){(T>14e3||I>26697)&&g-f>100&&(p<f&&(b[T]=f-p,T+=2,p=f),h=r.F._writeBlock(f==g-1||p==g?1:0,b,T,_,o,D,f-D,s,h),T=I=_=0,D=f);var R=0;f<g-2&&(R=r.F._bestMatch(o,f,O,k,Math.min(c[2],g-f),c[3]));var E=R>>>16,S=65535&R;if(R!=0){S=65535&R;var L=l(E=R>>>16,d.of0);d.lhst[257+L]++;var A=l(S,d.df0);d.dhst[A]++,_+=d.exb[L]+d.dxb[A],b[T]=E<<23|f-p,b[T+1]=S<<16|L<<8|A,T+=2,p=f+E}else d.lhst[o[f]]++;I++}}for(D==f&&o.length!=0||(p<f&&(b[T]=f-p,T+=2,p=f),h=r.F._writeBlock(1,b,T,_,o,D,f-D,s,h),T=0,I=0,T=I=_=0,D=f);(7&h)!=0;)h++;return h>>>3},r.F._bestMatch=function(o,s,i,a,c,d){var l=32767&s,u=i[l],f=l-u+32768&32767;if(u==l||a!=r.F._hash(o,s-f))return 0;for(var h=0,p=0,g=Math.min(32767,s);f<=g&&--d!=0&&u!=l;){if(h==0||o[s+h]==o[s+h-f]){var b=r.F._howLong(o,s,f);if(b>h){if(p=f,(h=b)>=c)break;f+2<b&&(b=f+2);for(var v=0,O=0;O<b-2;O++){var T=s-f+O+32768&32767,I=T-i[T]+32768&32767;I>v&&(v=I,u=T)}}}f+=(l=u)-(u=i[l])+32768&32767}return h<<16|p},r.F._howLong=function(o,s,i){if(o[s]!=o[s-i]||o[s+1]!=o[s+1-i]||o[s+2]!=o[s+2-i])return 0;var a=s,c=Math.min(o.length,s+258);for(s+=3;s<c&&o[s]==o[s-i];)s++;return s-a},r.F._hash=function(o,s){return(o[s]<<8|o[s+1])+(o[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(o,s,i,a,c,d,l,u,f){var h,p,g,b,v,O,T,I,D,_=r.F.U,k=r.F._putsF,x=r.F._putsE;_.lhst[256]++,p=(h=r.F.getTrees())[0],g=h[1],b=h[2],v=h[3],O=h[4],T=h[5],I=h[6],D=h[7];var y=32+((f+3&7)==0?0:8-(f+3&7))+(l<<3),R=a+r.F.contSize(_.fltree,_.lhst)+r.F.contSize(_.fdtree,_.dhst),E=a+r.F.contSize(_.ltree,_.lhst)+r.F.contSize(_.dtree,_.dhst);E+=14+3*T+r.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var S=0;S<286;S++)_.lhst[S]=0;for(S=0;S<30;S++)_.dhst[S]=0;for(S=0;S<19;S++)_.ihst[S]=0;var L=y<R&&y<E?0:R<E?1:2;if(k(u,f,o),k(u,f+1,L),f+=3,L==0){for(;(7&f)!=0;)f++;f=r.F._copyExact(c,d,l,u,f)}else{var A,$;if(L==1&&(A=_.fltree,$=_.fdtree),L==2){r.F.makeCodes(_.ltree,p),r.F.revCodes(_.ltree,p),r.F.makeCodes(_.dtree,g),r.F.revCodes(_.dtree,g),r.F.makeCodes(_.itree,b),r.F.revCodes(_.itree,b),A=_.ltree,$=_.dtree,x(u,f,v-257),x(u,f+=5,O-1),x(u,f+=5,T-4),f+=4;for(var w=0;w<T;w++)x(u,f+3*w,_.itree[1+(_.ordr[w]<<1)]);f+=3*T,f=r.F._codeTiny(I,_.itree,u,f),f=r.F._codeTiny(D,_.itree,u,f)}for(var m=d,M=0;M<i;M+=2){for(var j=s[M],H=j>>>23,C=m+(8388607&j);m<C;)f=r.F._writeLit(c[m++],A,u,f);if(H!=0){var P=s[M+1],z=P>>16,N=P>>8&255,U=255&P;x(u,f=r.F._writeLit(257+N,A,u,f),H-_.of0[N]),f+=_.exb[N],k(u,f=r.F._writeLit(U,$,u,f),z-_.df0[U]),f+=_.dxb[U],m+=H}}f=r.F._writeLit(256,A,u,f)}return f},r.F._copyExact=function(o,s,i,a,c){var d=c>>>3;return a[d]=i,a[d+1]=i>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(o.buffer,s,i),d),c+(i+4<<3)},r.F.getTrees=function(){for(var o=r.F.U,s=r.F._hufTree(o.lhst,o.ltree,15),i=r.F._hufTree(o.dhst,o.dtree,15),a=[],c=r.F._lenCodes(o.ltree,a),d=[],l=r.F._lenCodes(o.dtree,d),u=0;u<a.length;u+=2)o.ihst[a[u]]++;for(u=0;u<d.length;u+=2)o.ihst[d[u]]++;for(var f=r.F._hufTree(o.ihst,o.itree,7),h=19;h>4&&o.itree[1+(o.ordr[h-1]<<1)]==0;)h--;return[s,i,f,c,l,h,a,d]},r.F.getSecond=function(o){for(var s=[],i=0;i<o.length;i+=2)s.push(o[i+1]);return s},r.F.nonZero=function(o){for(var s="",i=0;i<o.length;i+=2)o[i+1]!=0&&(s+=(i>>1)+",");return s},r.F.contSize=function(o,s){for(var i=0,a=0;a<s.length;a++)i+=s[a]*o[1+(a<<1)];return i},r.F._codeTiny=function(o,s,i,a){for(var c=0;c<o.length;c+=2){var d=o[c],l=o[c+1];a=r.F._writeLit(d,s,i,a);var u=d==16?2:d==17?3:7;d>15&&(r.F._putsE(i,a,l,u),a+=u)}return a},r.F._lenCodes=function(o,s){for(var i=o.length;i!=2&&o[i-1]==0;)i-=2;for(var a=0;a<i;a+=2){var c=o[a+1],d=a+3<i?o[a+3]:-1,l=a+5<i?o[a+5]:-1,u=a==0?-1:o[a-1];if(c==0&&d==c&&l==c){for(var f=a+5;f+2<i&&o[f+2]==c;)f+=2;(h=Math.min(f+1-a>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),a+=2*h-2}else if(c==u&&d==c&&l==c){for(f=a+5;f+2<i&&o[f+2]==c;)f+=2;var h=Math.min(f+1-a>>>1,6);s.push(16,h-3),a+=2*h-2}else s.push(c,0)}return i>>>1},r.F._hufTree=function(o,s,i){var a=[],c=o.length,d=s.length,l=0;for(l=0;l<d;l+=2)s[l]=0,s[l+1]=0;for(l=0;l<c;l++)o[l]!=0&&a.push({lit:l,f:o[l]});var u=a.length,f=a.slice(0);if(u==0)return 0;if(u==1){var h=a[0].lit;return f=h==0?1:0,s[1+(h<<1)]=1,s[1+(f<<1)]=1,1}a.sort((function(I,D){return I.f-D.f}));var p=a[0],g=a[1],b=0,v=1,O=2;for(a[0]={lit:-1,f:p.f+g.f,l:p,r:g,d:0};v!=u-1;)p=b!=v&&(O==u||a[b].f<a[O].f)?a[b++]:a[O++],g=b!=v&&(O==u||a[b].f<a[O].f)?a[b++]:a[O++],a[v++]={lit:-1,f:p.f+g.f,l:p,r:g};var T=r.F.setDepth(a[v-1],0);for(T>i&&(r.F.restrictDepth(f,i,T),T=i),l=0;l<u;l++)s[1+(f[l].lit<<1)]=f[l].d;return T},r.F.setDepth=function(o,s){return o.lit!=-1?(o.d=s,s):Math.max(r.F.setDepth(o.l,s+1),r.F.setDepth(o.r,s+1))},r.F.restrictDepth=function(o,s,i){var a=0,c=1<<i-s,d=0;for(o.sort((function(u,f){return f.d==u.d?u.f-f.f:f.d-u.d})),a=0;a<o.length&&o[a].d>s;a++){var l=o[a].d;o[a].d=s,d+=c-(1<<i-l)}for(d>>>=i-s;d>0;)(l=o[a].d)<s?(o[a].d++,d-=1<<s-l-1):a++;for(;a>=0;a--)o[a].d==s&&d<0&&(o[a].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(o,s){var i=0;return s[16|i]<=o&&(i|=16),s[8|i]<=o&&(i|=8),s[4|i]<=o&&(i|=4),s[2|i]<=o&&(i|=2),s[1|i]<=o&&(i|=1),i},r.F._writeLit=function(o,s,i,a){return r.F._putsF(i,a,s[o<<1]),a+s[1+(o<<1)]},r.F.inflate=function(o,s){var i=Uint8Array;if(o[0]==3&&o[1]==0)return s||new i(0);var a=r.F,c=a._bitsF,d=a._bitsE,l=a._decodeTiny,u=a.makeCodes,f=a.codes2map,h=a._get17,p=a.U,g=s==null;g&&(s=new i(o.length>>>2<<3));for(var b,v,O=0,T=0,I=0,D=0,_=0,k=0,x=0,y=0,R=0;O==0;)if(O=c(o,R,1),T=c(o,R+1,2),R+=3,T!=0){if(g&&(s=r.F._check(s,y+(1<<17))),T==1&&(b=p.flmap,v=p.fdmap,k=511,x=31),T==2){I=d(o,R,5)+257,D=d(o,R+5,5)+1,_=d(o,R+10,4)+4,R+=14;for(var E=0;E<38;E+=2)p.itree[E]=0,p.itree[E+1]=0;var S=1;for(E=0;E<_;E++){var L=d(o,R+3*E,3);p.itree[1+(p.ordr[E]<<1)]=L,L>S&&(S=L)}R+=3*_,u(p.itree,S),f(p.itree,S,p.imap),b=p.lmap,v=p.dmap,R=l(p.imap,(1<<S)-1,I+D,o,R,p.ttree);var A=a._copyOut(p.ttree,0,I,p.ltree);k=(1<<A)-1;var $=a._copyOut(p.ttree,I,D,p.dtree);x=(1<<$)-1,u(p.ltree,A),f(p.ltree,A,b),u(p.dtree,$),f(p.dtree,$,v)}for(;;){var w=b[h(o,R)&k];R+=15&w;var m=w>>>4;if(!(m>>>8))s[y++]=m;else{if(m==256)break;var M=y+m-254;if(m>264){var j=p.ldef[m-257];M=y+(j>>>3)+d(o,R,7&j),R+=7&j}var H=v[h(o,R)&x];R+=15&H;var C=H>>>4,P=p.ddef[C],z=(P>>>4)+c(o,R,15&P);for(R+=15&P,g&&(s=r.F._check(s,y+(1<<17)));y<M;)s[y]=s[y++-z],s[y]=s[y++-z],s[y]=s[y++-z],s[y]=s[y++-z];y=M}}}else{(7&R)!=0&&(R+=8-(7&R));var N=4+(R>>>3),U=o[N-4]|o[N-3]<<8;g&&(s=r.F._check(s,y+U)),s.set(new i(o.buffer,o.byteOffset+N,U),y),R=N+U<<3,y+=U}return s.length==y?s:s.slice(0,y)},r.F._check=function(o,s){var i=o.length;if(s<=i)return o;var a=new Uint8Array(Math.max(i<<1,s));return a.set(o,0),a},r.F._decodeTiny=function(o,s,i,a,c,d){for(var l=r.F._bitsE,u=r.F._get17,f=0;f<i;){var h=o[u(a,c)&s];c+=15&h;var p=h>>>4;if(p<=15)d[f]=p,f++;else{var g=0,b=0;p==16?(b=3+l(a,c,2),c+=2,g=d[f-1]):p==17?(b=3+l(a,c,3),c+=3):p==18&&(b=11+l(a,c,7),c+=7);for(var v=f+b;f<v;)d[f]=g,f++}}return c},r.F._copyOut=function(o,s,i,a){for(var c=0,d=0,l=a.length>>>1;d<i;){var u=o[d+s];a[d<<1]=0,a[1+(d<<1)]=u,u>c&&(c=u),d++}for(;d<l;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return c},r.F.makeCodes=function(o,s){for(var i,a,c,d,l=r.F.U,u=o.length,f=l.bl_count,h=0;h<=s;h++)f[h]=0;for(h=1;h<u;h+=2)f[o[h]]++;var p=l.next_code;for(i=0,f[0]=0,a=1;a<=s;a++)i=i+f[a-1]<<1,p[a]=i;for(c=0;c<u;c+=2)(d=o[c+1])!=0&&(o[c]=p[d],p[d]++)},r.F.codes2map=function(o,s,i){for(var a=o.length,c=r.F.U.rev15,d=0;d<a;d+=2)if(o[d+1]!=0)for(var l=d>>1,u=o[d+1],f=l<<4|u,h=s-u,p=o[d]<<h,g=p+(1<<h);p!=g;)i[c[p]>>>15-s]=f,p++},r.F.revCodes=function(o,s){for(var i=r.F.U.rev15,a=15-s,c=0;c<o.length;c+=2){var d=o[c]<<s-o[c+1];o[c]=i[d]>>>a}},r.F._putsE=function(o,s,i){i<<=7&s;var a=s>>>3;o[a]|=i,o[a+1]|=i>>>8},r.F._putsF=function(o,s,i){i<<=7&s;var a=s>>>3;o[a]|=i,o[a+1]|=i>>>8,o[a+2]|=i>>>16},r.F._bitsE=function(o,s,i){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<i)-1},r.F._bitsF=function(o,s,i){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<i)-1},r.F._get17=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var o=r.F.U,s=0;s<32768;s++){var i=s;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,o.rev15[s]=(i>>>16|i<<16)>>>17}function a(c,d,l){for(;d--!=0;)c.push(0,l)}for(s=0;s<32;s++)o.ldef[s]=o.of0[s]<<3|o.exb[s],o.ddef[s]=o.df0[s]<<4|o.dxb[s];a(o.fltree,144,8),a(o.fltree,112,9),a(o.fltree,24,7),a(o.fltree,8,8),r.F.makeCodes(o.fltree,9),r.F.codes2map(o.fltree,9,o.flmap),r.F.revCodes(o.fltree,9),a(o.fdtree,32,5),r.F.makeCodes(o.fdtree,5),r.F.codes2map(o.fdtree,5,o.fdmap),r.F.revCodes(o.fdtree,5),a(o.itree,19,0),a(o.ltree,286,0),a(o.dtree,30,0),a(o.ttree,320,0)})()})();var _c=wc({__proto__:null,default:zn},[zn]);const at=(function(){var e={nextZero(l,u){for(;l[u]!=0;)u++;return u},readUshort:(l,u)=>l[u]<<8|l[u+1],writeUshort(l,u,f){l[u]=f>>8&255,l[u+1]=255&f},readUint:(l,u)=>16777216*l[u]+(l[u+1]<<16|l[u+2]<<8|l[u+3]),writeUint(l,u,f){l[u]=f>>24&255,l[u+1]=f>>16&255,l[u+2]=f>>8&255,l[u+3]=255&f},readASCII(l,u,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(l[u+p]);return h},writeASCII(l,u,f){for(let h=0;h<f.length;h++)l[u+h]=f.charCodeAt(h)},readBytes(l,u,f){const h=[];for(let p=0;p<f;p++)h.push(l[u+p]);return h},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,u,f){let h,p="";for(let g=0;g<f;g++)p+=`%${e.pad(l[u+g].toString(16))}`;try{h=decodeURIComponent(p)}catch{return e.readASCII(l,u,f)}return h}};function t(l,u,f,h){const p=u*f,g=s(h),b=Math.ceil(u*g/8),v=new Uint8Array(4*p),O=new Uint32Array(v.buffer),{ctype:T}=h,{depth:I}=h,D=e.readUshort;if(T==6){const j=p<<2;if(I==8)for(var _=0;_<j;_+=4)v[_]=l[_],v[_+1]=l[_+1],v[_+2]=l[_+2],v[_+3]=l[_+3];if(I==16)for(_=0;_<j;_++)v[_]=l[_<<1]}else if(T==2){const j=h.tabs.tRNS;if(j==null){if(I==8)for(_=0;_<p;_++){var k=3*_;O[_]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k]}if(I==16)for(_=0;_<p;_++)k=6*_,O[_]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k]}else{var x=j[0];const H=j[1],C=j[2];if(I==8)for(_=0;_<p;_++){var y=_<<2;k=3*_,O[_]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k],l[k]==x&&l[k+1]==H&&l[k+2]==C&&(v[y+3]=0)}if(I==16)for(_=0;_<p;_++)y=_<<2,k=6*_,O[_]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k],D(l,k)==x&&D(l,k+2)==H&&D(l,k+4)==C&&(v[y+3]=0)}}else if(T==3){const j=h.tabs.PLTE,H=h.tabs.tRNS,C=H?H.length:0;if(I==1)for(var R=0;R<f;R++){var E=R*b,S=R*u;for(_=0;_<u;_++){y=S+_<<2;var L=3*(A=l[E+(_>>3)]>>7-((7&_)<<0)&1);v[y]=j[L],v[y+1]=j[L+1],v[y+2]=j[L+2],v[y+3]=A<C?H[A]:255}}if(I==2)for(R=0;R<f;R++)for(E=R*b,S=R*u,_=0;_<u;_++)y=S+_<<2,L=3*(A=l[E+(_>>2)]>>6-((3&_)<<1)&3),v[y]=j[L],v[y+1]=j[L+1],v[y+2]=j[L+2],v[y+3]=A<C?H[A]:255;if(I==4)for(R=0;R<f;R++)for(E=R*b,S=R*u,_=0;_<u;_++)y=S+_<<2,L=3*(A=l[E+(_>>1)]>>4-((1&_)<<2)&15),v[y]=j[L],v[y+1]=j[L+1],v[y+2]=j[L+2],v[y+3]=A<C?H[A]:255;if(I==8)for(_=0;_<p;_++){var A;y=_<<2,L=3*(A=l[_]),v[y]=j[L],v[y+1]=j[L+1],v[y+2]=j[L+2],v[y+3]=A<C?H[A]:255}}else if(T==4){if(I==8)for(_=0;_<p;_++){y=_<<2;var $=l[w=_<<1];v[y]=$,v[y+1]=$,v[y+2]=$,v[y+3]=l[w+1]}if(I==16)for(_=0;_<p;_++){var w;y=_<<2,$=l[w=_<<2],v[y]=$,v[y+1]=$,v[y+2]=$,v[y+3]=l[w+2]}}else if(T==0)for(x=h.tabs.tRNS?h.tabs.tRNS:-1,R=0;R<f;R++){const j=R*b,H=R*u;if(I==1)for(var m=0;m<u;m++){var M=($=255*(l[j+(m>>>3)]>>>7-(7&m)&1))==255*x?0:255;O[H+m]=M<<24|$<<16|$<<8|$}else if(I==2)for(m=0;m<u;m++)M=($=85*(l[j+(m>>>2)]>>>6-((3&m)<<1)&3))==85*x?0:255,O[H+m]=M<<24|$<<16|$<<8|$;else if(I==4)for(m=0;m<u;m++)M=($=17*(l[j+(m>>>1)]>>>4-((1&m)<<2)&15))==17*x?0:255,O[H+m]=M<<24|$<<16|$<<8|$;else if(I==8)for(m=0;m<u;m++)M=($=l[j+m])==x?0:255,O[H+m]=M<<24|$<<16|$<<8|$;else if(I==16)for(m=0;m<u;m++)$=l[j+(m<<1)],M=D(l,j+(m<<1))==x?0:255,O[H+m]=M<<24|$<<16|$<<8|$}return v}function n(l,u,f,h){const p=s(l),g=Math.ceil(f*p/8),b=new Uint8Array((g+1+l.interlace)*h);return u=l.tabs.CgBI?o(u,b):r(u,b),l.interlace==0?u=i(u,l,0,f,h):l.interlace==1&&(u=(function(O,T){const I=T.width,D=T.height,_=s(T),k=_>>3,x=Math.ceil(I*_/8),y=new Uint8Array(D*x);let R=0;const E=[0,0,4,0,2,0,1],S=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const m=L[$],M=A[$];let j=0,H=0,C=E[$];for(;C<D;)C+=m,H++;let P=S[$];for(;P<I;)P+=M,j++;const z=Math.ceil(j*_/8);i(O,T,R,j,H);let N=0,U=E[$];for(;U<D;){let G=S[$],W=R+N*z<<3;for(;G<I;){var w;if(_==1&&(w=(w=O[W>>3])>>7-(7&W)&1,y[U*x+(G>>3)]|=w<<7-((7&G)<<0)),_==2&&(w=(w=O[W>>3])>>6-(7&W)&3,y[U*x+(G>>2)]|=w<<6-((3&G)<<1)),_==4&&(w=(w=O[W>>3])>>4-(7&W)&15,y[U*x+(G>>1)]|=w<<4-((1&G)<<2)),_>=8){const Z=U*x+G*k;for(let V=0;V<k;V++)y[Z+V]=O[(W>>3)+V]}W+=_,G+=M}N++,U+=m}j*H!=0&&(R+=H*(1+z)),$+=1}return y})(u,l)),u}function r(l,u){return o(new Uint8Array(l.buffer,2,l.length-6),u)}var o=(function(){const l={H:{}};return l.H.N=function(u,f){const h=Uint8Array;let p,g,b=0,v=0,O=0,T=0,I=0,D=0,_=0,k=0,x=0;if(u[0]==3&&u[1]==0)return f||new h(0);const y=l.H,R=y.b,E=y.e,S=y.R,L=y.n,A=y.A,$=y.Z,w=y.m,m=f==null;for(m&&(f=new h(u.length>>>2<<5));b==0;)if(b=R(u,x,1),v=R(u,x+1,2),x+=3,v!=0){if(m&&(f=l.H.W(f,k+(1<<17))),v==1&&(p=w.J,g=w.h,D=511,_=31),v==2){O=E(u,x,5)+257,T=E(u,x+5,5)+1,I=E(u,x+10,4)+4,x+=14;let j=1;for(var M=0;M<38;M+=2)w.Q[M]=0,w.Q[M+1]=0;for(M=0;M<I;M++){const P=E(u,x+3*M,3);w.Q[1+(w.X[M]<<1)]=P,P>j&&(j=P)}x+=3*I,L(w.Q,j),A(w.Q,j,w.u),p=w.w,g=w.d,x=S(w.u,(1<<j)-1,O+T,u,x,w.v);const H=y.V(w.v,0,O,w.C);D=(1<<H)-1;const C=y.V(w.v,O,T,w.D);_=(1<<C)-1,L(w.C,H),A(w.C,H,p),L(w.D,C),A(w.D,C,g)}for(;;){const j=p[$(u,x)&D];x+=15&j;const H=j>>>4;if(!(H>>>8))f[k++]=H;else{if(H==256)break;{let C=k+H-254;if(H>264){const G=w.q[H-257];C=k+(G>>>3)+E(u,x,7&G),x+=7&G}const P=g[$(u,x)&_];x+=15&P;const z=P>>>4,N=w.c[z],U=(N>>>4)+R(u,x,15&N);for(x+=15&N;k<C;)f[k]=f[k++-U],f[k]=f[k++-U],f[k]=f[k++-U],f[k]=f[k++-U];k=C}}}}else{(7&x)!=0&&(x+=8-(7&x));const j=4+(x>>>3),H=u[j-4]|u[j-3]<<8;m&&(f=l.H.W(f,k+H)),f.set(new h(u.buffer,u.byteOffset+j,H),k),x=j+H<<3,k+=H}return f.length==k?f:f.slice(0,k)},l.H.W=function(u,f){const h=u.length;if(f<=h)return u;const p=new Uint8Array(h<<1);return p.set(u,0),p},l.H.R=function(u,f,h,p,g,b){const v=l.H.e,O=l.H.Z;let T=0;for(;T<h;){const I=u[O(p,g)&f];g+=15&I;const D=I>>>4;if(D<=15)b[T]=D,T++;else{let _=0,k=0;D==16?(k=3+v(p,g,2),g+=2,_=b[T-1]):D==17?(k=3+v(p,g,3),g+=3):D==18&&(k=11+v(p,g,7),g+=7);const x=T+k;for(;T<x;)b[T]=_,T++}}return g},l.H.V=function(u,f,h,p){let g=0,b=0;const v=p.length>>>1;for(;b<h;){const O=u[b+f];p[b<<1]=0,p[1+(b<<1)]=O,O>g&&(g=O),b++}for(;b<v;)p[b<<1]=0,p[1+(b<<1)]=0,b++;return g},l.H.n=function(u,f){const h=l.H.m,p=u.length;let g,b,v,O;const T=h.j;for(var I=0;I<=f;I++)T[I]=0;for(I=1;I<p;I+=2)T[u[I]]++;const D=h.K;for(g=0,T[0]=0,b=1;b<=f;b++)g=g+T[b-1]<<1,D[b]=g;for(v=0;v<p;v+=2)O=u[v+1],O!=0&&(u[v]=D[O],D[O]++)},l.H.A=function(u,f,h){const p=u.length,g=l.H.m.r;for(let b=0;b<p;b+=2)if(u[b+1]!=0){const v=b>>1,O=u[b+1],T=v<<4|O,I=f-O;let D=u[b]<<I;const _=D+(1<<I);for(;D!=_;)h[g[D]>>>15-f]=T,D++}},l.H.l=function(u,f){const h=l.H.m.r,p=15-f;for(let g=0;g<u.length;g+=2){const b=u[g]<<f-u[g+1];u[g]=h[b]>>>p}},l.H.M=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8},l.H.I=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8,u[p+2]|=h>>>16},l.H.e=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},l.H.b=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},l.H.Z=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)},l.H.i=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16|u[3+(f>>>3)]<<24)>>>(7&f)},l.H.m=(function(){const u=Uint16Array,f=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new u(65536),g:new u(32768)}})(),(function(){const u=l.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,u.r[f]=(p>>>16|p<<16)>>>17}function h(p,g,b){for(;g--!=0;)p.push(0,b)}for(f=0;f<32;f++)u.q[f]=u.S[f]<<3|u.T[f],u.c[f]=u.p[f]<<4|u.z[f];h(u._,144,8),h(u._,112,9),h(u._,24,7),h(u._,8,8),l.H.n(u._,9),l.H.A(u._,9,u.J),l.H.l(u._,9),h(u.$,32,5),l.H.n(u.$,5),l.H.A(u.$,5,u.h),l.H.l(u.$,5),h(u.Q,19,0),h(u.C,286,0),h(u.D,30,0),h(u.v,320,0)})(),l.H.N})();function s(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function i(l,u,f,h,p){let g=s(u);const b=Math.ceil(h*g/8);let v,O;g=Math.ceil(g/8);let T=l[f],I=0;if(T>1&&(l[f]=[0,0,1][T-2]),T==3)for(I=g;I<b;I++)l[I+1]=l[I+1]+(l[I+1-g]>>>1)&255;for(let D=0;D<p;D++)if(v=f+D*b,O=v+D+1,T=l[O-1],I=0,T==0)for(;I<b;I++)l[v+I]=l[O+I];else if(T==1){for(;I<g;I++)l[v+I]=l[O+I];for(;I<b;I++)l[v+I]=l[O+I]+l[v+I-g]}else if(T==2)for(;I<b;I++)l[v+I]=l[O+I]+l[v+I-b];else if(T==3){for(;I<g;I++)l[v+I]=l[O+I]+(l[v+I-b]>>>1);for(;I<b;I++)l[v+I]=l[O+I]+(l[v+I-b]+l[v+I-g]>>>1)}else{for(;I<g;I++)l[v+I]=l[O+I]+a(0,l[v+I-b],0);for(;I<b;I++)l[v+I]=l[O+I]+a(l[v+I-g],l[v+I-b],l[v+I-g-b])}return l}function a(l,u,f){const h=l+u-f,p=h-l,g=h-u,b=h-f;return p*p<=g*g&&p*p<=b*b?l:g*g<=b*b?u:f}function c(l,u,f){f.width=e.readUint(l,u),u+=4,f.height=e.readUint(l,u),u+=4,f.depth=l[u],u++,f.ctype=l[u],u++,f.compress=l[u],u++,f.filter=l[u],u++,f.interlace=l[u],u++}function d(l,u,f,h,p,g,b,v,O){const T=Math.min(u,p),I=Math.min(f,g);let D=0,_=0;for(let $=0;$<I;$++)for(let w=0;w<T;w++)if(b>=0&&v>=0?(D=$*u+w<<2,_=(v+$)*p+b+w<<2):(D=(-v+$)*u-b+w<<2,_=$*p+w<<2),O==0)h[_]=l[D],h[_+1]=l[D+1],h[_+2]=l[D+2],h[_+3]=l[D+3];else if(O==1){var k=l[D+3]*.00392156862745098,x=l[D]*k,y=l[D+1]*k,R=l[D+2]*k,E=h[_+3]*(1/255),S=h[_]*E,L=h[_+1]*E,A=h[_+2]*E;const m=1-k,M=k+E*m,j=M==0?0:1/M;h[_+3]=255*M,h[_+0]=(x+S*m)*j,h[_+1]=(y+L*m)*j,h[_+2]=(R+A*m)*j}else if(O==2)k=l[D+3],x=l[D],y=l[D+1],R=l[D+2],E=h[_+3],S=h[_],L=h[_+1],A=h[_+2],k==E&&x==S&&y==L&&R==A?(h[_]=0,h[_+1]=0,h[_+2]=0,h[_+3]=0):(h[_]=x,h[_+1]=y,h[_+2]=R,h[_+3]=k);else if(O==3){if(k=l[D+3],x=l[D],y=l[D+1],R=l[D+2],E=h[_+3],S=h[_],L=h[_+1],A=h[_+2],k==E&&x==S&&y==L&&R==A)continue;if(k<220&&E>20)return!1}return!0}return{decode:function(u){const f=new Uint8Array(u);let h=8;const p=e,g=p.readUshort,b=p.readUint,v={tabs:{},frames:[]},O=new Uint8Array(f.length);let T,I=0,D=0;const _=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(f[k]!=_[k])throw"The input is not a PNG file!";for(;h<f.length;){const $=p.readUint(f,h);h+=4;const w=p.readASCII(f,h,4);if(h+=4,w=="IHDR")c(f,h,v);else if(w=="iCCP"){for(var x=h;f[x]!=0;)x++;p.readASCII(f,h,x-h),f[x+1];const m=f.slice(x+2,h+$);let M=null;try{M=r(m)}catch{M=o(m)}v.tabs[w]=M}else if(w=="CgBI")v.tabs[w]=f.slice(h,h+4);else if(w=="IDAT"){for(k=0;k<$;k++)O[I+k]=f[h+k];I+=$}else if(w=="acTL")v.tabs[w]={num_frames:b(f,h),num_plays:b(f,h+4)},T=new Uint8Array(f.length);else if(w=="fcTL"){D!=0&&((A=v.frames[v.frames.length-1]).data=n(v,T.slice(0,D),A.rect.width,A.rect.height),D=0);const m={x:b(f,h+12),y:b(f,h+16),width:b(f,h+4),height:b(f,h+8)};let M=g(f,h+22);M=g(f,h+20)/(M==0?100:M);const j={rect:m,delay:Math.round(1e3*M),dispose:f[h+24],blend:f[h+25]};v.frames.push(j)}else if(w=="fdAT"){for(k=0;k<$-4;k++)T[D+k]=f[h+k+4];D+=$-4}else if(w=="pHYs")v.tabs[w]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(w=="cHRM")for(v.tabs[w]=[],k=0;k<8;k++)v.tabs[w].push(p.readUint(f,h+4*k));else if(w=="tEXt"||w=="zTXt"){v.tabs[w]==null&&(v.tabs[w]={});var y=p.nextZero(f,h),R=p.readASCII(f,h,y-h),E=h+$-y-1;if(w=="tEXt")L=p.readASCII(f,y+1,E);else{var S=r(f.slice(y+2,y+2+E));L=p.readUTF8(S,0,S.length)}v.tabs[w][R]=L}else if(w=="iTXt"){v.tabs[w]==null&&(v.tabs[w]={}),y=0,x=h,y=p.nextZero(f,x),R=p.readASCII(f,x,y-x);const m=f[x=y+1];var L;f[x+1],x+=2,y=p.nextZero(f,x),p.readASCII(f,x,y-x),x=y+1,y=p.nextZero(f,x),p.readUTF8(f,x,y-x),E=$-((x=y+1)-h),m==0?L=p.readUTF8(f,x,E):(S=r(f.slice(x,x+E)),L=p.readUTF8(S,0,S.length)),v.tabs[w][R]=L}else if(w=="PLTE")v.tabs[w]=p.readBytes(f,h,$);else if(w=="hIST"){const m=v.tabs.PLTE.length/3;for(v.tabs[w]=[],k=0;k<m;k++)v.tabs[w].push(g(f,h+2*k))}else if(w=="tRNS")v.ctype==3?v.tabs[w]=p.readBytes(f,h,$):v.ctype==0?v.tabs[w]=g(f,h):v.ctype==2&&(v.tabs[w]=[g(f,h),g(f,h+2),g(f,h+4)]);else if(w=="gAMA")v.tabs[w]=p.readUint(f,h)/1e5;else if(w=="sRGB")v.tabs[w]=f[h];else if(w=="bKGD")v.ctype==0||v.ctype==4?v.tabs[w]=[g(f,h)]:v.ctype==2||v.ctype==6?v.tabs[w]=[g(f,h),g(f,h+2),g(f,h+4)]:v.ctype==3&&(v.tabs[w]=f[h]);else if(w=="IEND")break;h+=$,p.readUint(f,h),h+=4}var A;return D!=0&&((A=v.frames[v.frames.length-1]).data=n(v,T.slice(0,D),A.rect.width,A.rect.height)),v.data=n(v,O,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(u){const f=u.width,h=u.height;if(u.tabs.acTL==null)return[t(u.data,f,h,u).buffer];const p=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const g=f*h*4,b=new Uint8Array(g),v=new Uint8Array(g),O=new Uint8Array(g);for(let I=0;I<u.frames.length;I++){const D=u.frames[I],_=D.rect.x,k=D.rect.y,x=D.rect.width,y=D.rect.height,R=t(D.data,x,y,u);if(I!=0)for(var T=0;T<g;T++)O[T]=b[T];if(D.blend==0?d(R,x,y,b,f,h,_,k,0):D.blend==1&&d(R,x,y,b,f,h,_,k,1),p.push(b.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)d(v,x,y,b,f,h,_,k,0);else if(D.dispose==2)for(T=0;T<g;T++)b[T]=O[T]}}return p},_paeth:a,_copyTile:d,_bin:e}})();(function(){const{_copyTile:e}=at,{_bin:t}=at,n=at._paeth;var r={table:(function(){const x=new Uint32Array(256);for(let y=0;y<256;y++){let R=y;for(let E=0;E<8;E++)1&R?R=3988292384^R>>>1:R>>>=1;x[y]=R}return x})(),update(x,y,R,E){for(let S=0;S<E;S++)x=r.table[255&(x^y[R+S])]^x>>>8;return x},crc:(x,y,R)=>4294967295^r.update(4294967295,x,y,R)};function o(x,y,R,E){y[R]+=x[0]*E>>4,y[R+1]+=x[1]*E>>4,y[R+2]+=x[2]*E>>4,y[R+3]+=x[3]*E>>4}function s(x){return Math.max(0,Math.min(255,x))}function i(x,y){const R=x[0]-y[0],E=x[1]-y[1],S=x[2]-y[2],L=x[3]-y[3];return R*R+E*E+S*S+L*L}function a(x,y,R,E,S,L,A){A==null&&(A=1);const $=E.length,w=[];for(var m=0;m<$;m++){const U=E[m];w.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(m=0;m<$;m++){let U=4294967295;for(var M=0,j=0;j<$;j++){var H=i(w[m],w[j]);j!=m&&H<U&&(U=H,M=j)}}const C=new Uint32Array(S.buffer),P=new Int16Array(y*R*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<z.length;m++)z[m]=255*((z[m]+.5)/16-.5);for(let U=0;U<R;U++)for(let G=0;G<y;G++){var N;m=4*(U*y+G),A!=2?N=[s(x[m]+P[m]),s(x[m+1]+P[m+1]),s(x[m+2]+P[m+2]),s(x[m+3]+P[m+3])]:(H=z[4*(3&U)+(3&G)],N=[s(x[m]+H),s(x[m+1]+H),s(x[m+2]+H),s(x[m+3]+H)]),M=0;let W=16777215;for(j=0;j<$;j++){const ee=i(N,w[j]);ee<W&&(W=ee,M=j)}const Z=w[M],V=[N[0]-Z[0],N[1]-Z[1],N[2]-Z[2],N[3]-Z[3]];A==1&&(G!=y-1&&o(V,P,m+4,7),U!=R-1&&(G!=0&&o(V,P,m+4*y-4,3),o(V,P,m+4*y,5),G!=y-1&&o(V,P,m+4*y+4,1))),L[m>>2]=M,C[m>>2]=E[M]}}function c(x,y,R,E,S){S==null&&(S={});const{crc:L}=r,A=t.writeUint,$=t.writeUshort,w=t.writeASCII;let m=8;const M=x.frames.length>1;let j,H=!1,C=33+(M?20:0);if(S.sRGB!=null&&(C+=13),S.pHYs!=null&&(C+=21),S.iCCP!=null&&(j=pako.deflate(S.iCCP),C+=21+j.length+4),x.ctype==3){for(var P=x.plte.length,z=0;z<P;z++)x.plte[z]>>>24!=255&&(H=!0);C+=8+3*P+4+(H?8+1*P+4:0)}for(var N=0;N<x.frames.length;N++)M&&(C+=38),C+=(Z=x.frames[N]).cimg.length+12,N!=0&&(C+=4);C+=12;const U=new Uint8Array(C),G=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)U[z]=G[z];if(A(U,m,13),m+=4,w(U,m,"IHDR"),m+=4,A(U,m,y),m+=4,A(U,m,R),m+=4,U[m]=x.depth,m++,U[m]=x.ctype,m++,U[m]=0,m++,U[m]=0,m++,U[m]=0,m++,A(U,m,L(U,m-17,17)),m+=4,S.sRGB!=null&&(A(U,m,1),m+=4,w(U,m,"sRGB"),m+=4,U[m]=S.sRGB,m++,A(U,m,L(U,m-5,5)),m+=4),S.iCCP!=null){const V=13+j.length;A(U,m,V),m+=4,w(U,m,"iCCP"),m+=4,w(U,m,"ICC profile"),m+=11,m+=2,U.set(j,m),m+=j.length,A(U,m,L(U,m-(V+4),V+4)),m+=4}if(S.pHYs!=null&&(A(U,m,9),m+=4,w(U,m,"pHYs"),m+=4,A(U,m,S.pHYs[0]),m+=4,A(U,m,S.pHYs[1]),m+=4,U[m]=S.pHYs[2],m++,A(U,m,L(U,m-13,13)),m+=4),M&&(A(U,m,8),m+=4,w(U,m,"acTL"),m+=4,A(U,m,x.frames.length),m+=4,A(U,m,S.loop!=null?S.loop:0),m+=4,A(U,m,L(U,m-12,12)),m+=4),x.ctype==3){for(A(U,m,3*(P=x.plte.length)),m+=4,w(U,m,"PLTE"),m+=4,z=0;z<P;z++){const V=3*z,ee=x.plte[z],le=255&ee,oe=ee>>>8&255,He=ee>>>16&255;U[m+V+0]=le,U[m+V+1]=oe,U[m+V+2]=He}if(m+=3*P,A(U,m,L(U,m-3*P-4,3*P+4)),m+=4,H){for(A(U,m,P),m+=4,w(U,m,"tRNS"),m+=4,z=0;z<P;z++)U[m+z]=x.plte[z]>>>24&255;m+=P,A(U,m,L(U,m-P-4,P+4)),m+=4}}let W=0;for(N=0;N<x.frames.length;N++){var Z=x.frames[N];M&&(A(U,m,26),m+=4,w(U,m,"fcTL"),m+=4,A(U,m,W++),m+=4,A(U,m,Z.rect.width),m+=4,A(U,m,Z.rect.height),m+=4,A(U,m,Z.rect.x),m+=4,A(U,m,Z.rect.y),m+=4,$(U,m,E[N]),m+=2,$(U,m,1e3),m+=2,U[m]=Z.dispose,m++,U[m]=Z.blend,m++,A(U,m,L(U,m-30,30)),m+=4);const V=Z.cimg;A(U,m,(P=V.length)+(N==0?0:4)),m+=4;const ee=m;w(U,m,N==0?"IDAT":"fdAT"),m+=4,N!=0&&(A(U,m,W++),m+=4),U.set(V,m),m+=P,A(U,m,L(U,ee,m-ee)),m+=4}return A(U,m,0),m+=4,w(U,m,"IEND"),m+=4,A(U,m,L(U,m-4,4)),m+=4,U.buffer}function d(x,y,R){for(let E=0;E<x.frames.length;E++){const S=x.frames[E];S.rect.width;const L=S.rect.height,A=new Uint8Array(L*S.bpl+L);S.cimg=h(S.img,L,S.bpp,S.bpl,A,y,R)}}function l(x,y,R,E,S){const L=S[0],A=S[1],$=S[2],w=S[3],m=S[4],M=S[5];let j=6,H=8,C=255;for(var P=0;P<x.length;P++){const Ee=new Uint8Array(x[P]);for(var z=Ee.length,N=0;N<z;N+=4)C&=Ee[N+3]}const U=C!=255,G=(function(ie,fe,xe,be,re,Re){const me=[];for(var ue=0;ue<ie.length;ue++){const Se=new Uint8Array(ie[ue]),Te=new Uint32Array(Se.buffer);var ke;let Ne=0,Ge=0,Oe=fe,ve=xe,Pe=be?1:0;if(ue!=0){const Tt=Re||be||ue==1||me[ue-2].dispose!=0?1:2;let bt=0,_t=1e9;for(let it=0;it<Tt;it++){var Ye=new Uint8Array(ie[ue-1-it]);const Et=new Uint32Array(ie[ue-1-it]);let qe=fe,We=xe,nt=-1,dt=-1;for(let Ae=0;Ae<xe;Ae++)for(let Y=0;Y<fe;Y++)Te[ye=Ae*fe+Y]!=Et[ye]&&(Y<qe&&(qe=Y),Y>nt&&(nt=Y),Ae<We&&(We=Ae),Ae>dt&&(dt=Ae));nt==-1&&(qe=We=nt=dt=0),re&&((1&qe)==1&&qe--,(1&We)==1&&We--);const Ce=(nt-qe+1)*(dt-We+1);Ce<_t&&(_t=Ce,bt=it,Ne=qe,Ge=We,Oe=nt-qe+1,ve=dt-We+1)}Ye=new Uint8Array(ie[ue-1-bt]),bt==1&&(me[ue-1].dispose=2),ke=new Uint8Array(Oe*ve*4),e(Ye,fe,xe,ke,Oe,ve,-Ne,-Ge,0),Pe=e(Se,fe,xe,ke,Oe,ve,-Ne,-Ge,3)?1:0,Pe==1?f(Se,fe,xe,ke,{x:Ne,y:Ge,width:Oe,height:ve}):e(Se,fe,xe,ke,Oe,ve,-Ne,-Ge,0)}else ke=Se.slice(0);me.push({rect:{x:Ne,y:Ge,width:Oe,height:ve},img:ke,blend:Pe,dispose:0})}if(be)for(ue=0;ue<me.length;ue++){if((Ke=me[ue]).blend==1)continue;const Se=Ke.rect,Te=me[ue-1].rect,Ne=Math.min(Se.x,Te.x),Ge=Math.min(Se.y,Te.y),Oe={x:Ne,y:Ge,width:Math.max(Se.x+Se.width,Te.x+Te.width)-Ne,height:Math.max(Se.y+Se.height,Te.y+Te.height)-Ge};me[ue-1].dispose=1,ue-1!=0&&u(ie,fe,xe,me,ue-1,Oe,re),u(ie,fe,xe,me,ue,Oe,re)}let ft=0;if(ie.length!=1)for(var ye=0;ye<me.length;ye++){var Ke;ft+=(Ke=me[ye]).rect.width*Ke.rect.height}return me})(x,y,R,L,A,$),W={},Z=[],V=[];if(E!=0){const Ee=[];for(N=0;N<G.length;N++)Ee.push(G[N].img.buffer);const ie=(function(re){let Re=0;for(var me=0;me<re.length;me++)Re+=re[me].byteLength;const ue=new Uint8Array(Re);let ke=0;for(me=0;me<re.length;me++){const Ye=new Uint8Array(re[me]),ft=Ye.length;for(let ye=0;ye<ft;ye+=4){let Ke=Ye[ye],Se=Ye[ye+1],Te=Ye[ye+2];const Ne=Ye[ye+3];Ne==0&&(Ke=Se=Te=0),ue[ke+ye]=Ke,ue[ke+ye+1]=Se,ue[ke+ye+2]=Te,ue[ke+ye+3]=Ne}ke+=ft}return ue.buffer})(Ee),fe=g(ie,E);for(N=0;N<fe.plte.length;N++)Z.push(fe.plte[N].est.rgba);let xe=0;for(N=0;N<G.length;N++){const be=(le=G[N]).img.length;var ee=new Uint8Array(fe.inds.buffer,xe>>2,be>>2);V.push(ee);const re=new Uint8Array(fe.abuf,xe,be);M&&a(le.img,le.rect.width,le.rect.height,Z,re,ee),le.img.set(re),xe+=be}}else for(P=0;P<G.length;P++){var le=G[P];const Ee=new Uint32Array(le.img.buffer);var oe=le.rect.width;for(z=Ee.length,ee=new Uint8Array(z),V.push(ee),N=0;N<z;N++){const ie=Ee[N];if(N!=0&&ie==Ee[N-1])ee[N]=ee[N-1];else if(N>oe&&ie==Ee[N-oe])ee[N]=ee[N-oe];else{let fe=W[ie];if(fe==null&&(W[ie]=fe=Z.length,Z.push(ie),Z.length>=300))break;ee[N]=fe}}}const He=Z.length;for(He<=256&&m==0&&(H=He<=2?1:He<=4?2:He<=16?4:8,H=Math.max(H,w)),P=0;P<G.length;P++){(le=G[P]).rect.x,le.rect.y,oe=le.rect.width;const Ee=le.rect.height;let ie=le.img;new Uint32Array(ie.buffer);let fe=4*oe,xe=4;if(He<=256&&m==0){fe=Math.ceil(H*oe/8);var Ue=new Uint8Array(fe*Ee);const be=V[P];for(let re=0;re<Ee;re++){N=re*fe;const Re=re*oe;if(H==8)for(var de=0;de<oe;de++)Ue[N+de]=be[Re+de];else if(H==4)for(de=0;de<oe;de++)Ue[N+(de>>1)]|=be[Re+de]<<4-4*(1&de);else if(H==2)for(de=0;de<oe;de++)Ue[N+(de>>2)]|=be[Re+de]<<6-2*(3&de);else if(H==1)for(de=0;de<oe;de++)Ue[N+(de>>3)]|=be[Re+de]<<7-1*(7&de)}ie=Ue,j=3,xe=1}else if(U==0&&G.length==1){Ue=new Uint8Array(oe*Ee*3);const be=oe*Ee;for(N=0;N<be;N++){const re=3*N,Re=4*N;Ue[re]=ie[Re],Ue[re+1]=ie[Re+1],Ue[re+2]=ie[Re+2]}ie=Ue,j=2,xe=3,fe=3*oe}le.img=ie,le.bpl=fe,le.bpp=xe}return{ctype:j,depth:H,plte:Z,frames:G}}function u(x,y,R,E,S,L,A){const $=Uint8Array,w=Uint32Array,m=new $(x[S-1]),M=new w(x[S-1]),j=S+1<x.length?new $(x[S+1]):null,H=new $(x[S]),C=new w(H.buffer);let P=y,z=R,N=-1,U=-1;for(let W=0;W<L.height;W++)for(let Z=0;Z<L.width;Z++){const V=L.x+Z,ee=L.y+W,le=ee*y+V,oe=C[le];oe==0||E[S-1].dispose==0&&M[le]==oe&&(j==null||j[4*le+3]!=0)||(V<P&&(P=V),V>N&&(N=V),ee<z&&(z=ee),ee>U&&(U=ee))}N==-1&&(P=z=N=U=0),A&&((1&P)==1&&P--,(1&z)==1&&z--),L={x:P,y:z,width:N-P+1,height:U-z+1};const G=E[S];G.rect=L,G.blend=1,G.img=new Uint8Array(L.width*L.height*4),E[S-1].dispose==0?(e(m,y,R,G.img,L.width,L.height,-L.x,-L.y,0),f(H,y,R,G.img,L)):e(H,y,R,G.img,L.width,L.height,-L.x,-L.y,0)}function f(x,y,R,E,S){e(x,y,R,E,S.width,S.height,-S.x,-S.y,2)}function h(x,y,R,E,S,L,A){const $=[];let w,m=[0,1,2,3,4];L!=-1?m=[L]:(y*E>5e5||R==1)&&(m=[0]),A&&(w={level:0});const M=_c;for(var j=0;j<m.length;j++){for(let P=0;P<y;P++)p(S,x,P,E,R,m[j]);$.push(M.deflate(S,w))}let H,C=1e9;for(j=0;j<$.length;j++)$[j].length<C&&(H=j,C=$[j].length);return $[H]}function p(x,y,R,E,S,L){const A=R*E;let $=A+R;if(x[$]=L,$++,L==0)if(E<500)for(var w=0;w<E;w++)x[$+w]=y[A+w];else x.set(new Uint8Array(y.buffer,A,E),$);else if(L==1){for(w=0;w<S;w++)x[$+w]=y[A+w];for(w=S;w<E;w++)x[$+w]=y[A+w]-y[A+w-S]+256&255}else if(R==0){for(w=0;w<S;w++)x[$+w]=y[A+w];if(L==2)for(w=S;w<E;w++)x[$+w]=y[A+w];if(L==3)for(w=S;w<E;w++)x[$+w]=y[A+w]-(y[A+w-S]>>1)+256&255;if(L==4)for(w=S;w<E;w++)x[$+w]=y[A+w]-n(y[A+w-S],0,0)+256&255}else{if(L==2)for(w=0;w<E;w++)x[$+w]=y[A+w]+256-y[A+w-E]&255;if(L==3){for(w=0;w<S;w++)x[$+w]=y[A+w]+256-(y[A+w-E]>>1)&255;for(w=S;w<E;w++)x[$+w]=y[A+w]+256-(y[A+w-E]+y[A+w-S]>>1)&255}if(L==4){for(w=0;w<S;w++)x[$+w]=y[A+w]+256-n(0,y[A+w-E],0)&255;for(w=S;w<E;w++)x[$+w]=y[A+w]+256-n(y[A+w-S],y[A+w-E],y[A+w-S-E])&255}}}function g(x,y){const R=new Uint8Array(x),E=R.slice(0),S=new Uint32Array(E.buffer),L=b(E,y),A=L[0],$=L[1],w=R.length,m=new Uint8Array(w>>2);let M;if(R.length<2e7)for(var j=0;j<w;j+=4)M=v(A,H=R[j]*(1/255),C=R[j+1]*(1/255),P=R[j+2]*(1/255),z=R[j+3]*(1/255)),m[j>>2]=M.ind,S[j>>2]=M.est.rgba;else for(j=0;j<w;j+=4){var H=R[j]*.00392156862745098,C=R[j+1]*(1/255),P=R[j+2]*(1/255),z=R[j+3]*(1/255);for(M=A;M.left;)M=O(M.est,H,C,P,z)<=0?M.left:M.right;m[j>>2]=M.ind,S[j>>2]=M.est.rgba}return{abuf:E.buffer,inds:m,plte:$}}function b(x,y,R){R==null&&(R=1e-4);const E=new Uint32Array(x.buffer),S={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};S.bst=D(x,S.i0,S.i1),S.est=_(S.bst);const L=[S];for(;L.length<y;){let $=0,w=0;for(var A=0;A<L.length;A++)L[A].est.L>$&&($=L[A].est.L,w=A);if($<R)break;const m=L[w],M=T(x,E,m.i0,m.i1,m.est.e,m.est.eMq255);if(m.i0>=M||m.i1<=M){m.est.L=0;continue}const j={i0:m.i0,i1:M,bst:null,est:null,tdst:0,left:null,right:null};j.bst=D(x,j.i0,j.i1),j.est=_(j.bst);const H={i0:M,i1:m.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:m.bst.N-j.bst.N},A=0;A<16;A++)H.bst.R[A]=m.bst.R[A]-j.bst.R[A];for(A=0;A<4;A++)H.bst.m[A]=m.bst.m[A]-j.bst.m[A];H.est=_(H.bst),m.left=j,m.right=H,L[w]=j,L.push(H)}for(L.sort((($,w)=>w.bst.N-$.bst.N)),A=0;A<L.length;A++)L[A].ind=A;return[S,L]}function v(x,y,R,E,S){if(x.left==null)return x.tdst=(function(j,H,C,P,z){const N=H-j[0],U=C-j[1],G=P-j[2],W=z-j[3];return N*N+U*U+G*G+W*W})(x.est.q,y,R,E,S),x;const L=O(x.est,y,R,E,S);let A=x.left,$=x.right;L>0&&(A=x.right,$=x.left);const w=v(A,y,R,E,S);if(w.tdst<=L*L)return w;const m=v($,y,R,E,S);return m.tdst<w.tdst?m:w}function O(x,y,R,E,S){const{e:L}=x;return L[0]*y+L[1]*R+L[2]*E+L[3]*S-x.eMq}function T(x,y,R,E,S,L){for(E-=4;R<E;){for(;I(x,R,S)<=L;)R+=4;for(;I(x,E,S)>L;)E-=4;if(R>=E)break;const A=y[R>>2];y[R>>2]=y[E>>2],y[E>>2]=A,R+=4,E-=4}for(;I(x,R,S)>L;)R-=4;return R+4}function I(x,y,R){return x[y]*R[0]+x[y+1]*R[1]+x[y+2]*R[2]+x[y+3]*R[3]}function D(x,y,R){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,0,0,0],L=R-y>>2;for(let A=y;A<R;A+=4){const $=x[A]*.00392156862745098,w=x[A+1]*(1/255),m=x[A+2]*(1/255),M=x[A+3]*(1/255);S[0]+=$,S[1]+=w,S[2]+=m,S[3]+=M,E[0]+=$*$,E[1]+=$*w,E[2]+=$*m,E[3]+=$*M,E[5]+=w*w,E[6]+=w*m,E[7]+=w*M,E[10]+=m*m,E[11]+=m*M,E[15]+=M*M}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:S,N:L}}function _(x){const{R:y}=x,{m:R}=x,{N:E}=x,S=R[0],L=R[1],A=R[2],$=R[3],w=E==0?0:1/E,m=[y[0]-S*S*w,y[1]-S*L*w,y[2]-S*A*w,y[3]-S*$*w,y[4]-L*S*w,y[5]-L*L*w,y[6]-L*A*w,y[7]-L*$*w,y[8]-A*S*w,y[9]-A*L*w,y[10]-A*A*w,y[11]-A*$*w,y[12]-$*S*w,y[13]-$*L*w,y[14]-$*A*w,y[15]-$*$*w],M=m,j=k;let H=[Math.random(),Math.random(),Math.random(),Math.random()],C=0,P=0;if(E!=0)for(let N=0;N<16&&(H=j.multVec(M,H),P=Math.sqrt(j.dot(H,H)),H=j.sml(1/P,H),!(N!=0&&Math.abs(P-C)<1e-9));N++)C=P;const z=[S*w,L*w,A*w,$*w];return{Cov:m,q:z,e:H,L:C,eMq255:j.dot(j.sml(255,z),H),eMq:j.dot(H,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var k={multVec:(x,y)=>[x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3],x[4]*y[0]+x[5]*y[1]+x[6]*y[2]+x[7]*y[3],x[8]*y[0]+x[9]*y[1]+x[10]*y[2]+x[11]*y[3],x[12]*y[0]+x[13]*y[1]+x[14]*y[2]+x[15]*y[3]],dot:(x,y)=>x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3],sml:(x,y)=>[x*y[0],x*y[1],x*y[2],x*y[3]]};at.encode=function(y,R,E,S,L,A,$){S==null&&(S=0),$==null&&($=!1);const w=l(y,R,E,S,[!1,!1,!1,0,$,!1]);return d(w,-1),c(w,R,E,L,A)},at.encodeLL=function(y,R,E,S,L,A,$,w){const m={ctype:0+(S==1?0:2)+(L==0?0:4),depth:A,frames:[]},M=(S+L)*A,j=M*R;for(let H=0;H<y.length;H++)m.frames.push({rect:{x:0,y:0,width:R,height:E},img:new Uint8Array(y[H]),blend:0,dispose:1,bpp:Math.ceil(M/8),bpl:Math.ceil(j/8)});return d(m,0,!0),c(m,R,E,$,w)},at.encode.compress=l,at.encode.dither=a,at.quantize=g,at.quantize.getKDtree=b,at.quantize.getNearest=v})();const Qs={toArrayBuffer(e,t){const n=e.width,r=e.height,o=n<<2,s=e.getContext("2d").getImageData(0,0,n,r),i=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,c=a*r,d=122+c,l=new ArrayBuffer(d),u=new DataView(l),f=1<<20;let h,p,g,b,v=f,O=0,T=0,I=0;function D(x){u.setUint16(T,x,!0),T+=2}function _(x){u.setUint32(T,x,!0),T+=4}function k(x){T+=x}D(19778),_(d),k(4),_(122),_(108),_(n),_(-r>>>0),D(1),D(32),_(3),_(c),_(2835),_(2835),k(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),(function x(){for(;O<r&&v>0;){for(b=122+O*a,h=0;h<o;)v--,p=i[I++],g=p>>>24,u.setUint32(b+h,p<<8|g),h+=4;O++}I<i.length?(v=f,setTimeout(x,Qs._dly)):t(l)})()},toBlob(e,t){this.toArrayBuffer(e,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Xe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Sc={[Xe.CHROME]:16384,[Xe.FIREFOX]:11180,[Xe.DESKTOP_SAFARI]:16384,[Xe.IE]:8192,[Xe.IOS]:4096,[Xe.ETC]:8192};const eo=typeof window<"u",Zs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Hn=eo&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Cc=(eo||Zs)&&(Hn&&Hn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Js=(eo||Zs)&&(Hn&&Hn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function to(e,t,n=Date.now()){return new Promise((r=>{const o=e.split(","),s=o[0].match(/:(.*?);/)[1],i=globalThis.atob(o[1]);let a=i.length;const c=new Uint8Array(a);for(;a--;)c[a]=i.charCodeAt(a);const d=new Blob([c],{type:s});d.name=t,d.lastModified=n,r(d)}))}function ei(e){return new Promise(((t,n)=>{const r=new Js;r.onload=()=>t(r.result),r.onerror=o=>n(o),r.readAsDataURL(e)}))}function ti(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=o=>n(o),r.src=e}))}function $t(){if($t.cachedResult!==void 0)return $t.cachedResult;let e=Xe.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Xe.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Xe.IOS:/Safari/i.test(t)?e=Xe.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Xe.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Xe.IE),$t.cachedResult=e,$t.cachedResult}function ni(e,t){const n=$t(),r=Sc[n];let o=e,s=t,i=o*s;const a=o>s?s/o:o/s;for(;i>r*r;){const c=(r+o)/2,d=(r+s)/2;c<d?(s=d,o=d*a):(s=c*a,o=c),i=o*s}return{width:o,height:s}}function tr(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function ri(e,t){const{width:n,height:r}=ni(e.width,e.height),[o,s]=tr(n,r);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,o.width,o.height)),s.drawImage(e,0,0,o.width,o.height),o}function jn(){return jn.cachedResult!==void 0||(jn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),jn.cachedResult}function Gn(e,t={}){return new Promise((function(n,r){let o,s;var i=function(){try{return s=ri(o,t.fileType||e.type),n([o,s])}catch(c){return r(c)}},a=function(c){try{var d=function(l){try{throw l}catch(u){return r(u)}};try{let l;return ei(e).then((function(u){try{return l=u,ti(l).then((function(f){try{return o=f,(function(){try{return i()}catch(h){return r(h)}})()}catch(h){return d(h)}}),d)}catch(f){return d(f)}}),d)}catch(l){d(l)}}catch(l){return r(l)}};try{if(jn()||[Xe.DESKTOP_SAFARI,Xe.MOBILE_SAFARI].includes($t()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(c){try{return o=c,i()}catch{return a()}}),a)}catch{a()}}))}function qn(e,t,n,r,o=1){return new Promise((function(s,i){let a;if(t==="image/png"){let d,l,u;return d=e.getContext("2d"),{data:l}=d.getImageData(0,0,e.width,e.height),u=at.encode([l.buffer],e.width,e.height,4096*o),a=new Blob([u],{type:t}),a.name=n,a.lastModified=r,c.call(this)}{let d=function(){return c.call(this)};if(t==="image/bmp")return new Promise((l=>Qs.toBlob(e,l))).then((function(l){try{return a=l,a.name=n,a.lastModified=r,d.call(this)}catch(u){return i(u)}}).bind(this),i);{let l=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then((function(u){try{return a=u,a.name=n,a.lastModified=r,l.call(this)}catch(f){return i(f)}}).bind(this),i);{let u;return u=e.toDataURL(t,o),to(u,n,r).then((function(f){try{return a=f,l.call(this)}catch(h){return i(h)}}).bind(this),i)}}}function c(){return s(a)}}))}function mt(e){e.width=0,e.height=0}function Xt(){return new Promise((function(e,t){let n,r,o,s;return Xt.cachedResult!==void 0?e(Xt.cachedResult):to("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(i){try{return n=i,Gn(n).then((function(a){try{return r=a[1],qn(r,n.type,n.name,n.lastModified).then((function(c){try{return o=c,mt(r),Gn(o).then((function(d){try{return s=d[0],Xt.cachedResult=s.width===1&&s.height===2,e(Xt.cachedResult)}catch(l){return t(l)}}),t)}catch(d){return t(d)}}),t)}catch(c){return t(c)}}),t)}catch(a){return t(a)}}),t)}))}function oi(e){return new Promise(((t,n)=>{const r=new Js;r.onload=o=>{const s=new DataView(o.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const i=s.byteLength;let a=2;for(;a<i;){if(s.getUint16(a+2,!1)<=8)return t(-1);const c=s.getUint16(a,!1);if(a+=2,c==65505){if(s.getUint32(a+=2,!1)!=1165519206)return t(-1);const d=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,d);const l=s.getUint16(a,d);a+=2;for(let u=0;u<l;u++)if(s.getUint16(a+12*u,d)==274)return t(s.getUint16(a+12*u+8,d))}else{if((65280&c)!=65280)break;a+=s.getUint16(a,!1)}}return t(-1)},r.onerror=o=>n(o),r.readAsArrayBuffer(e)}))}function si(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:o}=t;let s,i=e;return isFinite(o)&&(n>o||r>o)&&([i,s]=tr(n,r),n>r?(i.width=o,i.height=r/n*o):(i.width=n/r*o,i.height=o),s.drawImage(e,0,0,i.width,i.height),mt(e)),i}function ii(e,t){const{width:n}=e,{height:r}=e,[o,s]=tr(n,r);switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,r),mt(e),o}function Bo(e,t,n=0){return new Promise((function(r,o){let s,i,a,c,d,l,u,f,h,p,g,b,v,O,T,I,D,_,k,x;function y(E=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=E,t.onProgress(Math.min(s,100))}function R(E){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(E,s),100),t.onProgress(s)}return s=n,i=t.maxIteration||10,a=1024*t.maxSizeMB*1024,y(),Gn(e,t).then((function(E){try{return[,c]=E,y(),d=si(c,t),y(),new Promise((function(S,L){var A;if(!(A=t.exifOrientation))return oi(e).then((function(w){try{return A=w,$.call(this)}catch(m){return L(m)}}).bind(this),L);function $(){return S(A)}return $.call(this)})).then((function(S){try{return l=S,y(),Xt().then((function(L){try{return u=L?d:ii(d,l),y(),f=t.initialQuality||1,h=t.fileType||e.type,qn(u,h,e.name,e.lastModified,f).then((function(A){try{{let w=function(){if(i--&&(T>a||T>v)){let M,j;return M=x?.95*k.width:k.width,j=x?.95*k.height:k.height,[D,_]=tr(M,j),_.drawImage(k,0,0,M,j),f*=h==="image/png"?.85:.95,qn(D,h,e.name,e.lastModified,f).then((function(H){try{return I=H,mt(k),k=D,T=I.size,R(Math.min(99,Math.floor((O-T)/(O-a)*100))),w}catch(C){return o(C)}}),o)}return[1]},m=function(){return mt(k),mt(D),mt(d),mt(u),mt(c),R(100),r(I)};if(p=A,y(),g=p.size>a,b=p.size>e.size,!g&&!b)return R(100),r(p);var $;return v=e.size,O=p.size,T=O,k=u,x=!t.alwaysKeepResolution&&g,($=(function(M){for(;M;){if(M.then)return void M.then($,o);try{if(M.pop){if(M.length)return M.pop()?m.call(this):M;M=w}else M=M.call(this)}catch(j){return o(j)}}}).bind(this))(w)}}catch(w){return o(w)}}).bind(this),o)}catch(A){return o(A)}}).bind(this),o)}catch(L){return o(L)}}).bind(this),o)}catch(S){return o(S)}}).bind(this),o)}))}const Ac=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let xr;function Ec(e,t){return new Promise(((n,r)=>{xr||(xr=(function(i){const a=[];return a.push(i),URL.createObjectURL(new Blob(a))})(Ac));const o=new Worker(xr);o.addEventListener("message",(function(i){if(t.signal&&t.signal.aborted)o.terminate();else if(i.data.progress===void 0){if(i.data.error)return r(new Error(i.data.error)),void o.terminate();n(i.data.file),o.terminate()}else t.onProgress(i.data.progress)})),o.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function ze(e,t){return new Promise((function(n,r){let o,s,i,a,c,d;if(o={...t},i=0,{onProgress:a}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=h=>{i=h,typeof a=="function"&&a(i)},!(e instanceof Blob||e instanceof Cc))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return Bo(e,o).then((function(h){try{return s=h,f.call(this)}catch(p){return r(p)}}).bind(this),r);var l=(function(){try{return f.call(this)}catch(h){return r(h)}}).bind(this),u=function(h){try{return Bo(e,o).then((function(p){try{return s=p,l()}catch(g){return r(g)}}),r)}catch(p){return r(p)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ec(e,o).then((function(h){try{return s=h,l()}catch{return u()}}),u)}catch{u()}function f(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{o.preserveExif&&e.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(s=Ks(e,s))}catch{}return n(s)}}))}ze.getDataUrlFromFile=ei,ze.getFilefromDataUrl=to,ze.loadImage=ti,ze.drawImageInCanvas=ri,ze.drawFileInCanvas=Gn,ze.canvasToFile=qn,ze.getExifOrientation=oi,ze.handleMaxWidthOrHeight=si,ze.followExifOrientation=ii,ze.cleanupCanvasMemory=mt,ze.isAutoOrientationInBrowser=Xt,ze.approximateBelowMaximumCanvasSizeOfBrowser=ni,ze.copyExifWithoutOrientation=Ks,ze.getBrowserName=$t,ze.version="2.0.2";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ic=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),zo=e=>{const t=Ic(e);return t.charAt(0).toUpperCase()+t.slice(1)},ai=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Lc=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},c)=>F.createElement("svg",{ref:c,...kc,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ai("lucide",o),...!s&&!Lc(a)&&{"aria-hidden":"true"},...a},[...i.map(([d,l])=>F.createElement(d,l)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(e,t)=>{const n=F.forwardRef(({className:r,...o},s)=>F.createElement(Tc,{ref:s,iconNode:t,className:ai(`lucide-${Rc(zo(e))}`,`lucide-${e}`,r),...o}));return n.displayName=zo(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pc=Ht("copy",Oc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dc=Ht("download",$c);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Mc=Ht("move-down",jc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Nc=Ht("move-up",Uc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Bc=Ht("redo",Fc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hc=Ht("trash",zc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],qc=Ht("undo",Gc),jt=J.button`
  text-align: center;
  padding: 8px;
  cursor: ${({variant:e})=>e==="disabled"?"not-allowed":"pointer"};
  border: none;
  font-size: 16px;

  width: ${({$full:e})=>e?"100%":"auto"};
  box-sizing: border-box;

  border: ${({theme:e,variant:t})=>{switch(t){case"outline":return`1px solid ${e.colors.primary}`}}};
  
  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.white;case"disabled":return e.colors.white;case"outline":return e.colors.primaryText;default:return e.colors.white}}};
  
  background-color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.warning;case"disabled":return e.colors.disabled;case"outline":return e.colors.white;default:return e.colors.primary}}};
  
  opacity: ${({variant:e})=>e==="disabled"?.6:1};
  pointer-events: ${({variant:e})=>e==="disabled"?"none":"auto"};
  
  @media (max-width: 768px) {
    margin-top: 0;
  }
  
  &:hover {
    opacity: ${({variant:e})=>e==="disabled"?.6:.9};
    background-color: ${({theme:e,variant:t})=>{switch(t){case"outline":return e.colors.primary}}};

  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"outline":return e.colors.white}}};
  }
`,ff=J.h1`
  font-size: 36px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;J.h2`
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;J.h3`
  font-size: 24px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;const Wc=J.h4`
  font-size: 20px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
  margin-bottom: 12px;
`,ci=J.h5`
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,et=J.p`
  font-size: ${({size:e="medium"})=>{switch(e){case"small":return"14px";case"large":return"18px";default:return"16px"}}};
  font-weight: 400;
  line-height: 1.5;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,df=J(et).attrs({as:"p"})`
  font-size: 12px;
  margin-bottom: 16px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,nn=J(et).attrs({as:"label"})`
  font-weight: 500;
  display: block;
  margin-bottom: 4px;
  color: ${({theme:e})=>e.colors.white};
  background-color: ${({theme:e})=>e.colors.primary};
  width: fit-content;
  margin-bottom: 4px;
`;J(et).attrs({as:"span"})`
  font-size: 12px;
  opacity: 0.7;
`;const hf=J.a`
  font-size: 12px;
  color: ${({theme:e})=>e.colors.primary};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,no=F.forwardRef((e,t)=>{const n=Le.c(32);let r,o,s,i,a,c;if(n[0]!==e){const{id:I,label:D,min:_,max:k,refresh:x,defaultValue:y,...R}=e;o=I,s=D,a=_,i=k,r=y,c=R,n[0]=e,n[1]=r,n[2]=o,n[3]=s,n[4]=i,n[5]=a,n[6]=c}else r=n[1],o=n[2],s=n[3],i=n[4],a=n[5],c=n[6];const{loading:d}=zt(),[l,u]=F.useState(r??c.value??a??0);let f,h;n[7]!==c.value?(f=()=>{c.value!==void 0&&u(c.value)},h=[c.value],n[7]=c.value,n[8]=f,n[9]=h):(f=n[8],h=n[9]),F.useEffect(f,h);let p;n[10]!==o||n[11]!==s?(p=B.jsx(nn,{htmlFor:o,children:s}),n[10]=o,n[11]=s,n[12]=p):p=n[12];let g;n[13]!==l?(g=B.jsx(Xc,{children:l}),n[13]=l,n[14]=g):g=n[14];let b;n[15]!==p||n[16]!==g?(b=B.jsxs(Vc,{children:[p,g]}),n[15]=p,n[16]=g,n[17]=b):b=n[17];let v;n[18]!==c?(v=I=>{u(parseFloat(I.target.value)),c.onChange?.(I)},n[18]=c,n[19]=v):v=n[19];let O;n[20]!==r||n[21]!==o||n[22]!==d||n[23]!==i||n[24]!==a||n[25]!==t||n[26]!==c||n[27]!==v?(O=B.jsx(Kc,{onChange:v,disabled:d,ref:t,id:o,type:"range",min:a,max:i,defaultValue:r,...c}),n[20]=r,n[21]=o,n[22]=d,n[23]=i,n[24]=a,n[25]=t,n[26]=c,n[27]=v,n[28]=O):O=n[28];let T;return n[29]!==b||n[30]!==O?(T=B.jsxs(Yc,{children:[b,O]}),n[29]=b,n[30]=O,n[31]=T):T=n[31],T});no.displayName="Slider";const Vc=J.div`
    display: flex;
    justify-content: space-between;
    width: 100%;
    align-items: center;
`,Yc=J.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  color: #333;
  flex-wrap: wrap;
  height: 56px;
  align-content: end;
`,Xc=J.span`
  padding: 0;
  border: none;
  height: 16px;
  max-width: 48px;
  color: #333;
  text-align: end;
  background-color: transparent;
  -moz-appearance: textfield;
  -webkit-appearance: textfield;
  appearance: textfield;

  &::-webkit-inner-spin-button,
  &::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &:focus {
    border-radius: 0;
    outline: none;
    font-weight: 700;
    border-bottom: 1px solid #333;
    margin-bottom: -1px;
  }
`,Kc=J.input`
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  height: 24px;
  background: transparent;
  outline: none;
  margin: 2px 0 0;
  flex-basis: 100%;
  position: relative;
  cursor: pointer;

  &:before {
    content: "";
    position: absolute;
    top: 14px;
    left: 0;
    right: 0;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: height 0.2s ease, opacity 0.2s ease;
    pointer-events: none;
  }

  &:focus:before,
  &:hover:before {
    height: 1px;
    opacity: 1;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    border-left: 1px solid #333;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: #f9f8f5;
    margin-top: -4px;
    position: relative;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-webkit-slider-thumb,
  &:hover::-webkit-slider-thumb {
    opacity: 1;
  }

  &::-moz-range-track {
    width: 100%;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-track,
  &:hover::-moz-range-track {
    opacity: 1;
  }

  &::-moz-range-thumb {
    border: none;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-thumb,
  &:hover::-moz-range-thumb {
    opacity: 1;
  }
`,Qc=()=>{const{state:e}=Me(),{start:t,stop:n}=zt(),[r,o]=F.useState(!1),s=F.useRef(null),i=async a=>{if(!e.imgCtx)return;if(!e.ftype){console.error("uploaded image don't have a FileType");return}const c=e.ftype;o(!0),t();const d=await new Promise(v=>{e.imgCtx.canvas.toBlob(O=>{const T=new File([O],`out.${c.ext}`,{type:c.mime});v(T)},c.mime,a)});a===100&&(a=0);const f={maxSizeMB:d.size/(1024*1024)*a/100/1024,maxWidthOrHeight:void 0,useWebWorker:!0,alwaysKeepResolution:!0,initialQuality:a/100},h=await ze(d,f),p=await Ha(await h.arrayBuffer()),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`${p}.gif`,b.click(),URL.revokeObjectURL(g),n(),o(!1)};return B.jsxs(Xs,{direction:"col",children:[B.jsx(no,{id:"imageQuality",label:"Quality",ref:s,type:"range",step:1,min:10,max:100,defaultValue:100}),B.jsx(jt,{variant:`${r?"disabled":"primary"}`,disabled:r,$full:!0,type:"button",onClick:()=>i(Number(s.current?.value)),children:r?"Exporting...":B.jsxs(Dn,{children:[B.jsx(Dc,{size:15}),B.jsx("span",{children:"Export"})]})})]})},Zc=F.lazy(()=>vc(()=>import("./gif-export-qPtNBT0D.js"),[])),pf=()=>{const e=Le.c(22),{state:t}=Me(),[n,r]=F.useState("Image");if(!t.imgCtx){let D;return e[0]===Symbol.for("react.memo_cache_sentinel")?(D=B.jsx("div",{}),e[0]=D):D=e[0],D}let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=D=>{r(D)},e[1]=o):o=e[1];const s=o;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=B.jsx(ci,{style:{marginBottom:"12px"},children:"Export"}),e[2]=i):i=e[2];let a,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(a={marginBottom:"12px"},c=B.jsx(et,{variant:"secondary",size:"small",children:"Output Format"}),e[3]=a,e[4]=c):(a=e[3],c=e[4]);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={cursor:"pointer"},e[5]=d):d=e[5];const l=n==="Image"?"primary":"secondary";let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s("Image"),e[6]=u):u=e[6];let f;e[7]!==l?(f=B.jsx(et,{style:d,size:"small",variant:l,onClick:u,children:"Image"}),e[7]=l,e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=B.jsx("span",{children:"/"}),e[9]=h):h=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p={cursor:"pointer"},e[10]=p):p=e[10];const g=n==="GIF"?"primary":"secondary";let b;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>s("GIF"),e[11]=b):b=e[11];let v;e[12]!==g?(v=B.jsx(et,{style:p,size:"small",variant:g,onClick:b,children:"GIF"}),e[12]=g,e[13]=v):v=e[13];let O;e[14]!==v||e[15]!==f?(O=B.jsxs(tn,{style:a,children:[c,B.jsxs(el,{children:[f,h,v]})]}),e[14]=v,e[15]=f,e[16]=O):O=e[16];let T;e[17]!==n?(T=B.jsx(F.Suspense,{fallback:"Loading...",children:n==="Image"?B.jsx(Qc,{}):B.jsx(Zc,{})}),e[17]=n,e[18]=T):T=e[18];let I;return e[19]!==O||e[20]!==T?(I=B.jsxs(Jc,{id:"exportContainer",children:[i,O,T]}),e[19]=O,e[20]=T,e[21]=I):I=e[21],I},Jc=J.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,el=J.div`
  display: flex;
  align-items: center;
  gap: 0 12px;
`,Ho=e=>{const t=Le.c(8);let n;t[0]!==e?({...n}=e,t[0]=e,t[1]=n):n=t[1];const r=F.useRef(null);let o;t[2]!==n?(o=d=>{n.onClick&&n?.onClick(d);const l=r.current;l&&(l.checked=!l.checked)},t[2]=n,t[3]=o):o=t[3];const s=o;let i,a;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=B.jsx(nl,{ref:r,type:"checkbox"}),a=B.jsx(rl,{}),t[4]=i,t[5]=a):(i=t[4],a=t[5]);let c;return t[6]!==s?(c=B.jsxs(tl,{onClick:s,children:[i,a]}),t[6]=s,t[7]=c):c=t[7],c},tl=J.div`
  position: relative;
  display: inline-block;
  width: 60px;
  height: 24px;
`,nl=J.input`
  display: none;
  
  &:checked + label {
    background-color: ${({theme:e})=>e.colors.primary};
  }
  
  &:checked + label::before {
    transform: translateX(26px);
  }
`,rl=J.label`
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .3s;
  
  &::before {
    position: absolute;
    content: "";
    height: 20px;
    width: 30px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s;
  }
`,gf=()=>{const e=Le.c(16),{dispatch:t,state:n}=Me();let r;e[0]!==t||e[1]!==n.mode?(r=()=>{let h;n.mode==="edit"?h="move":h="edit",t({type:X.UpdateState,payload:{key:"mode",value:h}})},e[0]=t,e[1]=n.mode,e[2]=r):r=e[2];const o=r;let s;e[3]!==t||e[4]!==n.hideSelectionOverlay?(s=()=>{t({type:X.UpdateState,payload:{key:"hideSelectionOverlay",value:!n.hideSelectionOverlay}})},e[3]=t,e[4]=n.hideSelectionOverlay,e[5]=s):s=e[5];const i=s;let a;e[6]===Symbol.for("react.memo_cache_sentinel")?(a=B.jsx(ci,{style:{marginBottom:"12px"},children:"Global Configurations"}),e[6]=a):a=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=B.jsx(et,{size:"small",variant:"secondary",children:"Enable move mode"}),e[7]=c):c=e[7];let d;e[8]!==o?(d=B.jsxs(tn,{children:[c,B.jsx(Ho,{onClick:o})]}),e[8]=o,e[9]=d):d=e[9];let l;e[10]===Symbol.for("react.memo_cache_sentinel")?(l=B.jsx(et,{size:"small",variant:"secondary",children:"Hide Selection Overlay"}),e[10]=l):l=e[10];let u;e[11]!==i?(u=B.jsxs(tn,{children:[l,B.jsx(Ho,{onClick:i})]}),e[11]=i,e[12]=u):u=e[12];let f;return e[13]!==d||e[14]!==u?(f=B.jsxs(ol,{children:[a,B.jsxs(Xs,{direction:"col",children:[d,u]})]}),e[13]=d,e[14]=u,e[15]=f):f=e[15],f},ol=J.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,rn=Math.min,Mt=Math.max,Wn=Math.round,Rn=Math.floor,yt=e=>({x:e,y:e}),sl={left:"right",right:"left",bottom:"top",top:"bottom"},il={start:"end",end:"start"};function Nr(e,t,n){return Mt(e,rn(t,n))}function xn(e,t){return typeof e=="function"?e(t):e}function Ft(e){return e.split("-")[0]}function bn(e){return e.split("-")[1]}function li(e){return e==="x"?"y":"x"}function ro(e){return e==="y"?"height":"width"}const al=new Set(["top","bottom"]);function It(e){return al.has(Ft(e))?"y":"x"}function oo(e){return li(It(e))}function cl(e,t,n){n===void 0&&(n=!1);const r=bn(e),o=oo(e),s=ro(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Vn(i)),[i,Vn(i)]}function ll(e){const t=Vn(e);return[Fr(e),t,Fr(t)]}function Fr(e){return e.replace(/start|end/g,t=>il[t])}const Go=["left","right"],qo=["right","left"],ul=["top","bottom"],fl=["bottom","top"];function dl(e,t,n){switch(e){case"top":case"bottom":return n?t?qo:Go:t?Go:qo;case"left":case"right":return t?ul:fl;default:return[]}}function hl(e,t,n,r){const o=bn(e);let s=dl(Ft(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Fr)))),s}function Vn(e){return e.replace(/left|right|bottom|top/g,t=>sl[t])}function pl(e){return{top:0,right:0,bottom:0,left:0,...e}}function ui(e){return typeof e!="number"?pl(e):{top:e,right:e,bottom:e,left:e}}function Yn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Wo(e,t,n){let{reference:r,floating:o}=e;const s=It(t),i=oo(t),a=ro(i),c=Ft(t),d=s==="y",l=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(c){case"top":h={x:l,y:r.y-o.height};break;case"bottom":h={x:l,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(bn(t)){case"start":h[i]-=f*(n&&d?-1:1);break;case"end":h[i]+=f*(n&&d?-1:1);break}return h}const gl=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:u}=Wo(d,r,c),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:O,y:T,data:I,reset:D}=await v({x:l,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:d,platform:i,elements:{reference:e,floating:t}});l=O??l,u=T??u,h={...h,[b]:{...h[b],...I}},D&&p<=50&&(p++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(d=D.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:l,y:u}=Wo(d,f,c)),g=-1)}return{x:l,y:u,placement:f,strategy:o,middlewareData:h}};async function fi(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:f=!1,padding:h=0}=xn(t,e),p=ui(h),b=a[f?u==="floating"?"reference":"floating":u],v=Yn(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:l,strategy:c})),O=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Yn(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:T,strategy:c}):O);return{top:(v.top-D.top+p.top)/I.y,bottom:(D.bottom-v.bottom+p.bottom)/I.y,left:(v.left-D.left+p.left)/I.x,right:(D.right-v.right+p.right)/I.x}}const ml=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:c}=t,{element:d,padding:l=0}=xn(e,t)||{};if(d==null)return{};const u=ui(l),f={x:n,y:r},h=oo(o),p=ro(h),g=await i.getDimensions(d),b=h==="y",v=b?"top":"left",O=b?"bottom":"right",T=b?"clientHeight":"clientWidth",I=s.reference[p]+s.reference[h]-f[h]-s.floating[p],D=f[h]-s.reference[h],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=_?_[T]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=a.floating[T]||s.floating[p]);const x=I/2-D/2,y=k/2-g[p]/2-1,R=rn(u[v],y),E=rn(u[O],y),S=R,L=k-g[p]-E,A=k/2-g[p]/2+x,$=Nr(S,A,L),w=!c.arrow&&bn(o)!=null&&A!==$&&s.reference[p]/2-(A<S?R:E)-g[p]/2<0,m=w?A<S?A-S:A-L:0;return{[h]:f[h]+m,data:{[h]:$,centerOffset:A-$-m,...w&&{alignmentOffset:m}},reset:w}}}),yl=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:c,elements:d}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=xn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ft(o),O=It(a),T=Ft(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=f||(T||!g?[Vn(a)]:ll(a)),_=p!=="none";!f&&_&&D.push(...hl(a,g,p,I));const k=[a,...D],x=await fi(t,b),y=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(l&&y.push(x[v]),u){const A=cl(o,i,I);y.push(x[A[0]],x[A[1]])}if(R=[...R,{placement:o,overflows:y}],!y.every(A=>A<=0)){var E,S;const A=(((E=s.flip)==null?void 0:E.index)||0)+1,$=k[A];if($&&(!(u==="alignment"?O!==It($):!1)||R.every(M=>It(M.placement)===O?M.overflows[0]>0:!0)))return{data:{index:A,overflows:R},reset:{placement:$}};let w=(S=R.filter(m=>m.overflows[0]<=0).sort((m,M)=>m.overflows[1]-M.overflows[1])[0])==null?void 0:S.placement;if(!w)switch(h){case"bestFit":{var L;const m=(L=R.filter(M=>{if(_){const j=It(M.placement);return j===O||j==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((M,j)=>M[1]-j[1])[0])==null?void 0:L[0];m&&(w=m);break}case"initialPlacement":w=a;break}if(o!==w)return{reset:{placement:w}}}return{}}}},vl=new Set(["left","top"]);async function wl(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ft(n),a=bn(n),c=It(n)==="y",d=vl.has(i)?-1:1,l=s&&c?-1:1,u=xn(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*l,y:f*d}:{x:f*d,y:h*l}}const xl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,c=await wl(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},bl=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:v,y:O}=b;return{x:v,y:O}}},...c}=xn(e,t),d={x:n,y:r},l=await fi(t,c),u=It(Ft(o)),f=li(u);let h=d[f],p=d[u];if(s){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",O=h+l[b],T=h-l[v];h=Nr(O,h,T)}if(i){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",O=p+l[b],T=p-l[v];p=Nr(O,p,T)}const g=a.fn({...t,[f]:h,[u]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[u]:i}}}}}};function nr(){return typeof window<"u"}function an(e){return di(e)?(e.nodeName||"").toLowerCase():"#document"}function tt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xt(e){var t;return(t=(di(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function di(e){return nr()?e instanceof Node||e instanceof tt(e).Node:!1}function lt(e){return nr()?e instanceof Element||e instanceof tt(e).Element:!1}function vt(e){return nr()?e instanceof HTMLElement||e instanceof tt(e).HTMLElement:!1}function Vo(e){return!nr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tt(e).ShadowRoot}const _l=new Set(["inline","contents"]);function _n(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ut(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!_l.has(o)}const Sl=new Set(["table","td","th"]);function Cl(e){return Sl.has(an(e))}const Al=[":popover-open",":modal"];function rr(e){return Al.some(t=>{try{return e.matches(t)}catch{return!1}})}const El=["transform","translate","scale","rotate","perspective"],Rl=["transform","translate","scale","rotate","perspective","filter"],Il=["paint","layout","strict","content"];function so(e){const t=io(),n=lt(e)?ut(e):e;return El.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Rl.some(r=>(n.willChange||"").includes(r))||Il.some(r=>(n.contain||"").includes(r))}function Ll(e){let t=kt(e);for(;vt(t)&&!on(t);){if(so(t))return t;if(rr(t))return null;t=kt(t)}return null}function io(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kl=new Set(["html","body","#document"]);function on(e){return kl.has(an(e))}function ut(e){return tt(e).getComputedStyle(e)}function or(e){return lt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kt(e){if(an(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vo(e)&&e.host||xt(e);return Vo(t)?t.host:t}function hi(e){const t=kt(e);return on(t)?e.ownerDocument?e.ownerDocument.body:e.body:vt(t)&&_n(t)?t:hi(t)}function yn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=hi(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=tt(o);if(s){const a=Br(i);return t.concat(i,i.visualViewport||[],_n(o)?o:[],a&&n?yn(a):[])}return t.concat(o,yn(o,[],n))}function Br(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pi(e){const t=ut(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=vt(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Wn(n)!==s||Wn(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function ao(e){return lt(e)?e:e.contextElement}function Kt(e){const t=ao(e);if(!vt(t))return yt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=pi(t);let i=(s?Wn(n.width):n.width)/r,a=(s?Wn(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Tl=yt(0);function gi(e){const t=tt(e);return!io()||!t.visualViewport?Tl:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ol(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tt(e)?!1:t}function Bt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=ao(e);let i=yt(1);t&&(r?lt(r)&&(i=Kt(r)):i=Kt(e));const a=Ol(s,n,r)?gi(s):yt(0);let c=(o.left+a.x)/i.x,d=(o.top+a.y)/i.y,l=o.width/i.x,u=o.height/i.y;if(s){const f=tt(s),h=r&&lt(r)?tt(r):r;let p=f,g=Br(p);for(;g&&r&&h!==p;){const b=Kt(g),v=g.getBoundingClientRect(),O=ut(g),T=v.left+(g.clientLeft+parseFloat(O.paddingLeft))*b.x,I=v.top+(g.clientTop+parseFloat(O.paddingTop))*b.y;c*=b.x,d*=b.y,l*=b.x,u*=b.y,c+=T,d+=I,p=tt(g),g=Br(p)}}return Yn({width:l,height:u,x:c,y:d})}function sr(e,t){const n=or(e).scrollLeft;return t?t.left+n:Bt(xt(e)).left+n}function mi(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-sr(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Pl(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=xt(r),a=t?rr(t.floating):!1;if(r===i||a&&s)return n;let c={scrollLeft:0,scrollTop:0},d=yt(1);const l=yt(0),u=vt(r);if((u||!u&&!s)&&((an(r)!=="body"||_n(i))&&(c=or(r)),vt(r))){const h=Bt(r);d=Kt(r),l.x=h.x+r.clientLeft,l.y=h.y+r.clientTop}const f=i&&!u&&!s?mi(i,c):yt(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+l.x+f.x,y:n.y*d.y-c.scrollTop*d.y+l.y+f.y}}function $l(e){return Array.from(e.getClientRects())}function Dl(e){const t=xt(e),n=or(e),r=e.ownerDocument.body,o=Mt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Mt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+sr(e);const a=-n.scrollTop;return ut(r).direction==="rtl"&&(i+=Mt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}const Yo=25;function jl(e,t){const n=tt(e),r=xt(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,c=0;if(o){s=o.width,i=o.height;const l=io();(!l||l&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}const d=sr(r);if(d<=0){const l=r.ownerDocument,u=l.body,f=getComputedStyle(u),h=l.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-u.clientWidth-h);p<=Yo&&(s-=p)}else d<=Yo&&(s+=d);return{width:s,height:i,x:a,y:c}}const Ml=new Set(["absolute","fixed"]);function Ul(e,t){const n=Bt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=vt(e)?Kt(e):yt(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,c=o*s.x,d=r*s.y;return{width:i,height:a,x:c,y:d}}function Xo(e,t,n){let r;if(t==="viewport")r=jl(e,n);else if(t==="document")r=Dl(xt(e));else if(lt(t))r=Ul(t,n);else{const o=gi(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Yn(r)}function yi(e,t){const n=kt(e);return n===t||!lt(n)||on(n)?!1:ut(n).position==="fixed"||yi(n,t)}function Nl(e,t){const n=t.get(e);if(n)return n;let r=yn(e,[],!1).filter(a=>lt(a)&&an(a)!=="body"),o=null;const s=ut(e).position==="fixed";let i=s?kt(e):e;for(;lt(i)&&!on(i);){const a=ut(i),c=so(i);!c&&a.position==="fixed"&&(o=null),(s?!c&&!o:!c&&a.position==="static"&&!!o&&Ml.has(o.position)||_n(i)&&!c&&yi(e,i))?r=r.filter(l=>l!==i):o=a,i=kt(i)}return t.set(e,r),r}function Fl(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?rr(t)?[]:Nl(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((d,l)=>{const u=Xo(t,l,o);return d.top=Mt(u.top,d.top),d.right=rn(u.right,d.right),d.bottom=rn(u.bottom,d.bottom),d.left=Mt(u.left,d.left),d},Xo(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bl(e){const{width:t,height:n}=pi(e);return{width:t,height:n}}function zl(e,t,n){const r=vt(t),o=xt(t),s=n==="fixed",i=Bt(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=yt(0);function d(){c.x=sr(o)}if(r||!r&&!s)if((an(t)!=="body"||_n(o))&&(a=or(t)),r){const h=Bt(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&d();s&&!r&&o&&d();const l=o&&!r&&!s?mi(o,a):yt(0),u=i.left+a.scrollLeft-c.x-l.x,f=i.top+a.scrollTop-c.y-l.y;return{x:u,y:f,width:i.width,height:i.height}}function br(e){return ut(e).position==="static"}function Ko(e,t){if(!vt(e)||ut(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xt(e)===n&&(n=n.ownerDocument.body),n}function vi(e,t){const n=tt(e);if(rr(e))return n;if(!vt(e)){let o=kt(e);for(;o&&!on(o);){if(lt(o)&&!br(o))return o;o=kt(o)}return n}let r=Ko(e,t);for(;r&&Cl(r)&&br(r);)r=Ko(r,t);return r&&on(r)&&br(r)&&!so(r)?n:r||Ll(e)||n}const Hl=async function(e){const t=this.getOffsetParent||vi,n=this.getDimensions,r=await n(e.floating);return{reference:zl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gl(e){return ut(e).direction==="rtl"}const ql={convertOffsetParentRelativeRectToViewportRelativeRect:Pl,getDocumentElement:xt,getClippingRect:Fl,getOffsetParent:vi,getElementRects:Hl,getClientRects:$l,getDimensions:Bl,getScale:Kt,isElement:lt,isRTL:Gl};function wi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wl(e,t){let n=null,r;const o=xt(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:l,top:u,width:f,height:h}=d;if(a||t(),!f||!h)return;const p=Rn(u),g=Rn(o.clientWidth-(l+f)),b=Rn(o.clientHeight-(u+h)),v=Rn(l),T={rootMargin:-p+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Mt(0,rn(1,c))||1};let I=!0;function D(_){const k=_[0].intersectionRatio;if(k!==c){if(!I)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!wi(d,e.getBoundingClientRect())&&i(),I=!1}try{n=new IntersectionObserver(D,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(e)}return i(!0),s}function Vl(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=ao(e),l=o||s?[...d?yn(d):[],...yn(t)]:[];l.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const u=d&&a?Wl(d,n):null;let f=-1,h=null;i&&(h=new ResizeObserver(v=>{let[O]=v;O&&O.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(t)})),n()}),d&&!c&&h.observe(d),h.observe(t));let p,g=c?Bt(e):null;c&&b();function b(){const v=Bt(e);g&&!wi(g,v)&&n(),g=v,p=requestAnimationFrame(b)}return n(),()=>{var v;l.forEach(O=>{o&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),u?.(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const Yl=xl,Xl=bl,Kl=yl,Ql=ml,Qo=(e,t,n)=>{const r=new Map,o={platform:ql,...n},s={...o.platform,_c:r};return gl(e,t,{...o,platform:s})};var _r={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Zo;function Zl(){return Zo||(Zo=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(s=o(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var i="";for(var a in s)t.call(s,a)&&s[a]&&(i=o(i,a));return i}function o(s,i){return i?s?s+" "+i:s+i:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(_r)),_r.exports}var Jl=Zl();const zr=hs(Jl);var Jo={};const eu="react-tooltip-core-styles",tu="react-tooltip-base-styles",es={core:!1,base:!1};function ts({css:e,id:t=tu,type:n="base",ref:r}){var o,s;if(!e||typeof document>"u"||es[n]||n==="core"&&typeof process<"u"&&(!((o=process==null?void 0:Jo)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:Jo)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=eu),r||(r={});const{insertAt:i}=r;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",i==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),es[n]=!0}const ns=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:o=10,strategy:s="absolute",middlewares:i=[Yl(Number(o)),Kl({fallbackAxisSideDirection:"start"}),Xl({padding:5})],border:a,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=i;return n?(d.push(Ql({element:n,padding:5})),Qo(e,t,{placement:r,strategy:s,middleware:d}).then((({x:l,y:u,placement:f,middlewareData:h})=>{var p,g;const b={left:`${l}px`,top:`${u}px`,border:a},{x:v,y:O}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},T=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&g!==void 0?g:"bottom",I=a&&{borderBottom:a,borderRight:a};let D=0;if(a){const _=`${a}`.match(/(\d+)px/);D=_?.[1]?Number(_[1]):1}return{tooltipStyles:b,tooltipArrowStyles:{left:v!=null?`${v}px`:"",top:O!=null?`${O}px`:"",right:"",bottom:"",...I,[T]:`-${c/2+D}px`},place:f}}))):Qo(e,t,{placement:"bottom",strategy:s,middleware:d}).then((({x:l,y:u,placement:f})=>({tooltipStyles:{left:`${l}px`,top:`${u}px`},tooltipArrowStyles:{},place:f})))},rs=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),os=(e,t,n)=>{let r=null;const o=function(...s){const i=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(i,t))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},ss=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Hr=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((o,s)=>Hr(o,t[s])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!ss(e)||!ss(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((o=>Hr(e[o],t[o])))},nu=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"}))},is=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(nu(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},ru=typeof window<"u"?F.useLayoutEffect:F.useEffect,ot=e=>{e.current&&(clearTimeout(e.current),e.current=null)},ou="DEFAULT_TOOLTIP_ID",su={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},iu=F.createContext({getTooltipData:()=>su});function xi(e=ou){return F.useContext(iu).getTooltipData(e)}var Vt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Sr={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const au=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:o="dark",anchorId:s,anchorSelect:i,place:a="top",offset:c=10,events:d=["hover"],openOnClick:l=!1,positionStrategy:u="absolute",middlewares:f,wrapper:h,delayShow:p=0,delayHide:g=0,float:b=!1,hidden:v=!1,noArrow:O=!1,clickable:T=!1,closeOnEsc:I=!1,closeOnScroll:D=!1,closeOnResize:_=!1,openEvents:k,closeEvents:x,globalCloseEvents:y,imperativeModeOnly:R,style:E,position:S,afterShow:L,afterHide:A,disableTooltip:$,content:w,contentWrapperRef:m,isOpen:M,defaultIsOpen:j=!1,setIsOpen:H,previousActiveAnchor:C,activeAnchor:P,setActiveAnchor:z,border:N,opacity:U,arrowColor:G,arrowSize:W=8,role:Z="tooltip"})=>{var V;const ee=F.useRef(null),le=F.useRef(null),oe=F.useRef(null),He=F.useRef(null),Ue=F.useRef(null),[de,Ee]=F.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[ie,fe]=F.useState(!1),[xe,be]=F.useState(!1),[re,Re]=F.useState(null),me=F.useRef(!1),ue=F.useRef(null),{anchorRefs:ke,setActiveAnchor:Ye}=xi(t),ft=F.useRef(!1),[ye,Ke]=F.useState([]),Se=F.useRef(!1),Te=l||d.includes("click"),Ne=Te||k?.click||k?.dblclick||k?.mousedown,Ge=k?{...k}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!k&&Te&&Object.assign(Ge,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Oe=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&Te&&Object.assign(Oe,{mouseleave:!1,blur:!1,mouseout:!1});const ve=y?{...y}:{escape:I||!1,scroll:D||!1,resize:_||!1,clickOutsideAnchor:Ne||!1};R&&(Object.assign(Ge,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Oe,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ve,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),ru((()=>(Se.current=!0,()=>{Se.current=!1})),[]);const Pe=q=>{Se.current&&(q&&be(!0),setTimeout((()=>{Se.current&&(H?.(q),M===void 0&&fe(q))}),10))};F.useEffect((()=>{if(t){if(ie){Q(C);const K=q(P),ge=[...new Set([...K,t])].filter(Boolean).join(" ");P?.setAttribute("aria-describedby",ge)}else Q(P);return()=>{Q(P),Q(C)}}function q(K){var ge;return((ge=K?.getAttribute("aria-describedby"))===null||ge===void 0?void 0:ge.split(" "))||[]}function Q(K){const ge=q(K).filter(($e=>$e!==t));ge.length?K?.setAttribute("aria-describedby",ge.join(" ")):K?.removeAttribute("aria-describedby")}}),[P,ie,t,C]),F.useEffect((()=>{if(M===void 0)return()=>null;M&&be(!0);const q=setTimeout((()=>{fe(M)}),10);return()=>{clearTimeout(q)}}),[M]),F.useEffect((()=>{if(ie!==me.current)if(ot(Ue),me.current=ie,ie)L?.();else{const q=(Q=>{const K=Q.match(/^([\d.]+)(ms|s)$/);if(!K)return 0;const[,ge,$e]=K;return Number(ge)*($e==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ue.current=setTimeout((()=>{be(!1),Re(null),A?.()}),q+25)}}),[ie]);const Tt=q=>{Ee((Q=>Hr(Q,q)?Q:q))},bt=(q=p)=>{ot(oe),xe?Pe(!0):oe.current=setTimeout((()=>{Pe(!0)}),q)},_t=(q=g)=>{ot(He),He.current=setTimeout((()=>{ft.current||Pe(!1)}),q)},it=q=>{var Q;if(!q)return;const K=(Q=q.currentTarget)!==null&&Q!==void 0?Q:q.target;if(!K?.isConnected)return z(null),void Ye({current:null});p?bt():Pe(!0),z(K),Ye({current:K}),ot(He)},Et=()=>{T?_t(g||100):g?_t():Pe(!1),ot(oe)},qe=({x:q,y:Q})=>{var K;const ge={getBoundingClientRect:()=>({x:q,y:Q,width:0,height:0,top:Q,left:q,right:q,bottom:Q})};ns({place:(K=re?.place)!==null&&K!==void 0?K:a,offset:c,elementReference:ge,tooltipReference:ee.current,tooltipArrowReference:le.current,strategy:u,middlewares:f,border:N,arrowSize:W}).then(($e=>{Tt($e)}))},We=q=>{if(!q)return;const Q=q,K={x:Q.clientX,y:Q.clientY};qe(K),ue.current=K},nt=q=>{var Q;if(!ie)return;const K=q.target;K.isConnected&&(!((Q=ee.current)===null||Q===void 0)&&Q.contains(K)||[document.querySelector(`[id='${s}']`),...ye].some((ge=>ge?.contains(K)))||(Pe(!1),ot(oe)))},dt=os(it,50),Ce=os(Et,50),Ae=q=>{Ce.cancel(),dt(q)},Y=()=>{dt.cancel(),Ce()},ce=F.useCallback((()=>{var q,Q;const K=(q=re?.position)!==null&&q!==void 0?q:S;K?qe(K):b?ue.current&&qe(ue.current):P?.isConnected&&ns({place:(Q=re?.place)!==null&&Q!==void 0?Q:a,offset:c,elementReference:P,tooltipReference:ee.current,tooltipArrowReference:le.current,strategy:u,middlewares:f,border:N,arrowSize:W}).then((ge=>{Se.current&&Tt(ge)}))}),[ie,P,w,E,a,re?.place,c,u,S,re?.position,b,W]);F.useEffect((()=>{var q,Q;const K=new Set(ke);ye.forEach((pe=>{$?.(pe)||K.add({current:pe})}));const ge=document.querySelector(`[id='${s}']`);ge&&!$?.(ge)&&K.add({current:ge});const $e=()=>{Pe(!1)},ht=is(P),pt=is(ee.current);ve.scroll&&(window.addEventListener("scroll",$e),ht?.addEventListener("scroll",$e),pt?.addEventListener("scroll",$e));let Ve=null;ve.resize?window.addEventListener("resize",$e):P&&ee.current&&(Ve=Vl(P,ee.current,ce,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const rt=pe=>{pe.key==="Escape"&&Pe(!1)};ve.escape&&window.addEventListener("keydown",rt),ve.clickOutsideAnchor&&window.addEventListener("click",nt);const _e=[],Gt=pe=>!!(pe?.target&&P?.contains(pe.target)),Ri=pe=>{ie&&Gt(pe)||it(pe)},Ii=pe=>{ie&&Gt(pe)&&Et()},lo=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],uo=["click","dblclick","mousedown","mouseup"];Object.entries(Ge).forEach((([pe,St])=>{St&&(lo.includes(pe)?_e.push({event:pe,listener:Ae}):uo.includes(pe)&&_e.push({event:pe,listener:Ri}))})),Object.entries(Oe).forEach((([pe,St])=>{St&&(lo.includes(pe)?_e.push({event:pe,listener:Y}):uo.includes(pe)&&_e.push({event:pe,listener:Ii}))})),b&&_e.push({event:"pointermove",listener:We});const fo=()=>{ft.current=!0},ho=()=>{ft.current=!1,Et()},po=T&&(Oe.mouseout||Oe.mouseleave);return po&&((q=ee.current)===null||q===void 0||q.addEventListener("mouseover",fo),(Q=ee.current)===null||Q===void 0||Q.addEventListener("mouseout",ho)),_e.forEach((({event:pe,listener:St})=>{K.forEach((cr=>{var ln;(ln=cr.current)===null||ln===void 0||ln.addEventListener(pe,St)}))})),()=>{var pe,St;ve.scroll&&(window.removeEventListener("scroll",$e),ht?.removeEventListener("scroll",$e),pt?.removeEventListener("scroll",$e)),ve.resize?window.removeEventListener("resize",$e):Ve?.(),ve.clickOutsideAnchor&&window.removeEventListener("click",nt),ve.escape&&window.removeEventListener("keydown",rt),po&&((pe=ee.current)===null||pe===void 0||pe.removeEventListener("mouseover",fo),(St=ee.current)===null||St===void 0||St.removeEventListener("mouseout",ho)),_e.forEach((({event:cr,listener:ln})=>{K.forEach((Li=>{var lr;(lr=Li.current)===null||lr===void 0||lr.removeEventListener(cr,ln)}))}))}}),[P,ce,xe,ke,ye,k,x,y,Te,p,g]),F.useEffect((()=>{var q,Q;let K=(Q=(q=re?.anchorSelect)!==null&&q!==void 0?q:i)!==null&&Q!==void 0?Q:"";!K&&t&&(K=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const ge=new MutationObserver(($e=>{const ht=[],pt=[];$e.forEach((Ve=>{if(Ve.type==="attributes"&&Ve.attributeName==="data-tooltip-id"&&(Ve.target.getAttribute("data-tooltip-id")===t?ht.push(Ve.target):Ve.oldValue===t&&pt.push(Ve.target)),Ve.type==="childList"){if(P){const rt=[...Ve.removedNodes].filter((_e=>_e.nodeType===1));if(K)try{pt.push(...rt.filter((_e=>_e.matches(K)))),pt.push(...rt.flatMap((_e=>[..._e.querySelectorAll(K)])))}catch{}rt.some((_e=>{var Gt;return!!(!((Gt=_e?.contains)===null||Gt===void 0)&&Gt.call(_e,P))&&(be(!1),Pe(!1),z(null),ot(oe),ot(He),!0)}))}if(K)try{const rt=[...Ve.addedNodes].filter((_e=>_e.nodeType===1));ht.push(...rt.filter((_e=>_e.matches(K)))),ht.push(...rt.flatMap((_e=>[..._e.querySelectorAll(K)])))}catch{}}})),(ht.length||pt.length)&&Ke((Ve=>[...Ve.filter((rt=>!pt.includes(rt))),...ht]))}));return ge.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{ge.disconnect()}}),[t,i,re?.anchorSelect,P]),F.useEffect((()=>{ce()}),[ce]),F.useEffect((()=>{if(!m?.current)return()=>null;const q=new ResizeObserver((()=>{setTimeout((()=>ce()))}));return q.observe(m.current),()=>{q.disconnect()}}),[w,m?.current]),F.useEffect((()=>{var q;const Q=document.querySelector(`[id='${s}']`),K=[...ye,Q];P&&K.includes(P)||z((q=ye[0])!==null&&q!==void 0?q:Q)}),[s,ye,P]),F.useEffect((()=>(j&&Pe(!0),()=>{ot(oe),ot(He)})),[]),F.useEffect((()=>{var q;let Q=(q=re?.anchorSelect)!==null&&q!==void 0?q:i;if(!Q&&t&&(Q=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Q)try{const K=Array.from(document.querySelectorAll(Q));Ke(K)}catch{Ke([])}}),[t,i,re?.anchorSelect]),F.useEffect((()=>{oe.current&&(ot(oe),bt(p))}),[p]);const Qe=(V=re?.content)!==null&&V!==void 0?V:w,Ot=ie&&Object.keys(de.tooltipStyles).length>0;return F.useImperativeHandle(e,(()=>({open:q=>{if(q?.anchorSelect)try{document.querySelector(q.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${q.anchorSelect}" is not a valid CSS selector`)}Re(q??null),q?.delay?bt(q.delay):Pe(!0)},close:q=>{q?.delay?_t(q.delay):Pe(!1)},activeAnchor:P,place:de.place,isOpen:!!(xe&&!v&&Qe&&Ot)}))),xe&&!v&&Qe?ae.createElement(h,{id:t,role:Z,className:zr("react-tooltip",Vt.tooltip,Sr.tooltip,Sr[o],n,`react-tooltip__place-${de.place}`,Vt[Ot?"show":"closing"],Ot?"react-tooltip__show":"react-tooltip__closing",u==="fixed"&&Vt.fixed,T&&Vt.clickable),onTransitionEnd:q=>{ot(Ue),ie||q.propertyName!=="opacity"||(be(!1),Re(null),A?.())},style:{...E,...de.tooltipStyles,opacity:U!==void 0&&Ot?U:void 0},ref:ee},Qe,ae.createElement(h,{className:zr("react-tooltip-arrow",Vt.arrow,Sr.arrow,r,O&&Vt.noArrow),style:{...de.tooltipArrowStyles,background:G?`linear-gradient(to right bottom, transparent 50%, ${G} 50%)`:void 0,"--rt-arrow-size":`${W}px`},ref:le})):null},cu=({content:e})=>ae.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Cr=ae.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:o,render:s,className:i,classNameArrow:a,variant:c="dark",place:d="top",offset:l=10,wrapper:u="div",children:f=null,events:h=["hover"],openOnClick:p=!1,positionStrategy:g="absolute",middlewares:b,delayShow:v=0,delayHide:O=0,float:T=!1,hidden:I=!1,noArrow:D=!1,clickable:_=!1,closeOnEsc:k=!1,closeOnScroll:x=!1,closeOnResize:y=!1,openEvents:R,closeEvents:E,globalCloseEvents:S,imperativeModeOnly:L=!1,style:A,position:$,isOpen:w,defaultIsOpen:m=!1,disableStyleInjection:M=!1,border:j,opacity:H,arrowColor:C,arrowSize:P,setIsOpen:z,afterShow:N,afterHide:U,disableTooltip:G,role:W="tooltip"},Z)=>{const[V,ee]=F.useState(r),[le,oe]=F.useState(o),[He,Ue]=F.useState(d),[de,Ee]=F.useState(c),[ie,fe]=F.useState(l),[xe,be]=F.useState(v),[re,Re]=F.useState(O),[me,ue]=F.useState(T),[ke,Ye]=F.useState(I),[ft,ye]=F.useState(u),[Ke,Se]=F.useState(h),[Te,Ne]=F.useState(g),[Ge,Oe]=F.useState(null),[ve,Pe]=F.useState(null),Tt=F.useRef(null),bt=F.useRef(M),{anchorRefs:_t,activeAnchor:it}=xi(e),Et=Ce=>Ce?.getAttributeNames().reduce(((Ae,Y)=>{var ce;return Y.startsWith("data-tooltip-")&&(Ae[Y.replace(/^data-tooltip-/,"")]=(ce=Ce?.getAttribute(Y))!==null&&ce!==void 0?ce:null),Ae}),{}),qe=Ce=>{const Ae={place:Y=>{var ce;Ue((ce=Y)!==null&&ce!==void 0?ce:d)},content:Y=>{ee(Y??r)},html:Y=>{oe(Y??o)},variant:Y=>{var ce;Ee((ce=Y)!==null&&ce!==void 0?ce:c)},offset:Y=>{fe(Y===null?l:Number(Y))},wrapper:Y=>{var ce;ye((ce=Y)!==null&&ce!==void 0?ce:u)},events:Y=>{const ce=Y?.split(" ");Se(ce??h)},"position-strategy":Y=>{var ce;Ne((ce=Y)!==null&&ce!==void 0?ce:g)},"delay-show":Y=>{be(Y===null?v:Number(Y))},"delay-hide":Y=>{Re(Y===null?O:Number(Y))},float:Y=>{ue(Y===null?T:Y==="true")},hidden:Y=>{Ye(Y===null?I:Y==="true")},"class-name":Y=>{Oe(Y)}};Object.values(Ae).forEach((Y=>Y(null))),Object.entries(Ce).forEach((([Y,ce])=>{var Qe;(Qe=Ae[Y])===null||Qe===void 0||Qe.call(Ae,ce)}))};F.useEffect((()=>{ee(r)}),[r]),F.useEffect((()=>{oe(o)}),[o]),F.useEffect((()=>{Ue(d)}),[d]),F.useEffect((()=>{Ee(c)}),[c]),F.useEffect((()=>{fe(l)}),[l]),F.useEffect((()=>{be(v)}),[v]),F.useEffect((()=>{Re(O)}),[O]),F.useEffect((()=>{ue(T)}),[T]),F.useEffect((()=>{Ye(I)}),[I]),F.useEffect((()=>{Ne(g)}),[g]),F.useEffect((()=>{bt.current!==M&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[M]),F.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:M==="core",disableBase:M}}))}),[]),F.useEffect((()=>{var Ce;const Ae=new Set(_t);let Y=n;if(!Y&&e&&(Y=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Y)try{document.querySelectorAll(Y).forEach((Q=>{Ae.add({current:Q})}))}catch{console.warn(`[react-tooltip] "${Y}" is not a valid CSS selector`)}const ce=document.querySelector(`[id='${t}']`);if(ce&&Ae.add({current:ce}),!Ae.size)return()=>null;const Qe=(Ce=ve??ce)!==null&&Ce!==void 0?Ce:it.current,Ot=new MutationObserver((Q=>{Q.forEach((K=>{var ge;if(!Qe||K.type!=="attributes"||!(!((ge=K.attributeName)===null||ge===void 0)&&ge.startsWith("data-tooltip-")))return;const $e=Et(Qe);qe($e)}))})),q={attributes:!0,childList:!1,subtree:!1};if(Qe){const Q=Et(Qe);qe(Q),Ot.observe(Qe,q)}return()=>{Ot.disconnect()}}),[_t,it,ve,t,n]),F.useEffect((()=>{A?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),j&&!rs("border",`${j}`)&&console.warn(`[react-tooltip] "${j}" is not a valid \`border\`.`),A?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),H&&!rs("opacity",`${H}`)&&console.warn(`[react-tooltip] "${H}" is not a valid \`opacity\`.`)}),[]);let We=f;const nt=F.useRef(null);if(s){const Ce=s({content:ve?.getAttribute("data-tooltip-content")||V||null,activeAnchor:ve});We=Ce?ae.createElement("div",{ref:nt,className:"react-tooltip-content-wrapper"},Ce):null}else V&&(We=V);le&&(We=ae.createElement(cu,{content:le}));const dt={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:zr(i,Ge),classNameArrow:a,content:We,contentWrapperRef:nt,place:He,variant:de,offset:ie,wrapper:ft,events:Ke,openOnClick:p,positionStrategy:Te,middlewares:b,delayShow:xe,delayHide:re,float:me,hidden:ke,noArrow:D,clickable:_,closeOnEsc:k,closeOnScroll:x,closeOnResize:y,openEvents:R,closeEvents:E,globalCloseEvents:S,imperativeModeOnly:L,style:A,position:$,isOpen:w,defaultIsOpen:m,border:j,opacity:H,arrowColor:C,arrowSize:P,setIsOpen:z,afterShow:N,afterHide:U,disableTooltip:G,activeAnchor:ve,previousActiveAnchor:Tt.current,setActiveAnchor:Ce=>{Pe((Ae=>(Ce?.isSameNode(Ae)||(Tt.current=Ae),Ce)))},role:W};return ae.createElement(au,{...dt})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||ts({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ts({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));function mf(){const e=Le.c(35),{loading:t,start:n,stop:r}=zt(),{state:o,dispatch:s}=Me(),{selectedLayerIdx:i,imgCtx:a,layers:c}=o,d=F.useContext(Jr);let l;e[0]!==s||e[1]!==a||e[2]!==t||e[3]!==d?(l=()=>{!t&&a&&s({type:X.CreateNewLayer}),d?.isActive()&&d.getCurrentStep()?.id==="addLayer"&&d.next()},e[0]=s,e[1]=a,e[2]=t,e[3]=d,e[4]=l):l=e[4];const u=l;let f;e[5]!==s?(f=E=>{s({type:X.SelectLayer,payload:E})},e[5]=s,e[6]=f):f=e[6];const h=f;let p;e[7]!==s||e[8]!==n||e[9]!==r?(p=(E,S)=>{n(),s({type:X.MoveLayer,payload:{direction:E,layerIdx:S}}),s({type:X.ResetImageCanvas}),s({type:X.GenerateResult}),r()},e[7]=s,e[8]=n,e[9]=r,e[10]=p):p=e[10];const g=p;let b;e[11]!==s?(b=()=>{s({type:X.ResetImageCanvas}),s({type:X.GenerateResult,payload:{refreshIdx:0}})},e[11]=s,e[12]=b):b=e[12];const v=b;let O;e[13]!==s?(O=E=>{s({type:X.DuplicateLayer,payload:E}),s({type:X.ResetImageCanvas}),s({type:X.GenerateResult,payload:{refreshIdx:E}})},e[13]=s,e[14]=O):O=e[14];const T=O;let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=B.jsx(nn,{children:"Layers"}),e[15]=I):I=e[15];let D;e[16]!==c.length||e[17]!==v?(D=c.length>0&&B.jsx(et,{onClick:v,variant:"secondary",style:{cursor:"pointer"},children:"Refresh"}),e[16]=c.length,e[17]=v,e[18]=D):D=e[18];let _;e[19]!==D?(_=B.jsxs(tn,{children:[I,D]}),e[19]=D,e[20]=_):_=e[20];let k;e[21]!==c||e[22]!==T||e[23]!==g||e[24]!==h||e[25]!==i?(k=c.length>0?c.map((E,S)=>B.jsxs(fu,{id:`${S}`,children:[B.jsxs(et,{variant:"secondary",onClick:()=>h(S),style:{cursor:"pointer"},children:[i===S?"<*> ":"< > "," ",Ys[E.selection.filter]]}),B.jsxs(du,{children:[B.jsxs(Ar,{onClick:()=>g("up",S),children:[B.jsx(Nc,{size:16,"data-tooltip-id":"moveUp","data-tooltip-content":"Move layer up","data-tooltip-place":"bottom"}),B.jsx(Cr,{id:"moveUp",className:"custom-tooltip"})]}),B.jsxs(Ar,{onClick:()=>g("down",S),children:[B.jsx(Mc,{size:16,"data-tooltip-id":"moveDown","data-tooltip-content":"Move layer down","data-tooltip-place":"bottom"}),B.jsx(Cr,{id:"moveDown",className:"custom-tooltip"})]}),B.jsxs(Ar,{onClick:()=>T(S),children:[B.jsx(Pc,{size:16,"data-tooltip-id":"duplicate","data-tooltip-content":"Duplicate layer","data-tooltip-place":"bottom-end"}),B.jsx(Cr,{id:"duplicate",className:"custom-tooltip"})]})]})]},`layers-${E.color}`)):B.jsx(hu,{children:"<empty>"}),e[21]=c,e[22]=T,e[23]=g,e[24]=h,e[25]=i,e[26]=k):k=e[26];let x;e[27]!==k?(x=B.jsx(uu,{children:k}),e[27]=k,e[28]=x):x=e[28];let y;e[29]!==u?(y=B.jsx(jt,{id:"addNewLayer",variant:"outline",type:"button",$full:!0,onClick:u,children:"+ Add new layer"}),e[29]=u,e[30]=y):y=e[30];let R;return e[31]!==x||e[32]!==y||e[33]!==_?(R=B.jsxs(lu,{children:[_,x,y]}),e[31]=x,e[32]=y,e[33]=_,e[34]=R):R=e[34],R}const lu=J.div`
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 1280px) {
    flex: none;
    min-height: fit-content;
    overflow-y: hidden;
  }
`,uu=J.ul`
  margin-bottom: 8px;
  overflow-y: auto;
  flex: 1; 
  min-height: 0;

  @media (max-width: 1280px) {
    flex: none;
    min-height: auto;
  }
`,fu=J.li`
  display: flex;
  justify-content: space-between;
`,du=J.div`
  display: flex;
  align-items: center;
  justify-items: center;
  gap: 4px;
`,Ar=J.span`
  display: flex;
  align-items: center;
  padding: 4px;
  cursor: pointer;
  &:hover {
    background-color: #ccc ;
  };
`,hu=J.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
`;function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ir(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function vn(e){var t=F.useRef(e),n=F.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var wn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},hn=function(e){return"touches"in e},Gr=function(e){return e&&e.ownerDocument.defaultView||self},as=function(e,t,n){var r=e.getBoundingClientRect(),o=hn(t)?(function(s,i){for(var a=0;a<s.length;a++)if(s[a].identifier===i)return s[a];return s[0]})(t.touches,n):t;return{left:wn((o.pageX-(r.left+Gr(e).pageXOffset))/r.width),top:wn((o.pageY-(r.top+Gr(e).pageYOffset))/r.height)}},cs=function(e){!hn(e)&&e.preventDefault()},bi=ae.memo(function(e){var t=e.onMove,n=e.onKey,r=ir(e,["onMove","onKey"]),o=F.useRef(null),s=vn(t),i=vn(n),a=F.useRef(null),c=F.useRef(!1),d=F.useMemo(function(){var h=function(b){cs(b),(hn(b)?b.touches.length>0:b.buttons>0)&&o.current?s(as(o.current,b,a.current)):g(!1)},p=function(){return g(!1)};function g(b){var v=c.current,O=Gr(o.current),T=b?O.addEventListener:O.removeEventListener;T(v?"touchmove":"mousemove",h),T(v?"touchend":"mouseup",p)}return[function(b){var v=b.nativeEvent,O=o.current;if(O&&(cs(v),!(function(I,D){return D&&!hn(I)})(v,c.current)&&O)){if(hn(v)){c.current=!0;var T=v.changedTouches||[];T.length&&(a.current=T[0].identifier)}O.focus(),s(as(O,v,a.current)),g(!0)}},function(b){var v=b.which||b.keyCode;v<37||v>40||(b.preventDefault(),i({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},g]},[i,s]),l=d[0],u=d[1],f=d[2];return F.useEffect(function(){return f},[f]),ae.createElement("div",cn({},r,{onTouchStart:l,onMouseDown:l,className:"react-colorful__interactive",ref:o,onKeyDown:u,tabIndex:0,role:"slider"}))}),co=function(e){return e.filter(Boolean).join(" ")},_i=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=co(["react-colorful__pointer",e.className]);return ae.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},ae.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Fe=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},pu=function(e){return wu(qr(e))},qr=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Fe(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Fe(parseInt(e.substring(6,8),16)/255,2):1}},gu=function(e){return vu(yu(e))},mu=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Fe(e.h),s:Fe(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Fe(o/2),a:Fe(r,2)}},Wr=function(e){var t=mu(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},yu=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),a=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),d=s%6;return{r:Fe(255*[r,a,i,i,c,r][d]),g:Fe(255*[c,r,r,a,i,i][d]),b:Fe(255*[i,i,c,r,r,a][d]),a:Fe(o,2)}},In=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},vu=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o<1?In(Fe(255*o)):"";return"#"+In(t)+In(n)+In(r)+s},wu=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),a=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:Fe(60*(a<0?a+6:a)),s:Fe(s?i/s*100:0),v:Fe(s/255*100),a:o}},xu=ae.memo(function(e){var t=e.hue,n=e.onChange,r=co(["react-colorful__hue",e.className]);return ae.createElement("div",{className:r},ae.createElement(bi,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:wn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Fe(t),"aria-valuemax":"360","aria-valuemin":"0"},ae.createElement(_i,{className:"react-colorful__hue-pointer",left:t/360,color:Wr({h:t,s:100,v:100,a:1})})))}),bu=ae.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Wr({h:t.h,s:100,v:100,a:1})};return ae.createElement("div",{className:"react-colorful__saturation",style:r},ae.createElement(bi,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:wn(t.s+100*o.left,0,100),v:wn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Fe(t.s)+"%, Brightness "+Fe(t.v)+"%"},ae.createElement(_i,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Wr(t)})))}),Si=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},_u=function(e,t){return e.toLowerCase()===t.toLowerCase()||Si(qr(e),qr(t))};function Su(e,t,n){var r=vn(n),o=F.useState(function(){return e.toHsva(t)}),s=o[0],i=o[1],a=F.useRef({color:t,hsva:s});F.useEffect(function(){if(!e.equal(t,a.current.color)){var d=e.toHsva(t);a.current={hsva:d,color:t},i(d)}},[t,e]),F.useEffect(function(){var d;Si(s,a.current.hsva)||e.equal(d=e.fromHsva(s),a.current.color)||(a.current={hsva:s,color:d},r(d))},[s,e,r]);var c=F.useCallback(function(d){i(function(l){return Object.assign({},l,d)})},[]);return[s,c]}var Cu=typeof window<"u"?F.useLayoutEffect:F.useEffect,Au=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},ls=new Map,Eu=function(e){Cu(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!ls.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,ls.set(t,n);var r=Au();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},Ru=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,i=ir(e,["className","colorModel","color","onChange"]),a=F.useRef(null);Eu(a);var c=Su(n,o,s),d=c[0],l=c[1],u=co(["react-colorful",t]);return ae.createElement("div",cn({},i,{ref:a,className:u}),ae.createElement(bu,{hsva:d,onChange:l}),ae.createElement(xu,{hue:d.h,onChange:l,className:"react-colorful__last-control"}))},Iu={defaultColor:"000",toHsva:pu,fromHsva:function(e){return gu({h:e.h,s:e.s,v:e.v,a:1})},equal:_u},Lu=function(e){return ae.createElement(Ru,cn({},e,{colorModel:Iu}))},ku=/^#?([0-9A-F]{3,8})$/i,Tu=function(e){var t=e.color,n=t===void 0?"":t,r=e.onChange,o=e.onBlur,s=e.escape,i=e.validate,a=e.format,c=e.process,d=ir(e,["color","onChange","onBlur","escape","validate","format","process"]),l=F.useState(function(){return s(n)}),u=l[0],f=l[1],h=vn(r),p=vn(o),g=F.useCallback(function(v){var O=s(v.target.value);f(O),i(O)&&h(c?c(O):O)},[s,c,i,h]),b=F.useCallback(function(v){i(v.target.value)||f(s(n)),p(v)},[n,s,i,p]);return F.useEffect(function(){f(s(n))},[n,s]),ae.createElement("input",cn({},d,{value:a?a(u):u,spellCheck:"false",onChange:g,onBlur:b}))},us=function(e){return"#"+e},Ou=function(e){var t=e.prefixed,n=e.alpha,r=ir(e,["prefixed","alpha"]),o=F.useCallback(function(i){return i.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),s=F.useCallback(function(i){return(function(a,c){var d=ku.exec(a),l=d?d[1].length:0;return l===3||l===6||!!c&&l===4||!!c&&l===8})(i,n)},[n]);return ae.createElement(Tu,cn({},r,{escape:o,format:t?us:void 0,process:us,validate:s}))},Ci=$i();const Ai=J.select`
    padding: 8px;
    border: ${({theme:e})=>`solid 1px ${e.colors.primary}`};
    width: ${({$full:e})=>e?"100%":"auto"};
    background-color: white;
`,wt=e=>{const t=Le.c(25);let n,r,o,s,i,a,c;t[0]!==e?({label:s,id:o,min:a,max:i,configKey:n,defaultValue:r,...c}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=i,t[6]=a,t[7]=c):(n=t[1],r=t[2],o=t[3],s=t[4],i=t[5],a=t[6],c=t[7]);const{loading:d,start:l,stop:u}=zt(),{state:f,dispatch:h}=Me(),p=F.useRef(null);let g;t[8]!==n||t[9]!==r||t[10]!==h||t[11]!==l||t[12]!==f.selectedLayerIdx||t[13]!==u?(g=()=>{Ci.flushSync(()=>{l()}),h({type:X.ResetImageCanvas});const T=parseFloat(p.current?.value??r.toString());h({type:X.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[n]:Math.abs(T)}},withUpdateInitialPresent:!1}}),h({type:X.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[8]=n,t[9]=r,t[10]=h,t[11]=l,t[12]=f.selectedLayerIdx,t[13]=u,t[14]=g):g=t[14];const b=g,v=c.step??.01;let O;return t[15]!==r||t[16]!==o||t[17]!==s||t[18]!==d||t[19]!==i||t[20]!==a||t[21]!==b||t[22]!==c||t[23]!==v?(O=B.jsx(no,{label:s,disabled:d,ref:p,onMouseUp:b,onTouchEnd:b,id:o,type:"range",min:a,max:i,step:v,defaultValue:r,...c}),t[15]=r,t[16]=o,t[17]=s,t[18]=d,t[19]=i,t[20]=a,t[21]=b,t[22]=c,t[23]=v,t[24]=O):O=t[24],O},Ei=e=>{const t=Le.c(38),{label:n,id:r,items:o,configKey:s,defaultValue:i,renderItem:a,getItemValue:c}=e,{loading:d,start:l,stop:u}=zt(),{state:f,dispatch:h}=Me(),[p,g]=F.useState(i);let b;t[0]!==s||t[1]!==h||t[2]!==c||t[3]!==o||t[4]!==l||t[5]!==f.selectedLayerIdx||t[6]!==u?(b=E=>{const S=parseInt(E.target.value,10),L=o[S];Ci.flushSync(()=>{l()}),g(L),h({type:X.ResetImageCanvas});const A=c?c(L):L;h({type:X.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[s]:A}},withUpdateInitialPresent:!1}}),h({type:X.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[0]=s,t[1]=h,t[2]=c,t[3]=o,t[4]=l,t[5]=f.selectedLayerIdx,t[6]=u,t[7]=b):b=t[7];const v=b;let O;if(t[8]!==c||t[9]!==o||t[10]!==p){let E;t[12]!==c||t[13]!==p?(E=S=>{const L=c?c(S):S,A=c?c(p):p;return L===A},t[12]=c,t[13]=p,t[14]=E):E=t[14],O=o.findIndex(E),t[8]=c,t[9]=o,t[10]=p,t[11]=O}else O=t[11];const T=O;let I;t[15]!==r||t[16]!==n?(I=B.jsx(nn,{htmlFor:r,children:n}),t[15]=r,t[16]=n,t[17]=I):I=t[17];const D=d?"not-allowed":"pointer",_=d?.5:1;let k;t[18]!==D||t[19]!==_?(k={cursor:D,opacity:_},t[18]=D,t[19]=_,t[20]=k):k=t[20];let x;if(t[21]!==o||t[22]!==a||t[23]!==T){let E;t[25]!==a||t[26]!==T?(E=(S,L)=>B.jsx("option",{value:L,children:a?a(S,L===T):String(S)},`${S}-${L+1}`),t[25]=a,t[26]=T,t[27]=E):E=t[27],x=o.map(E),t[21]=o,t[22]=a,t[23]=T,t[24]=x}else x=t[24];let y;t[28]!==r||t[29]!==d||t[30]!==v||t[31]!==T||t[32]!==k||t[33]!==x?(y=B.jsx(Ai,{$full:!0,id:r,value:T,onChange:v,disabled:d,style:k,children:x}),t[28]=r,t[29]=d,t[30]=v,t[31]=T,t[32]=k,t[33]=x,t[34]=y):y=t[34];let R;return t[35]!==I||t[36]!==y?(R=B.jsxs("div",{children:[I,y]}),t[35]=I,t[36]=y,t[37]=R):R=t[37],R},Pu=J.div`
  margin-top: 24px;
`,ar=J.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,Er=[{highlightsColor:"#6aff7f",shadowsColor:"#00007e"},{highlightsColor:"#f8be3d",shadowsColor:"#682218"},{highlightsColor:"#01dbfe",shadowsColor:"#7f01d3"},{highlightsColor:"#fbf019",shadowsColor:"#01ab6d"},{highlightsColor:"#fbcd20",shadowsColor:"#ff5d77"},{highlightsColor:"#dc4379",shadowsColor:"#11245e"},{highlightsColor:"#ffffff",shadowsColor:"#91cff8"},{highlightsColor:"#ffefb3",shadowsColor:"#290900"},{highlightsColor:"#acd49d",shadowsColor:"#602457"},{highlightsColor:"#f00e2e",shadowsColor:"#0a0505"},{highlightsColor:"#defcfe",shadowsColor:"#8682d9"},{highlightsColor:"#fdd9e2",shadowsColor:"#65b7d6"},{highlightsColor:"#01ab6d",shadowsColor:"#241a5f"},{highlightsColor:"#ff9738",shadowsColor:"#36200c"},{highlightsColor:"#dfb233",shadowsColor:"#2f0781"}],$u=()=>{const e=Le.c(55),{state:t,dispatch:n}=Me(),[r,o]=F.useState("#ffffff"),[s,i]=F.useState(!1),[a,c]=F.useState("highlightsColor"),[d,l]=F.useState(0),u=F.useRef(null),{BRIGHTNESS_RANGE:f,CONTRAST_RANGE:h}=Ur,g=(t.currentLayer?.selection).config;let b;e[0]!==n||e[1]!==t.selectedLayerIdx?(b=C=>{n({type:X.UpdateLayerSelection,payload:{layerIdx:t.selectedLayerIdx,pselection:{config:{highlightsColor:C.highlightsColor,shadowsColor:C.shadowsColor}},withUpdateInitialPresent:!1}}),n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},e[0]=n,e[1]=t.selectedLayerIdx,e[2]=b):b=e[2];const v=b;let O;e[3]!==v?(O=C=>{i(!1),c("highlightsColor"),l(C),v(Er[C])},e[3]=v,e[4]=O):O=e[4];const T=O;let I,D,_,k,x;if(e[5]!==r||e[6]!==g.highlightsColor||e[7]!==g.shadowsColor||e[8]!==a||e[9]!==v){_=()=>{u.current||(u.current=x());const{highlightsColor:z,shadowsColor:N}=u.current;v({highlightsColor:z,shadowsColor:N}),i(!0),o(z)};let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=z=>{o(z)},e[15]=C):C=e[15],I=C,k=()=>{const z=r,N={highlightsColor:a==="highlightsColor"?z:g.highlightsColor,shadowsColor:a==="shadowsColor"?z:g.shadowsColor};u.current=N,v(N)};let P;e[16]!==g.highlightsColor||e[17]!==g.shadowsColor?(P=z=>{c(z);let N;z==="highlightsColor"?N=g.highlightsColor:N=g.shadowsColor,o(N)},e[16]=g.highlightsColor,e[17]=g.shadowsColor,e[18]=P):P=e[18],D=P,x=Mu,e[5]=r,e[6]=g.highlightsColor,e[7]=g.shadowsColor,e[8]=a,e[9]=v,e[10]=I,e[11]=D,e[12]=_,e[13]=k,e[14]=x}else I=e[10],D=e[11],_=e[12],k=e[13],x=e[14];let y;e[19]!==a||e[20]!==x||e[21]!==v?(y=()=>{u.current=x();let C;a==="highlightsColor"?C=u.current.highlightsColor:C=u.current.shadowsColor,o(C),v(u.current)},e[19]=a,e[20]=x,e[21]=v,e[22]=y):y=e[22];const R=y;let E,S;e[23]!==g.highlightsColor||e[24]!==g.shadowsColor||e[25]!==a?(E=()=>{u.current={highlightsColor:g.highlightsColor,shadowsColor:g.shadowsColor};let C=!1;for(const[P,z]of Er.entries())if(z.highlightsColor===g.highlightsColor&&z.shadowsColor===g.shadowsColor){C=!0,l(P);break}C||(o(a==="highlightsColor"?g.highlightsColor:g.shadowsColor),i(!0))},S=[a,g.highlightsColor,g.shadowsColor],e[23]=g.highlightsColor,e[24]=g.shadowsColor,e[25]=a,e[26]=E,e[27]=S):(E=e[26],S=e[27]),F.useEffect(E,S);let L;e[28]!==g.brightness?(L=B.jsx(wt,{label:"Brightness",id:"brightnessIntensity",min:f.min,max:f.max,configKey:"brightness",defaultValue:g.brightness,refresh:!0}),e[28]=g.brightness,e[29]=L):L=e[29];let A;e[30]!==g.contrast?(A=B.jsx(wt,{label:"Contrast",id:"contrastIntensity",min:h.min,max:h.max,configKey:"contrast",defaultValue:g.contrast,refresh:!0}),e[30]=g.contrast,e[31]=A):A=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=B.jsx(nn,{children:"Color Presets"}),e[32]=$):$=e[32];let w;e[33]!==T||e[34]!==d?(w=Er.map((C,P)=>B.jsx(fs,{preset:C,onClick:()=>T(P),selected:d===P},P)),e[33]=T,e[34]=d,e[35]=w):w=e[35];let m;e[36]!==_||e[37]!==s?(m=B.jsx(fs,{onClick:_,selected:s,children:"Custom"}),e[36]=_,e[37]=s,e[38]=m):m=e[38];let M;e[39]!==w||e[40]!==m?(M=B.jsxs(ju,{children:[w,m]}),e[39]=w,e[40]=m,e[41]=M):M=e[41];let j;e[42]!==r||e[43]!==a||e[44]!==I||e[45]!==D||e[46]!==k||e[47]!==R||e[48]!==s?(j=s&&B.jsxs(F.Fragment,{children:[B.jsxs(tn,{children:[B.jsx(nn,{variant:"primary",children:"Custom Tone"}),B.jsx(et,{onClick:R,variant:"secondary",size:"small",style:{cursor:"pointer"},children:"Randomize"})]}),B.jsxs(tn,{children:[B.jsx(et,{onClick:()=>D("highlightsColor"),style:{cursor:"pointer"},size:"small",variant:a==="highlightsColor"?"primary":"secondary",children:"Highlights"}),B.jsx(et,{onClick:()=>D("shadowsColor"),style:{cursor:"pointer"},size:"small",variant:a==="shadowsColor"?"primary":"secondary",children:"Shadows"})]}),B.jsx(Lu,{color:r,onChange:C=>I(C),onMouseUp:k,onTouchEnd:k}),B.jsx(Ou,{color:r,onChange:C=>I(C)})]}),e[42]=r,e[43]=a,e[44]=I,e[45]=D,e[46]=k,e[47]=R,e[48]=s,e[49]=j):j=e[49];let H;return e[50]!==M||e[51]!==j||e[52]!==L||e[53]!==A?(H=B.jsxs(Du,{children:[L,A,$,M,j]}),e[50]=M,e[51]=j,e[52]=L,e[53]=A,e[54]=H):H=e[54],H},Du=J.div`
  display: flex;
  flex: 1;
  min-height: 0;
  overflow-y: hidden;
  flex-direction: column;
  gap: 12px;
`,ju=J.div`
  display: grid;
  gap: 8px;
  grid-template-columns: 1fr 1fr;
  margin-bottom: 12px;
`,fs=J.div`
  height: 90px;
  cursor: pointer;
  text-align: center;
  align-items: center;
  justify-content: center;
  display: flex;
  border: 1px solid ${({theme:e,selected:t})=>t?e.colors.primary:"black"};
  ${e=>e.preset?`
    background: linear-gradient(
      to right,
      ${e.preset.shadowsColor} 0%,
      ${e.preset.shadowsColor} 50%,
      ${e.preset.highlightsColor} 50%,
      ${e.preset.highlightsColor} 100%
    );
  `:"background: transparent;"}
  position: relative;
  
  ${({theme:e,selected:t})=>t&&`
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: ${e.colors.primary};
      opacity: 0.4;
      pointer-events: none;
    }
  `}
`;function Mu(){const e=Bn(),t=Bn();return{highlightsColor:e,shadowsColor:t}}const Uu=()=>{const e=Le.c(2),{state:t}=Me(),{min:n,max:r}=zs,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=B.jsx(wt,{label:"Intensity",id:"grayscaleIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},Nu=()=>{const e=Le.c(2),{state:t}=Me(),{min:n,max:r}=Bs,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=B.jsx(wt,{label:"Intensity",id:"brightnessIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},Fu=()=>{const e=Le.c(2),{state:t}=Me(),{min:n,max:r}=Hs,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.blend?(i=B.jsx(wt,{label:"Blend Intensity",id:"blendIntensity",min:n,max:r,configKey:"blend",defaultValue:s.blend}),e[0]=s.blend,e[1]=i):i=e[1],i},Bu=()=>{const e=Le.c(8),{state:t,dispatch:n}=Me(),{min:r,max:o}=Gs,i=(t.currentLayer?.selection).config;let a;e[0]!==i.intensity?(a=B.jsx(wt,{label:"Intensity",id:"distortionIntensity",min:r,max:o,configKey:"intensity",defaultValue:i.intensity,refresh:!0}),e[0]=i.intensity,e[1]=a):a=e[1];let c;e[2]!==n||e[3]!==t.selectedLayerIdx?(c=B.jsx(jt,{variant:"outline",type:"button",onClick:()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Pattern"}),e[2]=n,e[3]=t.selectedLayerIdx,e[4]=c):c=e[4];let d;return e[5]!==a||e[6]!==c?(d=B.jsxs(ar,{children:[a,c]}),e[5]=a,e[6]=c,e[7]=d):d=e[7],d},zu=()=>{const e=Le.c(3),{state:t}=Me(),{min:n,max:r}=jr,s=(t.currentLayer?.selection).config;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=B.jsx(Ei,{label:"RGB Shift Effect",id:"rgb-shift-effect",items:Fa,configKey:"effect",defaultValue:"Vibrance",getItemValue:Yu}),e[0]=i):i=e[0];let a;return e[1]!==s.intensity?(a=B.jsxs(ar,{children:[i,B.jsx(wt,{label:"Intensity",id:"rgbShiftIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=a):a=e[2],a},Hu=()=>{const e=Le.c(3),{state:t}=Me(),{min:n,max:r}=Mr,s=(t.currentLayer?.selection).config;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=B.jsx(Ei,{label:"Sort Direction",id:"pixelSortDirection",items:Ba,configKey:"direction",defaultValue:"Vertical",getItemValue:Xu,refresh:!0}),e[0]=i):i=e[0];let a;return e[1]!==s.intensity?(a=B.jsxs(ar,{children:[i,B.jsx(wt,{label:"Intensity",id:"pixelSortIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=a):a=e[2],a},Gu=()=>{const e=Le.c(2),{state:t}=Me(),{min:n,max:r}=qs,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=B.jsx(wt,{label:"Intensity",id:"sliceDistortionIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},qu=()=>{const e=Le.c(8),{state:t,dispatch:n}=Me(),o=(t.currentLayer?.selection).config;let s;e[0]!==o.intensity?(s=B.jsx(wt,{label:"Distortion",id:"sliceDistortionIntensity",min:$n.min,max:$n.max,step:$n.step,configKey:"intensity",defaultValue:o.intensity,refresh:!0}),e[0]=o.intensity,e[1]=s):s=e[1];let i;e[2]!==n||e[3]!==t.selectedLayerIdx?(i=B.jsx(jt,{variant:"outline",type:"button",onClick:()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Patterns"}),e[2]=n,e[3]=t.selectedLayerIdx,e[4]=i):i=e[4];let a;return e[5]!==s||e[6]!==i?(a=B.jsxs(ar,{children:[s,i]}),e[5]=s,e[6]=i,e[7]=a):a=e[7],a},Wu=e=>{const t=Le.c(11);if(!e){let n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx("div",{}),t[0]=n):n=t[0],n}switch(e){case ne.None:{let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx("div",{}),t[1]=n):n=t[1],n}case ne.RGBShift:{let n;return t[2]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(zu,{}),t[2]=n):n=t[2],n}case ne.Grayscale:{let n;return t[3]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Uu,{}),t[3]=n):n=t[3],n}case ne.Brightness:{let n;return t[4]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Nu,{}),t[4]=n):n=t[4],n}case ne.AsSound:{let n;return t[5]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Fu,{}),t[5]=n):n=t[5],n}case ne.FractalPixelSort:{let n;return t[6]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Bu,{}),t[6]=n):n=t[6],n}case ne.PixelSort:{let n;return t[7]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Hu,{}),t[7]=n):n=t[7],n}case ne.Slice:{let n;return t[8]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(Gu,{}),t[8]=n):n=t[8],n}case ne.OffsetPixelSort:{let n;return t[9]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx(qu,{}),t[9]=n):n=t[9],n}case ne.Duotone:{let n;return t[10]===Symbol.for("react.memo_cache_sentinel")?(n=B.jsx($u,{}),t[10]=n):n=t[10],n}}};function Vu(){const e=Le.c(4),{state:t}=Me(),n=t.currentLayer?.selection.filter;let r;e[0]!==n?(r=Wu(n),e[0]=n,e[1]=r):r=e[1];let o;return e[2]!==r?(o=B.jsx(Pu,{children:r}),e[2]=r,e[3]=o):o=e[3],o}function Yu(e){return e}function Xu(e){return e}const yf=()=>{const e=Le.c(46),{state:t,dispatch:n}=Me(),{selectedLayerIdx:r,currentLayer:o}=t,{start:s,stop:i}=zt(),a=F.useContext(Jr);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=Object.keys(ne),e[0]=c):c=e[0];const d=c;let l;e[1]!==n||e[2]!==s||e[3]!==i||e[4]!==a?(l=(j,H)=>{s(),n({type:X.UpdateLayerSelection,payload:{layerIdx:j,pselection:{filter:H},withUpdateInitialPresent:!1}}),a?.isActive()&&a.getCurrentStep()?.id==="chooseEffect"&&a.next(),i()},e[1]=n,e[2]=s,e[3]=i,e[4]=a,e[5]=l):l=e[5];const u=l;let f;e[6]!==n||e[7]!==r||e[8]!==s||e[9]!==i?(f=()=>{s(),n({type:X.DeleteLayer,payload:r}),n({type:X.ResetImageCanvas}),n({type:X.GenerateResult}),i()},e[6]=n,e[7]=r,e[8]=s,e[9]=i,e[10]=f):f=e[10];const h=f;let p;e[11]!==n?(p=()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult})},e[11]=n,e[12]=p):p=e[12];const g=p;let b;e[13]!==n||e[14]!==g?(b=j=>{n({type:X.DoLayerAction,payload:j}),g()},e[13]=n,e[14]=g,e[15]=b):b=e[15];const v=b;let O,T;e[16]===Symbol.for("react.memo_cache_sentinel")?(O=B.jsx(Wc,{style:{marginBottom:"12px"},children:"Layer Configurations"}),T=B.jsx(nn,{children:"Filter"}),e[16]=O,e[17]=T):(O=e[16],T=e[17]);let I;e[18]!==u||e[19]!==r?(I=j=>u(r,j.target.value),e[18]=u,e[19]=r,e[20]=I):I=e[20];const D=o?.selection.filter;let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=d.map(Zu),e[21]=_):_=e[21];let k;e[22]!==I||e[23]!==D?(k=B.jsx(Ai,{id:"filterList",$full:!0,onChange:I,value:D,children:_}),e[22]=I,e[23]=D,e[24]=k):k=e[24];let x;e[25]===Symbol.for("react.memo_cache_sentinel")?(x=B.jsx(Vu,{}),e[25]=x):x=e[25];let y;e[26]===Symbol.for("react.memo_cache_sentinel")?(y=B.jsxs(Dn,{children:[B.jsx(Hc,{size:16}),B.jsx("span",{children:"Delete Layer"})]}),e[26]=y):y=e[26];let R;e[27]!==h?(R=B.jsx(jt,{$full:!0,variant:"warning",onClick:h,children:y}),e[27]=h,e[28]=R):R=e[28];let E;e[29]!==v?(E=()=>v("undo"),e[29]=v,e[30]=E):E=e[30];let S;e[31]===Symbol.for("react.memo_cache_sentinel")?(S=B.jsxs(Dn,{children:[B.jsx(qc,{size:16}),B.jsx("span",{children:"Undo"})]}),e[31]=S):S=e[31];let L;e[32]!==E?(L=B.jsx(jt,{variant:"outline",type:"button",onClick:E,children:S}),e[32]=E,e[33]=L):L=e[33];let A;e[34]!==v?(A=()=>v("redo"),e[34]=v,e[35]=A):A=e[35];let $;e[36]===Symbol.for("react.memo_cache_sentinel")?($=B.jsxs(Dn,{children:[B.jsx(Bc,{size:16}),B.jsx("span",{children:"Redo"})]}),e[36]=$):$=e[36];let w;e[37]!==A?(w=B.jsx(jt,{variant:"outline",type:"button",onClick:A,children:$}),e[37]=A,e[38]=w):w=e[38];let m;e[39]!==R||e[40]!==L||e[41]!==w?(m=B.jsxs(Qu,{children:[R,L,w]}),e[39]=R,e[40]=L,e[41]=w,e[42]=m):m=e[42];let M;return e[43]!==k||e[44]!==m?(M=B.jsxs(Ku,{children:[O,T,k,x,m]}),e[43]=k,e[44]=m,e[45]=M):M=e[45],M},Ku=J.div`
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  @media (max-width: 1280px) {
    border-top: solid black 1px;
    border-top-style: dashed;
    flex: none;
    min-height: auto;
  }
`,Qu=J.div`
    margin-top: 12px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 4px;

    & > *:first-child {
        grid-column: span 2;
    }
`;function Zu(e){return B.jsx("option",{value:e,children:Ys[e]},`filter-${e}`)}const vf=F.forwardRef((e,t)=>{const n=Le.c(26);let r,o;n[0]!==e?({onChange:r,...o}=e,n[0]=e,n[1]=r,n[2]=o):(r=n[1],o=n[2]);const s=F.useRef(null),[i,a]=F.useState(!1);let c;n[3]!==t?(c=()=>{t&&"current"in t&&t.current&&t.current.click()},n[3]=t,n[4]=c):c=n[4];const d=c;let l;n[5]===Symbol.for("react.memo_cache_sentinel")?(l=y=>{y.preventDefault(),y.stopPropagation(),a(!0)},n[5]=l):l=n[5];const u=l;let f;n[6]===Symbol.for("react.memo_cache_sentinel")?(f=y=>{y.preventDefault(),y.stopPropagation(),a(!1)},n[6]=f):f=n[6];const h=f;let p;n[7]!==r||n[8]!==t?(p=y=>{if(t&&"current"in t&&t.current){const R=new DataTransfer;if(R.items.add(y),t.current.files=R.files,r){const E=new Event("change",{bubbles:!0});Object.defineProperty(E,"target",{writable:!1,value:t.current}),r(E)}}},n[7]=r,n[8]=t,n[9]=p):p=n[9];const g=p;let b;n[10]!==g||n[11]!==t?(b=y=>{y.preventDefault(),y.stopPropagation(),a(!1);const R=y.dataTransfer.files;R&&R.length>0&&t&&"current"in t&&t.current&&g(R[0])},n[10]=g,n[11]=t,n[12]=b):b=n[12];const v=b,O=i?"active":"";let T,I;n[13]===Symbol.for("react.memo_cache_sentinel")?(T=B.jsx(tf,{children:B.jsx("i",{className:"fas fa-images"})}),I=B.jsx(ds,{children:"Drag & Drop"}),n[13]=T,n[14]=I):(T=n[13],I=n[14]);let D;n[15]===Symbol.for("react.memo_cache_sentinel")?(D=B.jsxs(ds,{children:["or ",B.jsx(rf,{children:"browse"})]}),n[15]=D):D=n[15];let _;n[16]!==r||n[17]!==t||n[18]!==o?(_=B.jsx(of,{ref:t,type:"file",accept:"image/*",onChange:r,...o}),n[16]=r,n[17]=t,n[18]=o,n[19]=_):_=n[19];let k;n[20]===Symbol.for("react.memo_cache_sentinel")?(k=B.jsx(nf,{children:"Supports: JPEG, JPG, PNG"}),n[20]=k):k=n[20];let x;return n[21]!==d||n[22]!==v||n[23]!==_||n[24]!==O?(x=B.jsx(Ju,{ref:s,children:B.jsxs(ef,{className:O,onDragOver:u,onDragLeave:h,onDrop:v,onClick:d,children:[T,I,D,_,k]})}),n[21]=d,n[22]=v,n[23]=_,n[24]=O,n[25]=x):x=n[25],x}),Ju=J.div`
  max-width: 650px;
  width: 100%;
  padding: 30px;
  background: #fff;
`,ef=J.div`
  cursor: pointer;
  height: 400px;
  border: 1px dashed #9da2ac;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  margin: 10px auto;

  &.active {
    border: 1px solid ${({theme:e})=>e.colors.primary};
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`,tf=J.div`
  font-size: 50px;
  color: ${({theme:e})=>e.colors.primary};
`,ds=J.span`
  font-size: 20px;
  font-weight: 500;
  color: #34495e;
`,nf=J.span`
  font-size: 12px;
  color: gray;
  margin: 10px 0 15px 0;
`,rf=J.span`
  font-size: 20px;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.primary};
`,of=J.input`
  display: none;
`;export{jt as B,cf as C,Dc as D,pf as E,Xs as F,gf as G,ff as H,Ua as L,df as P,no as S,vf as U,vc as _,zt as a,Dn as b,X as c,Vr as d,$i as e,hs as f,Ha as g,Le as h,J as i,B as j,Jr as k,mf as l,yf as m,hf as n,uf as o,Yl as p,Fs as q,F as r,af as s,Na as t,Me as u,sf as v,lf as w};

function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var en={exports:{}},mt={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kn;function eo(){if(kn)return mt;kn=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(o,n,r){var a=null;if(r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),"key"in n){r={};for(var s in n)s!=="key"&&(r[s]=n[s])}else r=n;return n=r.ref,{$$typeof:e,type:o,key:a,ref:n!==void 0?n:null,props:r}}return mt.Fragment=t,mt.jsx=i,mt.jsxs=i,mt}var On;function to(){return On||(On=1,en.exports=eo()),en.exports}var G=to(),tn={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mn;function no(){if(Mn)return V;Mn=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),l=Symbol.iterator;function h(I){return I===null||typeof I!="object"?null:(I=l&&I[l]||I["@@iterator"],typeof I=="function"?I:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function w(I,T,B){this.props=I,this.context=T,this.refs=R,this.updater=B||p}w.prototype.isReactComponent={},w.prototype.setState=function(I,T){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,T,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=w.prototype;function L(I,T,B){this.props=I,this.context=T,this.refs=R,this.updater=B||p}var P=L.prototype=new k;P.constructor=L,x(P,w.prototype),P.isPureReactComponent=!0;var j=Array.isArray;function b(){}var U={H:null,A:null,T:null,S:null},m=Object.prototype.hasOwnProperty;function g(I,T,B){var $=B.ref;return{$$typeof:e,type:I,key:T,ref:$!==void 0?$:null,props:B}}function A(I,T){return g(I.type,T,I.props)}function _(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function S(I){var T={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(B){return T[B]})}var C=/\/+/g;function E(I,T){return typeof I=="object"&&I!==null&&I.key!=null?S(""+I.key):T.toString(36)}function O(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(b,b):(I.status="pending",I.then(function(T){I.status==="pending"&&(I.status="fulfilled",I.value=T)},function(T){I.status==="pending"&&(I.status="rejected",I.reason=T)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function v(I,T,B,$,D){var H=typeof I;(H==="undefined"||H==="boolean")&&(I=null);var z=!1;if(I===null)z=!0;else switch(H){case"bigint":case"string":case"number":z=!0;break;case"object":switch(I.$$typeof){case e:case t:z=!0;break;case c:return z=I._init,v(z(I._payload),T,B,$,D)}}if(z)return D=D(I),z=$===""?"."+E(I,0):$,j(D)?(B="",z!=null&&(B=z.replace(C,"$&/")+"/"),v(D,T,B,"",function(Z){return Z})):D!=null&&(_(D)&&(D=A(D,B+(D.key==null||I&&I.key===D.key?"":(""+D.key).replace(C,"$&/")+"/")+z)),T.push(D)),1;z=0;var W=$===""?".":$+":";if(j(I))for(var Y=0;Y<I.length;Y++)$=I[Y],H=W+E($,Y),z+=v($,T,B,H,D);else if(Y=h(I),typeof Y=="function")for(I=Y.call(I),Y=0;!($=I.next()).done;)$=$.value,H=W+E($,Y++),z+=v($,T,B,H,D);else if(H==="object"){if(typeof I.then=="function")return v(O(I),T,B,$,D);throw T=String(I),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return z}function y(I,T,B){if(I==null)return I;var $=[],D=0;return v(I,$,"","",function(H){return T.call(B,H,D++)}),$}function F(I){if(I._status===-1){var T=I._result;T=T(),T.then(function(B){(I._status===0||I._status===-1)&&(I._status=1,I._result=B)},function(B){(I._status===0||I._status===-1)&&(I._status=2,I._result=B)}),I._status===-1&&(I._status=0,I._result=T)}if(I._status===1)return I._result.default;throw I._result}var M=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},N={map:y,forEach:function(I,T,B){y(I,function(){T.apply(this,arguments)},B)},count:function(I){var T=0;return y(I,function(){T++}),T},toArray:function(I){return y(I,function(T){return T})||[]},only:function(I){if(!_(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return V.Activity=u,V.Children=N,V.Component=w,V.Fragment=i,V.Profiler=n,V.PureComponent=L,V.StrictMode=o,V.Suspense=f,V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,V.__COMPILER_RUNTIME={__proto__:null,c:function(I){return U.H.useMemoCache(I)}},V.cache=function(I){return function(){return I.apply(null,arguments)}},V.cacheSignal=function(){return null},V.cloneElement=function(I,T,B){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var $=x({},I.props),D=I.key;if(T!=null)for(H in T.key!==void 0&&(D=""+T.key),T)!m.call(T,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&T.ref===void 0||($[H]=T[H]);var H=arguments.length-2;if(H===1)$.children=B;else if(1<H){for(var z=Array(H),W=0;W<H;W++)z[W]=arguments[W+2];$.children=z}return g(I.type,D,$)},V.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:r,_context:I},I},V.createElement=function(I,T,B){var $,D={},H=null;if(T!=null)for($ in T.key!==void 0&&(H=""+T.key),T)m.call(T,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(D[$]=T[$]);var z=arguments.length-2;if(z===1)D.children=B;else if(1<z){for(var W=Array(z),Y=0;Y<z;Y++)W[Y]=arguments[Y+2];D.children=W}if(I&&I.defaultProps)for($ in z=I.defaultProps,z)D[$]===void 0&&(D[$]=z[$]);return g(I,H,D)},V.createRef=function(){return{current:null}},V.forwardRef=function(I){return{$$typeof:s,render:I}},V.isValidElement=_,V.lazy=function(I){return{$$typeof:c,_payload:{_status:-1,_result:I},_init:F}},V.memo=function(I,T){return{$$typeof:d,type:I,compare:T===void 0?null:T}},V.startTransition=function(I){var T=U.T,B={};U.T=B;try{var $=I(),D=U.S;D!==null&&D(B,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(b,M)}catch(H){M(H)}finally{T!==null&&B.types!==null&&(T.types=B.types),U.T=T}},V.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},V.use=function(I){return U.H.use(I)},V.useActionState=function(I,T,B){return U.H.useActionState(I,T,B)},V.useCallback=function(I,T){return U.H.useCallback(I,T)},V.useContext=function(I){return U.H.useContext(I)},V.useDebugValue=function(){},V.useDeferredValue=function(I,T){return U.H.useDeferredValue(I,T)},V.useEffect=function(I,T){return U.H.useEffect(I,T)},V.useEffectEvent=function(I){return U.H.useEffectEvent(I)},V.useId=function(){return U.H.useId()},V.useImperativeHandle=function(I,T,B){return U.H.useImperativeHandle(I,T,B)},V.useInsertionEffect=function(I,T){return U.H.useInsertionEffect(I,T)},V.useLayoutEffect=function(I,T){return U.H.useLayoutEffect(I,T)},V.useMemo=function(I,T){return U.H.useMemo(I,T)},V.useOptimistic=function(I,T){return U.H.useOptimistic(I,T)},V.useReducer=function(I,T,B){return U.H.useReducer(I,T,B)},V.useRef=function(I){return U.H.useRef(I)},V.useState=function(I){return U.H.useState(I)},V.useSyncExternalStore=function(I,T,B){return U.H.useSyncExternalStore(I,T,B)},V.useTransition=function(){return U.H.useTransition()},V.version="19.2.0",V}var Dn;function Sn(){return Dn||(Dn=1,tn.exports=no()),tn.exports}var nn={exports:{}},ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn;function ro(){if(jn)return ve;jn=1;var e=Sn();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)d+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(f,d,c){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:u==null?null:""+u,children:f,containerInfo:d,implementation:c}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ve.createPortal=function(f,d){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(f,d,null,c)},ve.flushSync=function(f){var d=a.T,c=o.p;try{if(a.T=null,o.p=2,f)return f()}finally{a.T=d,o.p=c,o.d.f()}},ve.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(f,d))},ve.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},ve.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var c=d.as,u=s(c,d.crossOrigin),l=typeof d.integrity=="string"?d.integrity:void 0,h=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;c==="style"?o.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:u,integrity:l,fetchPriority:h}):c==="script"&&o.d.X(f,{crossOrigin:u,integrity:l,fetchPriority:h,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ve.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var c=s(d.as,d.crossOrigin);o.d.M(f,{crossOrigin:c,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(f)},ve.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var c=d.as,u=s(c,d.crossOrigin);o.d.L(f,c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ve.preloadModule=function(f,d){if(typeof f=="string")if(d){var c=s(d.as,d.crossOrigin);o.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:c,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(f)},ve.requestFormReset=function(f){o.d.r(f)},ve.unstable_batchedUpdates=function(f,d){return f(d)},ve.useFormState=function(f,d,c){return a.H.useFormState(f,d,c)},ve.useFormStatus=function(){return a.H.useHostTransitionStatus()},ve.version="19.2.0",ve}var $n;function oo(){if($n)return nn.exports;$n=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nn.exports=ro(),nn.exports}var rn={exports:{}},on={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn;function io(){if(Fn)return on;Fn=1;var e=Sn().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return on.c=function(t){return e.H.useMemoCache(t)},on}var Nn;function so(){return Nn||(Nn=1,rn.exports=io()),rn.exports}var he=so(),ee=Sn();const Ue=Jr(ee),ar={ftype:void 0,imgBuf:new ArrayBuffer,imgCtx:null,originalImageData:null,layers:[],currentLayer:void 0,selectedLayerIdx:-1,mode:"edit",hideSelectionOverlay:!1},ao=ee.createContext({state:ar,dispatch:()=>{}}),ge=()=>ee.useContext(ao);var Q=(e=>(e.None="None",e.PixelSort="PixelSort",e.AsSound="AsSound",e.FractalPixelSort="FractalPixelSort",e.Brightness="Brightness",e.RGBShift="RGBShift",e.Grayscale="Grayscale",e.Slice="Slice",e.OffsetPixelSort="OffsetPixelSort",e))(Q||{});class co{past;present;future;constructor(t){this.past=[],this.present=t,this.future=[]}canUndo(){return this.past.length!==0}canRedo(){return this.future.length!==0}undo(){if(this.past.length===0)return this;const t=this.past[this.past.length-1],i=this.past.slice(0,this.past.length-1),o=this.present;return this.past=i,this.present=t,this.future=[o,...this.future],this}redo(){if(this.future.length===0)return this;const t=this.future[0],i=this.future.slice(1);return this.past=[...this.past,this.present],this.present=t,this.future=i,this}set(t){return this.past=[...this.past,this.present],this.present=t,this.future=[],this}reset(t){return this.past=[],this.present=t,this.future=[],this}}const Bn=44100,lo=1e-4,sn={r:{min:30,max:500,offset:60},g:{min:500,max:2e3,offset:250},b:{min:2e3,max:1e4,offset:1e3}},uo=e=>{const[t,i,o,n]=e;return[t/255,i/255,o/255,n]},fo=e=>e.map(t=>{const{value:i,range:o}=t,{offset:n,min:r,max:a}=o;return n+i*(a-r)}),ho=(e,t,i,o)=>{const n=Math.floor(e.length/3)*Math.floor(o*i),r=new Float32Array(n);let a=0;for(let s=0;s<e.length;s+=3){const[f,d,c]=[e[s],e[s+1],e[s+2]],[u,l,h]=[t[s],t[s+1],t[s+2]];for(let p=0;p<o*i;p++){const x=p/o,R=(u*Math.sin(2*Math.PI*f*x)+l*Math.sin(2*Math.PI*d*x)+h*Math.sin(2*Math.PI*c*x))/3;r[a++]=R}return r}},po=e=>{const t=new Float32Array(e.length);for(let i=0;i<e.length;i++){let o=e[i];const r=Math.pow(2,4);o=Math.round(o*r)/r,Math.random()<.1&&(o=i>0?t[i-1]:o),o=Math.max(-1,Math.min(1,o*2.5)),o+=(Math.random()-.5)*.15;const s=255;o=Math.sign(o)*Math.log(1+s*Math.abs(o))/Math.log(1+s),t[i]=o}return t},go=(e,t)=>{const a=t*1,s=e.length*1,f=new ArrayBuffer(44+s),d=new DataView(f);It(d,0,"RIFF"),d.setUint32(4,36+s,!0),It(d,8,"WAVE"),It(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,7,!0),d.setUint16(22,1,!0),d.setUint32(24,t,!0),d.setUint32(28,a,!0),d.setUint16(32,1,!0),d.setUint16(34,8,!0),It(d,36,"data"),d.setUint32(40,s,!0);const c=44;for(let u=0;u<e.length;u++){const l=Math.max(-1,Math.min(1,e[u]));d.setUint8(c+u,l*127+128|0)}return new Uint8Array(f)},It=(e,t,i)=>{for(let o=0;o<i.length;o++)e.setUint8(t+o,i.charCodeAt(o))},yo=({imageCanvas:e,layer:t,selectionArea:i})=>{const o=t.selection,{width:n,height:r}=e.canvas,a=e.getImageData(0,0,n,r),s=a.data;new Uint8Array(n*r).fill(1);let d;return o.config.cache.length===0?d=mo(s,i,n,r):d=o.config.cache,vo(s,d,i,o.config.blend),e.putImageData(a,0,0),{updatedSelection:{...t.selection,config:{...o.config,cache:d}}}},mo=(e,t,i,o)=>{const n=[],r=[];for(let u=0;u<t.length;u++){const l=t[u]*4,h=uo(new Uint8Array([e[l],e[l+1],e[l+2]]));fo([{value:h[0],range:sn.r},{value:h[1],range:sn.g},{value:h[2],range:sn.b}]).forEach(p=>r.push(p)),n.push(h[0],h[1],h[2])}const a=ho(n,r,lo,Bn);if(!a)return new Uint8ClampedArray;const s=po(a),f=go(s,Bn),d=new Uint8ClampedArray(i*o*4),c=f.length;for(let u=0;u<d.length;u+=c){const l=d.length-u;l>=c?d.set(f,u):d.set(f.subarray(0,l),u)}return d},vo=(e,t,i,o)=>{for(let n=0;n<i.length;n++){const r=i[n]*4;e[r]=e[r]*(1-o)+t[r]*o,e[r+1]=e[r+1]*(1-o)+t[r+1]*o,e[r+2]=e[r+2]*(1-o)+t[r+2]*o}};class Ee{channel;startingIdx;constructor(t,i=0){if(t.length!==4)for(let o=t.length;o<4;o++)t[o]=0;t.forEach(o=>{if(!Number.isInteger(o))throw new Error("value must be an integer");if(o<0||o>255)throw new Error("value range must be within 0..255")}),this.channel=t,this.startingIdx=i}get red(){return this.channel[0]}get green(){return this.channel[1]}get blue(){return this.channel[2]}get alpha(){return this.channel[3]}normalizeRGBValue=t=>Math.min(255,Math.max(0,t));brightness(){const t=this.red/255,i=this.green/255,o=this.blue/255;let n,r;return n=t,r=t,i>n&&(n=i),o>n&&(n=o),i<r&&(r=i),o<r&&(r=o),(n+r)/2}}const xo=({imageCanvas:e,layer:t,selectionArea:i})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data;for(let a=0;a<i.length;a++){const s=i[a]*4,{red:f,blue:d,green:c}=new Ee(r.slice(s,s+4));r[s]=f*o.config.intensity,r[s+1]=c*o.config.intensity,r[s+2]=d*o.config.intensity}return e.putImageData(n,0,0),{updatedSelection:t.selection}},bo=({imageCanvas:e,layer:t,selectionArea:i,refresh:o})=>{const n=t.selection;let r;return n.config.cache.length===0||o?r=wo(e,n.config.intensity):r=n.config.cache,_o(e,r,i),{updatedSelection:{...t.selection,config:{...n.config,cache:r}}}},wo=(e,t)=>{const i=e.getImageData(0,0,e.canvas.width,e.canvas.height),o=new Uint8ClampedArray(i.data);for(let f=o.length-1;f>0;f--)o[f*t%o.length]<o[f]&&(o[f]=o[f*t%o.length]);const n=e.canvas.width,r=e.canvas.height,a=Math.round(Math.random()*(n-10)+10),s=Math.round(Math.random()*(n-10)+a);for(let f=0;f<r;f++)for(let d=0;d<n;d++){const c=(d+f*n)*4,{red:u,blue:l,green:h}=new Ee(o.slice(c,c+4)),p=Math.floor(Math.random()*2);So(o,c,a,s,p,u,h,l)}return o},So=(e,t,i,o,n,r,a,s)=>{if(n===0){if(t+i+1>e.length-1)return;o%3===0?(e[t]=s,e[t+i]=r,e[t+i+1]=a):o%3===1?(e[t]=r,e[t+i]=s,e[t+i+1]=a):(e[t]=r,e[t+i]=s)}else{if(t-i<0)return;o%3===0?(e[t]=s,e[t-i]=a,e[t-i+1]=r):o%3===1?(e[t+1]=s,e[t-i]=s):(e[t]=a,e[t-i]=s,e[t-i+1]=r)}},_o=(e,t,i)=>{const o=e.getImageData(0,0,e.canvas.width,e.canvas.height),n=o.data;for(let r=0;r<i.length;r++){const a=i[r]*4,{red:s,blue:f,green:d}=new Ee(t.slice(a,a+4));n[a]=s,n[a+1]=f,n[a+2]=d}e.putImageData(o,0,0)},Io=({imageCanvas:e,layer:t,selectionArea:i})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data;for(let a=0;a<i.length;a++){const s=i[a]*4,{red:f,blue:d,green:c}=new Ee(r.slice(s,s+4)),u=(f+c+d)/3;r[s]=f*(1-o.config.intensity)+u*o.config.intensity,r[s+1]=c*(1-o.config.intensity)+u*o.config.intensity,r[s+2]=d*(1-o.config.intensity)+u*o.config.intensity}return e.putImageData(n,0,0),{updatedSelection:t.selection}},Ao=({imageCanvas:e,layer:t,selectionArea:i})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data;for(let a=0;a<i.length;a++){const s=i[a]*4,{red:f,blue:d,green:c,normalizeRGBValue:u}=new Ee(r.slice(s,s+4),s),l=o.config.intensity;if(o.config.effect==="Vibrance"){const h=Math.max(f,c,d),p=(f+c+d)/3,x=Math.abs(h-p)*2/255*-l/100;f!==h&&(r[s]=f+(h-f)*x),c!==h&&(r[s+1]=c+(h-c)*x),d!==h&&(r[s+2]=d+(h-d)*x)}else o.config.effect==="Red"?(r[s]=u(f+l),r[s+1]=u(c-l),r[s+2]=u(d-l)):o.config.effect==="Green"?(r[s]=u(f-l),r[s+1]=u(c+l),r[s+2]=u(d-l)):o.config.effect==="Blue"&&(r[s]=u(f-l),r[s+1]=u(c-l),r[s+2]=u(d+l))}return e.putImageData(n,0,0),{updatedSelection:t.selection}},Co=({imageCanvas:e,layer:t,selectionArea:i,refresh:o})=>{const n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data,a=e.canvas.width,s=e.canvas.height,f=t.selection,d=f.config.intensity,c=f.config.direction;let u;f.config.cache.length===0||o?(u=new Uint8ClampedArray(r.length),u.set(r),c==="Vertical"?Eo(u,a,s,d):Ro(u,a,s,d)):u=f.config.cache;for(let l=0;l<i.length;l++){const h=i[l]*4,{red:p,green:x,blue:R}=new Ee(u.slice(h,h+4));r[h]=p,r[h+1]=x,r[h+2]=R}return e.putImageData(n,0,0),{updatedSelection:f}},Eo=(e,t,i,o)=>{for(let n=0;n<t;n++){let r=[],a=!0,s=-1;for(let f=0;f<i;f++){const d=(f*t+n)*4,c=new Ee(e.slice(d,d+4));if(c.brightness()>o/100){if(!a&&r.length>0){r.sort((u,l)=>{const h=u.color.brightness(),p=l.color.brightness();return h-p});for(let u=0;u<r.length;u++){const l=((u+s)*t+n)*4;e[l]=r[u].color.red,e[l+1]=r[u].color.green,e[l+2]=r[u].color.blue}r=[],a=!0}}else a&&(s=f,a=!1),r.push({color:c,y:f})}if(!a&&r.length>0){r.sort((f,d)=>{const c=f.color.brightness(),u=d.color.brightness();return c-u});for(let f=0;f<r.length;f++){const d=((f+s)*t+n)*4;e[d]=r[f].color.red,e[d+1]=r[f].color.green,e[d+2]=r[f].color.blue}}}},Ro=(e,t,i,o)=>{for(let n=0;n<i;n++){let r=[],a=!0,s=-1;for(let f=0;f<t;f++){const d=(n*t+f)*4,c=new Ee(e.slice(d,d+4));if(c.brightness()>o/100){if(!a&&r.length>0){r.sort((u,l)=>{const h=u.color.brightness(),p=l.color.brightness();return h-p});for(let u=0;u<r.length;u++){const l=(n*t+(u+s))*4;e[l]=r[u].color.red,e[l+1]=r[u].color.green,e[l+2]=r[u].color.blue}r=[],a=!0}}else a&&(s=f,a=!1),r.push({color:c,y:n})}if(!a&&r.length>0){r.sort((f,d)=>{const c=f.color.brightness(),u=d.color.brightness();return c-u});for(let f=0;f<r.length;f++){const d=(n*t+(f+s))*4;e[d]=r[f].color.red,e[d+1]=r[f].color.green,e[d+2]=r[f].color.blue}}}},Lo=({layer:e,imageCanvas:t,selectionArea:i})=>{const o=e.selection,n=t.getImageData(0,0,t.canvas.width,t.canvas.height),r=n.data,a=t.canvas.width,s=t.canvas.height,f=o.config.intensity/10;let d=-1;const c=new Uint8ClampedArray(r.length);c.set(r);for(let u=0;u<a;u++){Math.random()>.95&&(d=Math.floor(((1-f)*Math.random()+f)*s)),Math.random()>.95&&(d=0);for(let l=0;l<s;l++){const h=(l*a+u)*4;let p=l+d;p>s-1&&(p=p-s);const x=(u+p*a)*4;for(let R=0;R<4;R++)x+R<0||x+R>c.length||(c[x+R]=c[h+R])}}for(let u=0;u<i.length;u++){const l=i[u]*4,{red:h,green:p,blue:x}=new Ee(c.slice(l,l+4));r[l]=h,r[l+1]=p,r[l+2]=x}return t.putImageData(n,0,0),{updatedSelection:e.selection}},Po=({layer:e,imageCanvas:t,selectionArea:i,refresh:o})=>{const n=e.selection,r=t.canvas.width,a=t.canvas.height,s=n.config.intensity;let f;if(n.config.cache.length===0||o){const u=document.createElement("canvas");u.width=r,u.height=a;const l=u.getContext("2d");l.drawImage(t.canvas,0,0);const h=document.createElement("canvas");h.width=r,h.height=a;const p=h.getContext("2d");p.drawImage(t.canvas,0,0);const x=s*s/100*r;for(let g=0;g<s*2;g++){const A=st(0,a),_=Math.min(st(1,Math.floor(a/4)),a-A),S=st(-x,x);if(S!==0)if(S<0){const C=-S;l.drawImage(h,C,A,r+S,_,0,A,r+S,_),l.drawImage(h,0,A,C,_,r+S,A,C,_)}else S>0&&(l.drawImage(h,0,A,r,_,S,A,r,_),l.drawImage(h,r-S,A,S,_,0,A,S,_))}const R=l.getImageData(0,0,r,a),w=R.data,L=p.getImageData(0,0,r,a).data,P=st(0,2),j=st(-s*2,s*2),b=st(-s*2,s*2);for(let g=0;g<a;g++)for(let A=0;A<r;A++){const _=j+A,S=b+g;if(_<0||_>=r||S<0||S>=a)continue;const C=(_+S*r)*4,E=(A+g*r)*4,O=new Ee(L.slice(E,E+4)),v=new Ee(w.slice(C,C+4));let y;P===0?y={red:O.red,green:v.green,blue:v.blue,alpha:v.alpha}:P===1?y={red:v.red,green:O.green,blue:v.blue,alpha:v.alpha}:y={red:v.red,green:v.green,blue:O.blue,alpha:v.alpha},!(C<0||C+4>w.length)&&(w[C]=y.red,w[C+1]=y.green,w[C+2]=y.blue,w[C+3]=y.alpha)}l.putImageData(R,0,0),f=l.getImageData(0,0,r,a).data}else f=n.config.cache;const d=t.getImageData(0,0,r,a),c=d.data;for(let u=0;u<i.length;u++){const l=i[u]*4,{red:h,green:p,blue:x,alpha:R}=new Ee(f.slice(l,l+4));c[l]=h,c[l+1]=p,c[l+2]=x,c[l+3]=R}return t.putImageData(d,0,0),{updatedSelection:{...e.selection,config:{...n.config,cache:f}}}},st=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,Uo=({layer:e})=>({updatedSelection:e.selection}),cr={[Q.AsSound]:"Data-as-Sound",[Q.FractalPixelSort]:"Fractal Pixel Sort",[Q.Brightness]:"Brightness",[Q.Grayscale]:"Grayscale",[Q.RGBShift]:"RGB Shift",[Q.None]:"No Filter",[Q.PixelSort]:"Pixel Sort",[Q.Slice]:"Slice",[Q.OffsetPixelSort]:"Offset Pixel Sort"},To={[Q.AsSound]:yo,[Q.FractalPixelSort]:bo,[Q.Brightness]:xo,[Q.Grayscale]:Io,[Q.RGBShift]:Ao,[Q.None]:Uo,[Q.PixelSort]:Co,[Q.Slice]:Lo,[Q.OffsetPixelSort]:Po};var q=(e=>(e[e.SetOriginalAreaData=0]="SetOriginalAreaData",e[e.CreateNewLayer=1]="CreateNewLayer",e[e.SetPointsToLayer=2]="SetPointsToLayer",e[e.SelectLayer=3]="SelectLayer",e[e.GetSelectedLayerPoint=4]="GetSelectedLayerPoint",e[e.ClearLayers=5]="ClearLayers",e[e.DoLayerAction=6]="DoLayerAction",e[e.UndoLayer=7]="UndoLayer",e[e.RedoLayer=8]="RedoLayer",e[e.UpdateLayer=9]="UpdateLayer",e[e.UpdateLayerSelection=10]="UpdateLayerSelection",e[e.DeleteLayer=11]="DeleteLayer",e[e.MoveLayer=12]="MoveLayer",e[e.ResetImageCanvas=13]="ResetImageCanvas",e[e.GenerateResult=14]="GenerateResult",e[e.UpdateState=15]="UpdateState",e))(q||{});function At(e,t){return t>=0&&t<e}const Gn=e=>({[Q.None]:{_empty:!0},[Q.AsSound]:{blend:.5,cache:new Uint8ClampedArray},[Q.FractalPixelSort]:{intensity:6,cache:new Uint8ClampedArray},[Q.Brightness]:{intensity:1},[Q.RGBShift]:{intensity:5,effect:"Vibrance"},[Q.Grayscale]:{intensity:1},[Q.PixelSort]:{cache:new Uint8ClampedArray,intensity:1,direction:"Vertical"},[Q.Slice]:{intensity:-100},[Q.OffsetPixelSort]:{intensity:1,cache:new Uint8ClampedArray}})[e],js=(e,t)=>{switch(t.type){case 1:{const i={points:[],start:{x:0,y:0},filter:Q.None,config:Gn(Q.None),selectionArea:new Uint32Array},o={selection:i,ctx:null,color:`# ${(Math.random()*16777215<<0).toString(16).padStart(6,"0")}`,commands:new co(i)},n=[...e.layers,o],r=n.length-1;return{...e,layers:n,selectedLayerIdx:r,currentLayer:n[r]}}case 2:{const i=e.selectedLayerIdx;if(!At(e.layers.length,i))return e;const o=e.layers.slice(),n=o[i],a={...n.selection,start:t.payload.start,points:t.payload.points},s={...n,selection:a,commands:n.commands.set(a)};return o[i]=s,{...e,layers:o}}case 3:{const i=t.payload;if(!At(e.layers.length,i))return{...e};for(let o=0;o<e.layers.length;o++){const n=e.layers[o].ctx;if(!n)continue;const r=Number(n.canvas.id.replace("drawing-canvas-",""));i===r?(n.canvas.classList.add("active"),n.canvas.style.pointerEvents="auto"):(n.clearRect(0,0,n.canvas.width,n.canvas.height),n.canvas.classList.remove("active"),n.canvas.style.pointerEvents="none")}return{...e,selectedLayerIdx:i,currentLayer:e.layers[i]}}case 9:{if(!At(e.layers.length,e.selectedLayerIdx))return e;const i=e.layers.map(n=>({...n}));i[t.payload.layerIdx]={...i[t.payload.layerIdx],...t.payload.pselection};const o=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:i,currentLayer:o?i[t.payload.layerIdx]:e.currentLayer}}case 10:{const{layerIdx:i,pselection:o,withUpdateInitialPresent:n}=t.payload;if(!At(e.layers.length,e.selectedLayerIdx))return e;const r=e.layers.slice(),a=r[i],s=a.selection,f=o.filter??s.filter,d=o.filter&&o.filter!==s.filter?Gn(f):{...s.config,...o.config||{}},c={...s,...o,filter:f,config:d},u={...a,selection:c};n?u.commands.present={...a.selection}:u.commands=a.commands.set(c),r[i]=u;const l=i===e.selectedLayerIdx;return{...e,layers:r,currentLayer:l?u:e.currentLayer}}case 5:return{...ar,imgCtx:null,originalImageData:null};case 6:{const i=e.layers.map(n=>({...n})),o=i[e.selectedLayerIdx];if(t.payload==="undo"){if(!o.commands.canUndo())return e;o.commands=o.commands.undo()}else{if(!o.commands.canRedo())return console.log("cant redo"),e;o.commands=o.commands.redo()}return o.selection=o.commands.present,{...e,layers:i,currentLayer:o}}case 11:{let i=t.payload;const o=e.layers[i];o?.ctx?.canvas&&o.ctx.canvas.remove();const n=[...e.layers].filter((r,a)=>a!==i);for(let r=0;r<n.length;r++){const a=n[r].ctx;a?.canvas&&(a.canvas.id=`drawing-canvas-${r}`)}return n.length===0?i=-1:i>=n.length&&(i=n.length-1),{...e,layers:n,selectedLayerIdx:i,currentLayer:n[i]}}case 12:{const i=t.payload.layerIdx,o=t.payload.direction==="up"?i-1:i+1;if(o<0||o>=e.layers.length)return e;const n=e.layers.map(d=>({...d})),[r]=n.splice(i,1);n.splice(o,0,r);const a=n[o].ctx,s=n[i].ctx;n[o]={...n[o],ctx:s},n[i]={...n[i],ctx:a};const f=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:n,selectedLayerIdx:f?o:e.selectedLayerIdx,currentLayer:f?n[o]:e.currentLayer}}case 14:{const i=e.imgCtx;if(!i)return e;let o=e.layers,n=!1,r=!1;t.payload?.refreshIdx===-1&&(r=!0);for(let a=0;a<e.layers.length;a++){const s=e.layers[a],{filter:f,selectionArea:d}=s.selection;if(!d)continue;const c=To[f];if(!c)continue;t.payload?.refreshIdx===a&&(r=!0);const{updatedSelection:u}=c({imageCanvas:i,layer:{...s,selection:{...s.selection}},selectionArea:d,refresh:r??t.payload?.refreshIdx===a});u!==s.selection&&(n||(o=e.layers.slice(),n=!0),o[a]={...s,selection:u})}return n?{...e,layers:o}:e}case 13:{const i=e.imgCtx;if(!i)return e;if(!e.originalImageData)throw new Error("Original image data is not defined");return i.putImageData(e.originalImageData,0,0),e}case 15:{const{key:i,value:o}=t.payload;return{...e,[i]:o}}default:return e}},ko=ee.createContext({loading:!1,start:()=>{},stop:()=>{}}),ot=()=>ee.useContext(ko),Fe=(e,t,i)=>{const o=e.getBoundingClientRect(),n=e.width/o.width,r=e.height/o.height;return{x:Math.round((t-o.left)*n),y:Math.round((i-o.top)*r)}},Hn=e=>{const{drawing:{width:t,height:i,minX:o,minY:n},mouse:r}=e;return r.x>=o&&r.x<=o+t&&r.y>=n&&r.y<=n+i};class Oo{points=[];startPoint=null;mouseStartPos={x:0,y:0};selectionArea=null;isDrawing=!1;cwidth=0;cheight=0;begin(t){this.isDrawing=!0,this.startPoint=t,this.points=[t],this.selectionArea||(this.selectionArea=new Uint8Array(this.cwidth*this.cheight))}update(t){this.isDrawing&&this.points.push(t)}finish(){this.isDrawing&&(this.points.length<=1&&this.selectAllArea(),this.isDrawing=!1)}reset(){this.points=[],this.startPoint=null,this.selectionArea=null,this.isDrawing=!1}loadSelection(t,i){this.points=t,this.startPoint=i}selectAllArea(){this.points=[{x:0,y:0},{x:this.cwidth-1,y:0},{x:this.cwidth-1,y:this.cheight-1},{x:0,y:this.cheight-1}],this.startPoint=this.points[0]}fillSelectionArea(t){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(const i of t){const o=i.y*this.cwidth+i.x;this.selectionArea[o]=1}}getSelectArea(){if(!(this.points.length<=1)){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(let t=0;t<this.cwidth;t++)for(let i=0;i<this.cheight;i++)if(this.pointInPolygon({x:t,y:i},this.points)){const o=i*this.cwidth+t;this.selectionArea[o]=1}}}getSelectedAreaCoords(){if(!this.selectionArea)return null;const t=this.selectionArea;let i=0;for(let r=0;r<t.length;r++)t[r]===1&&i++;const o=new Uint32Array(i);let n=0;for(let r=0;r<t.length;r++)t[r]===1&&(o[n++]=r);return o}moveSelection(t,i){this.points=this.points.map(o=>({x:o.x+t,y:o.y+i,data:o.data})),this.startPoint={x:this.startPoint.x+t,y:this.startPoint.y+i}}getPointsBoundingBox(){let t=1/0,i=1/0,o=-1/0,n=-1/0;for(const{x:s,y:f}of this.points)s<t&&(t=s),f<i&&(i=f),s>o&&(o=s),f>n&&(n=f);const r=o-t+1,a=n-i+1;return[r,a,t,i]}pointInPolygon(t,i){let o=!1,n=i.length-1;for(let r=0;r<i.length;r++){const a=i[r].x,s=i[r].y,f=i[n].x,d=i[n].y;s>t.y!=d>t.y&&t.x<(f-a)*(t.y-s)/(d-s)+a&&(o=!o),n=r}return o}renderSelection(t,i,o){if(!this.startPoint)return;t.clearRect(0,0,i.width,i.height),t.setLineDash([5,3]),t.strokeStyle=o;const n=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,a,s,f)=>`#${a}${a}${s}${s}${f}${f}`).substring(1).match(/.{2}/g)?.map(r=>parseInt(r,16))??[0,0,0];t.fillStyle=`rgb(${n[0]}, ${n[1]}, ${n[2]}, 0.3)`,t.lineWidth=2,t.beginPath();for(let r=0;r<this.points.length;r++){const a=this.points[r];r===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)}t.lineTo(this.startPoint.x,this.startPoint.y),t.fill(),t.stroke(),t.closePath(),t.setLineDash([])}}function $s(e){const{start:t,stop:i}=ot(),{state:o,dispatch:n}=ge(),r=ee.useRef(null),a=ee.useRef(null),s=ee.useRef(new Oo),[f,d]=ee.useState([]),[c,u]=ee.useState(!1),l=ee.useCallback(h=>f.findIndex(p=>p.identifier===h),[f]);return ee.useEffect(()=>{if(o.imgBuf.byteLength===0||!r.current)return;const h=r.current,p=h?.getContext("2d",{willReadFrequently:!0});if(!p)return;const x=a.current;if(!x)return;x.querySelectorAll('[id^="drawing-canvas-"]').forEach(P=>{P.remove()}),t();const w=new Blob([o.imgBuf]),k=URL.createObjectURL(w),L=new Image;L.onload=()=>{h.width=L.naturalWidth,h.height=L.naturalHeight,p.drawImage(L,0,0),n({type:q.UpdateState,payload:{key:"imgCtx",value:p}}),new Uint8Array(L.naturalWidth*L.naturalHeight).fill(1),s.current.cwidth=L.naturalWidth,s.current.cheight=L.naturalHeight,n({type:q.UpdateState,payload:{key:"originalImageData",value:p.getImageData(0,0,p.canvas.width,p.canvas.height)}}),i()},L.onerror=()=>{i(),console.error("Failed to load image")},L.src=k},[o.imgBuf,n,t,i]),ee.useEffect(()=>{const h=a.current;if(!h)return;const p=h.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`);if(!p)return;const x=o.currentLayer?.ctx;if(!x){console.log("drawingCanvasCtx empty in register");return}const R=_=>{const S=Fe(p,_.clientX,_.clientY);s.current.reset(),s.current.begin(S),s.current.renderSelection(x,p,o.currentLayer.color)},w=_=>{const S=Fe(p,_.clientX,_.clientY);s.current.update(S),s.current.renderSelection(x,p,o.currentLayer.color)},k=()=>{s.current.finish(),x.clearRect(0,0,p.width,p.height),s.current.renderSelection(x,p,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:q.ResetImageCanvas}),s.current.getSelectArea();const{points:_,startPoint:S}=s.current;if(n({type:q.SetPointsToLayer,payload:{points:_,start:S}}),!r.current?.getContext("2d"))return;const O=s.current.getSelectedAreaCoords();n({type:q.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:O},withUpdateInitialPresent:!0}});const[,,v,y]=s.current.getPointsBoundingBox();s.current.mouseStartPos={x:v,y},n({type:q.GenerateResult}),i()})},L=_=>{_.preventDefault();const S=_.changedTouches;if(S.length>0){const C=Fe(p,S[0].clientX,S[0].clientY);s.current.reset(),s.current.begin(C),d([S[0]]),s.current.renderSelection(x,p,o.currentLayer.color)}},P=_=>{const S=_.changedTouches;for(let C=0;C<S.length;C++){const E=l(S[C].identifier);if(E>=0){const O=Fe(p,S[C].clientX,S[C].clientY);s.current.update(O),d(v=>{const y=[...v];return y.splice(E,1,S[C]),y})}}s.current.renderSelection(x,p,o.currentLayer.color)},j=_=>{_.preventDefault(),s.current.finish();const S=_.changedTouches;for(let C=0;C<S.length;C++){const E=l(S[C].identifier);E>=0&&d(O=>O.filter((v,y)=>y!==E))}s.current.renderSelection(x,p,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:q.ResetImageCanvas}),s.current.getSelectArea();const{points:C,startPoint:E}=s.current;if(n({type:q.SetPointsToLayer,payload:{points:C,start:E}}),!r.current?.getContext("2d"))return;const y=s.current.getSelectedAreaCoords();n({type:q.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:y},withUpdateInitialPresent:!0}});const[,,F,M]=s.current.getPointsBoundingBox();s.current.mouseStartPos={x:F,y:M},n({type:q.GenerateResult}),i()})},b=_=>{_.preventDefault();const S=_.changedTouches;for(let C=0;C<S.length;C++){const E=l(S[C].identifier);E>=0&&d(O=>O.filter((v,y)=>y!==E))}s.current.finish()},U=()=>{s.current.isDrawing&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",g))},m=_=>{if(!s.current.isDrawing)return;let S=Fe(p,_.clientX,_.clientY);const C=p.width,E=p.height;S={x:Math.max(0,Math.min(C,S.x)),y:Math.max(0,Math.min(E,S.y))},s.current.points.push(S),s.current.renderSelection(x,p,o.currentLayer.color)},g=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),s.current.finish(),x.clearRect(0,0,p.width,p.height),s.current.renderSelection(x,p,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:q.ResetImageCanvas}),s.current.getSelectArea();const{points:_,startPoint:S}=s.current;n({type:q.SetPointsToLayer,payload:{points:_,start:S}}),r.current?.getContext("2d")&&(n({type:q.GenerateResult}),i())})},A=new AbortController;return o.mode==="edit"&&(p.addEventListener("mousedown",R,A),p.addEventListener("mousemove",w,A),p.addEventListener("mouseup",k,A),p.addEventListener("touchstart",L,A),p.addEventListener("touchmove",P,A),p.addEventListener("touchend",j,A),p.addEventListener("touchcancel",b,A),p.addEventListener("mouseout",U,A)),()=>{A.abort()}},[o.selectedLayerIdx,o.currentLayer,o.mode,n,l,t,i]),ee.useEffect(()=>{const h=a.current;if(!h)return;const p=h.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`);if(!o.currentLayer?.selection)return;const{points:x,start:R}=o.currentLayer.selection;if(s.current.reset(),s.current.loadSelection(x,R),p&&o.currentLayer?.ctx&&(x.length===0&&o.currentLayer.ctx?.clearRect(0,0,p?.width,p?.height),s.current.renderSelection(o.currentLayer.ctx,p,o.currentLayer.color)),o.selectedLayerIdx>=0&&!o.currentLayer?.ctx){const w=a.current;if(!w)return;const k=r.current,L=document.createElement("canvas");k&&(L.width=k.width,L.height=k.height),L.id=`drawing-canvas-${o.selectedLayerIdx}`,Object.assign(L.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),w.appendChild(L);const P=L.getContext("2d");n({type:q.UpdateLayer,payload:{layerIdx:o.selectedLayerIdx,pselection:{ctx:P}}})}},[o.selectedLayerIdx,o.currentLayer,o.currentLayer?.commands.present,n]),ee.useEffect(()=>{const h=a.current;if(!h)return;const p=h.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`),x=o.currentLayer;if(x&&!(!p||!x.ctx)&&o.mode==="move"){const R=x.ctx;if(!R||!p.getContext("2d"))return;const k=g=>{g.preventDefault();const{x:A,y:_}=Fe(p,g.clientX,g.clientY),[S,C,E,O]=s.current.getPointsBoundingBox();Hn({drawing:{width:S,height:C,minX:E,minY:O},mouse:{x:A,y:_}})&&(u(!0),s.current.mouseStartPos={x:A,y:_})},L=g=>{c&&(g.preventDefault(),u(!1),t(),requestIdleCallback(()=>{n({type:q.ResetImageCanvas}),s.current.getSelectArea();const{points:A,startPoint:_}=s.current;if(n({type:q.SetPointsToLayer,payload:{points:A,start:_}}),!r.current?.getContext("2d",{willReadFrequently:!0}))return;const E=s.current.getSelectedAreaCoords();n({type:q.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:E},withUpdateInitialPresent:!0}}),n({type:q.GenerateResult}),i()}))},P=g=>{const{x:A,y:_}=Fe(p,g.clientX,g.clientY),S=s.current.mouseStartPos;if(!S||!c)return;const C=A-S.x,E=_-S.y;s.current.moveSelection(C,E),s.current.mouseStartPos={x:A,y:_},s.current.renderSelection(R,p,x.color)},j=g=>{g.preventDefault();const A=g.changedTouches;if(A.length>0){const{x:_,y:S}=Fe(p,A[0].clientX,A[0].clientY),[C,E,O,v]=s.current.getPointsBoundingBox();if(!Hn({drawing:{width:C,height:E,minX:O,minY:v},mouse:{x:_,y:S}}))return;u(!0),s.current.mouseStartPos={x:_,y:S}}},b=g=>{g.preventDefault();const A=g.changedTouches;if(A.length===0)return;const{x:_,y:S}=Fe(p,A[0].clientX,A[0].clientY),C=s.current.mouseStartPos;if(!C||!c)return;const E=_-C.x,O=S-C.y;s.current.moveSelection(E,O),s.current.mouseStartPos={x:_,y:S},s.current.renderSelection(R,p,o.currentLayer.color)},U=g=>{c&&(g.preventDefault(),u(!1),t(),requestIdleCallback(()=>{n({type:q.ResetImageCanvas}),s.current.getSelectArea();const{points:A,startPoint:_}=s.current;if(n({type:q.SetPointsToLayer,payload:{points:A,start:_}}),!r.current?.getContext("2d",{willReadFrequently:!0}))return;const E=s.current.getSelectedAreaCoords();n({type:q.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:E},withUpdateInitialPresent:!0}}),n({type:q.GenerateResult}),i()}))},m=new AbortController;return p.addEventListener("mousedown",k,m),p.addEventListener("mouseup",L,m),p.addEventListener("mousemove",P,m),p.addEventListener("touchstart",j,m),p.addEventListener("touchmove",b,m),p.addEventListener("touchend",U,m),()=>{m.abort()}}},[o.mode,o.currentLayer,o.selectedLayerIdx,c,n,t,i]),ee.useEffect(()=>{n({type:q.SelectLayer,payload:o.selectedLayerIdx})},[o.selectedLayerIdx,n]),ee.useEffect(()=>{const h=a.current;if(!h)return;const p=h.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`),x=o.currentLayer;x&&(!p||!x.ctx||(o.hideSelectionOverlay?x.ctx.clearRect(0,0,p.width,p.height):s.current.renderSelection(x.ctx,p,o.currentLayer.color)))},[o.hideSelectionOverlay,o.currentLayer,o.selectedLayerIdx]),G.jsx("div",{ref:a,style:{position:"relative",display:"inline-block",lineHeight:0},...e,children:G.jsx("canvas",{id:"imageCanvas",ref:r,style:{display:"block",maxWidth:"100%",height:"auto"}})})}var de=function(){return de=Object.assign||function(t){for(var i,o=1,n=arguments.length;o<n;o++){i=arguments[o];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},de.apply(this,arguments)};function bt(e,t,i){if(i||arguments.length===2)for(var o=0,n=t.length,r;o<n;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var ie="-ms-",xt="-moz-",J="-webkit-",lr="comm",Ht="rule",_n="decl",Mo="@import",ur="@keyframes",Do="@layer",fr=Math.abs,In=String.fromCharCode,hn=Object.assign;function jo(e,t){return fe(e,0)^45?(((t<<2^fe(e,0))<<2^fe(e,1))<<2^fe(e,2))<<2^fe(e,3):0}function dr(e){return e.trim()}function Ne(e,t){return(e=t.exec(e))?e[0]:e}function X(e,t,i){return e.replace(t,i)}function Rt(e,t,i){return e.indexOf(t,i)}function fe(e,t){return e.charCodeAt(t)|0}function ut(e,t,i){return e.slice(t,i)}function Me(e){return e.length}function hr(e){return e.length}function vt(e,t){return t.push(e),e}function $o(e,t){return e.map(t).join("")}function zn(e,t){return e.filter(function(i){return!Ne(i,t)})}var zt=1,ft=1,pr=0,Re=0,ue=0,pt="";function Yt(e,t,i,o,n,r,a,s){return{value:e,root:t,parent:i,type:o,props:n,children:r,line:zt,column:ft,length:a,return:"",siblings:s}}function ze(e,t){return hn(Yt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function at(e){for(;e.root;)e=ze(e.root,{children:[e]});vt(e,e.siblings)}function Fo(){return ue}function No(){return ue=Re>0?fe(pt,--Re):0,ft--,ue===10&&(ft=1,zt--),ue}function Te(){return ue=Re<pr?fe(pt,Re++):0,ft++,ue===10&&(ft=1,zt++),ue}function et(){return fe(pt,Re)}function Lt(){return Re}function qt(e,t){return ut(pt,e,t)}function pn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bo(e){return zt=ft=1,pr=Me(pt=e),Re=0,[]}function Go(e){return pt="",e}function an(e){return dr(qt(Re-1,gn(e===91?e+2:e===40?e+1:e)))}function Ho(e){for(;(ue=et())&&ue<33;)Te();return pn(e)>2||pn(ue)>3?"":" "}function zo(e,t){for(;--t&&Te()&&!(ue<48||ue>102||ue>57&&ue<65||ue>70&&ue<97););return qt(e,Lt()+(t<6&&et()==32&&Te()==32))}function gn(e){for(;Te();)switch(ue){case e:return Re;case 34:case 39:e!==34&&e!==39&&gn(ue);break;case 40:e===41&&gn(e);break;case 92:Te();break}return Re}function Yo(e,t){for(;Te()&&e+ue!==57;)if(e+ue===84&&et()===47)break;return"/*"+qt(t,Re-1)+"*"+In(e===47?e:Te())}function qo(e){for(;!pn(et());)Te();return qt(e,Re)}function Wo(e){return Go(Pt("",null,null,null,[""],e=Bo(e),0,[0],e))}function Pt(e,t,i,o,n,r,a,s,f){for(var d=0,c=0,u=a,l=0,h=0,p=0,x=1,R=1,w=1,k=0,L="",P=n,j=r,b=o,U=L;R;)switch(p=k,k=Te()){case 40:if(p!=108&&fe(U,u-1)==58){Rt(U+=X(an(k),"&","&\f"),"&\f",fr(d?s[d-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:U+=an(k);break;case 9:case 10:case 13:case 32:U+=Ho(p);break;case 92:U+=zo(Lt()-1,7);continue;case 47:switch(et()){case 42:case 47:vt(Vo(Yo(Te(),Lt()),t,i,f),f);break;default:U+="/"}break;case 123*x:s[d++]=Me(U)*w;case 125*x:case 59:case 0:switch(k){case 0:case 125:R=0;case 59+c:w==-1&&(U=X(U,/\f/g,"")),h>0&&Me(U)-u&&vt(h>32?qn(U+";",o,i,u-1,f):qn(X(U," ","")+";",o,i,u-2,f),f);break;case 59:U+=";";default:if(vt(b=Yn(U,t,i,d,c,n,s,L,P=[],j=[],u,r),r),k===123)if(c===0)Pt(U,t,b,b,P,r,u,s,j);else switch(l===99&&fe(U,3)===110?100:l){case 100:case 108:case 109:case 115:Pt(e,b,b,o&&vt(Yn(e,b,b,0,0,n,s,L,n,P=[],u,j),j),n,j,u,s,o?P:j);break;default:Pt(U,b,b,b,[""],j,0,s,j)}}d=c=h=0,x=w=1,L=U="",u=a;break;case 58:u=1+Me(U),h=p;default:if(x<1){if(k==123)--x;else if(k==125&&x++==0&&No()==125)continue}switch(U+=In(k),k*x){case 38:w=c>0?1:(U+="\f",-1);break;case 44:s[d++]=(Me(U)-1)*w,w=1;break;case 64:et()===45&&(U+=an(Te())),l=et(),c=u=Me(L=U+=qo(Lt())),k++;break;case 45:p===45&&Me(U)==2&&(x=0)}}return r}function Yn(e,t,i,o,n,r,a,s,f,d,c,u){for(var l=n-1,h=n===0?r:[""],p=hr(h),x=0,R=0,w=0;x<o;++x)for(var k=0,L=ut(e,l+1,l=fr(R=a[x])),P=e;k<p;++k)(P=dr(R>0?h[k]+" "+L:X(L,/&\f/g,h[k])))&&(f[w++]=P);return Yt(e,t,i,n===0?Ht:s,f,d,c,u)}function Vo(e,t,i,o){return Yt(e,t,i,lr,In(Fo()),ut(e,2,-2),0,o)}function qn(e,t,i,o,n){return Yt(e,t,i,_n,ut(e,0,o),ut(e,o+1,-1),o,n)}function gr(e,t,i){switch(jo(e,t)){case 5103:return J+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return J+e+e;case 4789:return xt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return J+e+xt+e+ie+e+e;case 5936:switch(fe(e,t+11)){case 114:return J+e+ie+X(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return J+e+ie+X(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return J+e+ie+X(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return J+e+ie+e+e;case 6165:return J+e+ie+"flex-"+e+e;case 5187:return J+e+X(e,/(\w+).+(:[^]+)/,J+"box-$1$2"+ie+"flex-$1$2")+e;case 5443:return J+e+ie+"flex-item-"+X(e,/flex-|-self/g,"")+(Ne(e,/flex-|baseline/)?"":ie+"grid-row-"+X(e,/flex-|-self/g,""))+e;case 4675:return J+e+ie+"flex-line-pack"+X(e,/align-content|flex-|-self/g,"")+e;case 5548:return J+e+ie+X(e,"shrink","negative")+e;case 5292:return J+e+ie+X(e,"basis","preferred-size")+e;case 6060:return J+"box-"+X(e,"-grow","")+J+e+ie+X(e,"grow","positive")+e;case 4554:return J+X(e,/([^-])(transform)/g,"$1"+J+"$2")+e;case 6187:return X(X(X(e,/(zoom-|grab)/,J+"$1"),/(image-set)/,J+"$1"),e,"")+e;case 5495:case 3959:return X(e,/(image-set\([^]*)/,J+"$1$`$1");case 4968:return X(X(e,/(.+:)(flex-)?(.*)/,J+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+J+e+e;case 4200:if(!Ne(e,/flex-|baseline/))return ie+"grid-column-align"+ut(e,t)+e;break;case 2592:case 3360:return ie+X(e,"template-","")+e;case 4384:case 3616:return i&&i.some(function(o,n){return t=n,Ne(o.props,/grid-\w+-end/)})?~Rt(e+(i=i[t].value),"span",0)?e:ie+X(e,"-start","")+e+ie+"grid-row-span:"+(~Rt(i,"span",0)?Ne(i,/\d+/):+Ne(i,/\d+/)-+Ne(e,/\d+/))+";":ie+X(e,"-start","")+e;case 4896:case 4128:return i&&i.some(function(o){return Ne(o.props,/grid-\w+-start/)})?e:ie+X(X(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return X(e,/(.+)-inline(.+)/,J+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Me(e)-1-t>6)switch(fe(e,t+1)){case 109:if(fe(e,t+4)!==45)break;case 102:return X(e,/(.+:)(.+)-([^]+)/,"$1"+J+"$2-$3$1"+xt+(fe(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Rt(e,"stretch",0)?gr(X(e,"stretch","fill-available"),t,i)+e:e}break;case 5152:case 5920:return X(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(o,n,r,a,s,f,d){return ie+n+":"+r+d+(a?ie+n+"-span:"+(s?f:+f-+r)+d:"")+e});case 4949:if(fe(e,t+6)===121)return X(e,":",":"+J)+e;break;case 6444:switch(fe(e,fe(e,14)===45?18:11)){case 120:return X(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+J+(fe(e,14)===45?"inline-":"")+"box$3$1"+J+"$2$3$1"+ie+"$2box$3")+e;case 100:return X(e,":",":"+ie)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return X(e,"scroll-","scroll-snap-")+e}return e}function Ot(e,t){for(var i="",o=0;o<e.length;o++)i+=t(e[o],o,e,t)||"";return i}function Xo(e,t,i,o){switch(e.type){case Do:if(e.children.length)break;case Mo:case _n:return e.return=e.return||e.value;case lr:return"";case ur:return e.return=e.value+"{"+Ot(e.children,o)+"}";case Ht:if(!Me(e.value=e.props.join(",")))return""}return Me(i=Ot(e.children,o))?e.return=e.value+"{"+i+"}":""}function Qo(e){var t=hr(e);return function(i,o,n,r){for(var a="",s=0;s<t;s++)a+=e[s](i,o,n,r)||"";return a}}function Ko(e){return function(t){t.root||(t=t.return)&&e(t)}}function Zo(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case _n:e.return=gr(e.value,e.length,i);return;case ur:return Ot([ze(e,{value:X(e.value,"@","@"+J)})],o);case Ht:if(e.length)return $o(i=e.props,function(n){switch(Ne(n,o=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":at(ze(e,{props:[X(n,/:(read-\w+)/,":"+xt+"$1")]})),at(ze(e,{props:[n]})),hn(e,{props:zn(i,o)});break;case"::placeholder":at(ze(e,{props:[X(n,/:(plac\w+)/,":"+J+"input-$1")]})),at(ze(e,{props:[X(n,/:(plac\w+)/,":"+xt+"$1")]})),at(ze(e,{props:[X(n,/:(plac\w+)/,ie+"input-$1")]})),at(ze(e,{props:[n]})),hn(e,{props:zn(i,o)});break}return""})}}var Jo={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ae={},dt=typeof process<"u"&&Ae!==void 0&&(Ae.REACT_APP_SC_ATTR||Ae.SC_ATTR)||"data-styled",yr="active",mr="data-styled-version",Wt="6.1.19",An=`/*!sc*/
`,Mt=typeof window<"u"&&typeof document<"u",ei=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ae!==void 0&&Ae.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ae.REACT_APP_SC_DISABLE_SPEEDY!==""?Ae.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ae.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ae!==void 0&&Ae.SC_DISABLE_SPEEDY!==void 0&&Ae.SC_DISABLE_SPEEDY!==""&&Ae.SC_DISABLE_SPEEDY!=="false"&&Ae.SC_DISABLE_SPEEDY),ti={},Vt=Object.freeze([]),ht=Object.freeze({});function vr(e,t,i){return i===void 0&&(i=ht),e.theme!==i.theme&&e.theme||t||i.theme}var xr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ni=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ri=/(^-|-$)/g;function Wn(e){return e.replace(ni,"-").replace(ri,"")}var oi=/(a)(d)/gi,Ct=52,Vn=function(e){return String.fromCharCode(e+(e>25?39:97))};function yn(e){var t,i="";for(t=Math.abs(e);t>Ct;t=t/Ct|0)i=Vn(t%Ct)+i;return(Vn(t%Ct)+i).replace(oi,"$1-$2")}var cn,br=5381,ct=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},wr=function(e){return ct(br,e)};function Sr(e){return yn(wr(e)>>>0)}function ii(e){return e.displayName||e.name||"Component"}function ln(e){return typeof e=="string"&&!0}var _r=typeof Symbol=="function"&&Symbol.for,Ir=_r?Symbol.for("react.memo"):60115,si=_r?Symbol.for("react.forward_ref"):60112,ai={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ci={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ar={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},li=((cn={})[si]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cn[Ir]=Ar,cn);function Xn(e){return("type"in(t=e)&&t.type.$$typeof)===Ir?Ar:"$$typeof"in e?li[e.$$typeof]:ai;var t}var ui=Object.defineProperty,fi=Object.getOwnPropertyNames,Qn=Object.getOwnPropertySymbols,di=Object.getOwnPropertyDescriptor,hi=Object.getPrototypeOf,Kn=Object.prototype;function Cr(e,t,i){if(typeof t!="string"){if(Kn){var o=hi(t);o&&o!==Kn&&Cr(e,o,i)}var n=fi(t);Qn&&(n=n.concat(Qn(t)));for(var r=Xn(e),a=Xn(t),s=0;s<n.length;++s){var f=n[s];if(!(f in ci||i&&i[f]||a&&f in a||r&&f in r)){var d=di(t,f);try{ui(e,f,d)}catch{}}}}return e}function nt(e){return typeof e=="function"}function Cn(e){return typeof e=="object"&&"styledComponentId"in e}function Ze(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function mn(e,t){if(e.length===0)return"";for(var i=e[0],o=1;o<e.length;o++)i+=e[o];return i}function wt(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function vn(e,t,i){if(i===void 0&&(i=!1),!i&&!wt(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=vn(e[o],t[o]);else if(wt(t))for(var o in t)e[o]=vn(e[o],t[o]);return e}function En(e,t){Object.defineProperty(e,"toString",{value:t})}function rt(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var pi=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.prototype.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,n=o.length,r=n;t>=r;)if((r<<=1)<0)throw rt(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(o),this.length=r;for(var a=n;a<r;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(t+1),f=(a=0,i.length);a<f;a++)this.tag.insertRule(s,i[a])&&(this.groupSizes[t]++,s++)},e.prototype.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),n=o+i;this.groupSizes[t]=0;for(var r=o;r<n;r++)this.tag.deleteRule(o)}},e.prototype.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],n=this.indexOfGroup(t),r=n+o,a=n;a<r;a++)i+="".concat(this.tag.getRule(a)).concat(An);return i},e})(),Ut=new Map,Dt=new Map,Tt=1,Et=function(e){if(Ut.has(e))return Ut.get(e);for(;Dt.has(Tt);)Tt++;var t=Tt++;return Ut.set(e,t),Dt.set(t,e),t},gi=function(e,t){Tt=t+1,Ut.set(e,t),Dt.set(t,e)},yi="style[".concat(dt,"][").concat(mr,'="').concat(Wt,'"]'),mi=new RegExp("^".concat(dt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),vi=function(e,t,i){for(var o,n=i.split(","),r=0,a=n.length;r<a;r++)(o=n[r])&&e.registerName(t,o)},xi=function(e,t){for(var i,o=((i=t.textContent)!==null&&i!==void 0?i:"").split(An),n=[],r=0,a=o.length;r<a;r++){var s=o[r].trim();if(s){var f=s.match(mi);if(f){var d=0|parseInt(f[1],10),c=f[2];d!==0&&(gi(c,d),vi(e,c,f[3]),e.getTag().insertRules(d,n)),n.length=0}else n.push(s)}}},Zn=function(e){for(var t=document.querySelectorAll(yi),i=0,o=t.length;i<o;i++){var n=t[i];n&&n.getAttribute(dt)!==yr&&(xi(e,n),n.parentNode&&n.parentNode.removeChild(n))}};function bi(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Er=function(e){var t=document.head,i=e||t,o=document.createElement("style"),n=(function(s){var f=Array.from(s.querySelectorAll("style[".concat(dt,"]")));return f[f.length-1]})(i),r=n!==void 0?n.nextSibling:null;o.setAttribute(dt,yr),o.setAttribute(mr,Wt);var a=bi();return a&&o.setAttribute("nonce",a),i.insertBefore(o,r),o},wi=(function(){function e(t){this.element=Er(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,n=0,r=o.length;n<r;n++){var a=o[n];if(a.ownerNode===i)return a}throw rt(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var i=this.sheet.cssRules[t];return i&&i.cssText?i.cssText:""},e})(),Si=(function(){function e(t){this.element=Er(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i);return this.element.insertBefore(o,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),_i=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),Jn=Mt,Ii={isServer:!Mt,useCSSOMInjection:!ei},jt=(function(){function e(t,i,o){t===void 0&&(t=ht),i===void 0&&(i={});var n=this;this.options=de(de({},Ii),t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Mt&&Jn&&(Jn=!1,Zn(this)),En(this,function(){return(function(r){for(var a=r.getTag(),s=a.length,f="",d=function(u){var l=(function(w){return Dt.get(w)})(u);if(l===void 0)return"continue";var h=r.names.get(l),p=a.getGroup(u);if(h===void 0||!h.size||p.length===0)return"continue";var x="".concat(dt,".g").concat(u,'[id="').concat(l,'"]'),R="";h!==void 0&&h.forEach(function(w){w.length>0&&(R+="".concat(w,","))}),f+="".concat(p).concat(x,'{content:"').concat(R,'"}').concat(An)},c=0;c<s;c++)d(c);return f})(n)})}return e.registerId=function(t){return Et(t)},e.prototype.rehydrate=function(){!this.server&&Mt&&Zn(this)},e.prototype.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new e(de(de({},this.options),t),this.gs,i&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(i){var o=i.useCSSOMInjection,n=i.target;return i.isServer?new _i(n):o?new wi(n):new Si(n)})(this.options),new pi(t)));var t},e.prototype.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.prototype.registerName=function(t,i){if(Et(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.prototype.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Et(t),o)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Et(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),Ai=/&/g,Ci=/^\s*\/\/.*$/gm;function Rr(e,t){return e.map(function(i){return i.type==="rule"&&(i.value="".concat(t," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(t," ")),i.props=i.props.map(function(o){return"".concat(t," ").concat(o)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=Rr(i.children,t)),i})}function Ei(e){var t,i,o,n=ht,r=n.options,a=r===void 0?ht:r,s=n.plugins,f=s===void 0?Vt:s,d=function(l,h,p){return p.startsWith(i)&&p.endsWith(i)&&p.replaceAll(i,"").length>0?".".concat(t):l},c=f.slice();c.push(function(l){l.type===Ht&&l.value.includes("&")&&(l.props[0]=l.props[0].replace(Ai,i).replace(o,d))}),a.prefix&&c.push(Zo),c.push(Xo);var u=function(l,h,p,x){h===void 0&&(h=""),p===void 0&&(p=""),x===void 0&&(x="&"),t=x,i=h,o=new RegExp("\\".concat(i,"\\b"),"g");var R=l.replace(Ci,""),w=Wo(p||h?"".concat(p," ").concat(h," { ").concat(R," }"):R);a.namespace&&(w=Rr(w,a.namespace));var k=[];return Ot(w,Qo(c.concat(Ko(function(L){return k.push(L)})))),k};return u.hash=f.length?f.reduce(function(l,h){return h.name||rt(15),ct(l,h.name)},br).toString():"",u}var Ri=new jt,xn=Ei(),Lr=Ue.createContext({shouldForwardProp:void 0,styleSheet:Ri,stylis:xn});Lr.Consumer;Ue.createContext(void 0);function bn(){return ee.useContext(Lr)}var Li=(function(){function e(t,i){var o=this;this.inject=function(n,r){r===void 0&&(r=xn);var a=o.name+r.hash;n.hasNameForId(o.id,a)||n.insertRules(o.id,a,r(o.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=i,En(this,function(){throw rt(12,String(o.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=xn),this.name+t.hash},e})(),Pi=function(e){return e>="A"&&e<="Z"};function er(e){for(var t="",i=0;i<e.length;i++){var o=e[i];if(i===1&&o==="-"&&e[0]==="-")return e;Pi(o)?t+="-"+o.toLowerCase():t+=o}return t.startsWith("ms-")?"-"+t:t}var Pr=function(e){return e==null||e===!1||e===""},Ur=function(e){var t,i,o=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!Pr(r)&&(Array.isArray(r)&&r.isCss||nt(r)?o.push("".concat(er(n),":"),r,";"):wt(r)?o.push.apply(o,bt(bt(["".concat(n," {")],Ur(r),!1),["}"],!1)):o.push("".concat(er(n),": ").concat((t=n,(i=r)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||t in Jo||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return o};function Ye(e,t,i,o){if(Pr(e))return[];if(Cn(e))return[".".concat(e.styledComponentId)];if(nt(e)){if(!nt(r=e)||r.prototype&&r.prototype.isReactComponent||!t)return[e];var n=e(t);return Ye(n,t,i,o)}var r;return e instanceof Li?i?(e.inject(i,o),[e.getName(o)]):[e]:wt(e)?Ur(e):Array.isArray(e)?Array.prototype.concat.apply(Vt,e.map(function(a){return Ye(a,t,i,o)})):[e.toString()]}function Tr(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(nt(i)&&!Cn(i))return!1}return!0}var Ui=wr(Wt),Ti=(function(){function e(t,i,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&Tr(t),this.componentId=i,this.baseHash=ct(Ui,i),this.baseStyle=o,jt.registerId(i)}return e.prototype.generateAndInjectStyles=function(t,i,o){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,i,o):"";if(this.isStatic&&!o.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))n=Ze(n,this.staticRulesId);else{var r=mn(Ye(this.rules,t,i,o)),a=yn(ct(this.baseHash,r)>>>0);if(!i.hasNameForId(this.componentId,a)){var s=o(r,".".concat(a),void 0,this.componentId);i.insertRules(this.componentId,a,s)}n=Ze(n,a),this.staticRulesId=a}else{for(var f=ct(this.baseHash,o.hash),d="",c=0;c<this.rules.length;c++){var u=this.rules[c];if(typeof u=="string")d+=u;else if(u){var l=mn(Ye(u,t,i,o));f=ct(f,l+c),d+=l}}if(d){var h=yn(f>>>0);i.hasNameForId(this.componentId,h)||i.insertRules(this.componentId,h,o(d,".".concat(h),void 0,this.componentId)),n=Ze(n,h)}}return n},e})(),St=Ue.createContext(void 0);St.Consumer;function Fs(e){var t=Ue.useContext(St),i=ee.useMemo(function(){return(function(o,n){if(!o)throw rt(14);if(nt(o)){var r=o(n);return r}if(Array.isArray(o)||typeof o!="object")throw rt(8);return n?de(de({},n),o):o})(e.theme,t)},[e.theme,t]);return e.children?Ue.createElement(St.Provider,{value:i},e.children):null}var un={};function ki(e,t,i){var o=Cn(e),n=e,r=!ln(e),a=t.attrs,s=a===void 0?Vt:a,f=t.componentId,d=f===void 0?(function(P,j){var b=typeof P!="string"?"sc":Wn(P);un[b]=(un[b]||0)+1;var U="".concat(b,"-").concat(Sr(Wt+b+un[b]));return j?"".concat(j,"-").concat(U):U})(t.displayName,t.parentComponentId):f,c=t.displayName,u=c===void 0?(function(P){return ln(P)?"styled.".concat(P):"Styled(".concat(ii(P),")")})(e):c,l=t.displayName&&t.componentId?"".concat(Wn(t.displayName),"-").concat(t.componentId):t.componentId||d,h=o&&n.attrs?n.attrs.concat(s).filter(Boolean):s,p=t.shouldForwardProp;if(o&&n.shouldForwardProp){var x=n.shouldForwardProp;if(t.shouldForwardProp){var R=t.shouldForwardProp;p=function(P,j){return x(P,j)&&R(P,j)}}else p=x}var w=new Ti(i,l,o?n.componentStyle:void 0);function k(P,j){return(function(b,U,m){var g=b.attrs,A=b.componentStyle,_=b.defaultProps,S=b.foldedComponentIds,C=b.styledComponentId,E=b.target,O=Ue.useContext(St),v=bn(),y=b.shouldForwardProp||v.shouldForwardProp,F=vr(U,O,_)||ht,M=(function(D,H,z){for(var W,Y=de(de({},H),{className:void 0,theme:z}),Z=0;Z<D.length;Z+=1){var ne=nt(W=D[Z])?W(Y):W;for(var te in ne)Y[te]=te==="className"?Ze(Y[te],ne[te]):te==="style"?de(de({},Y[te]),ne[te]):ne[te]}return H.className&&(Y.className=Ze(Y.className,H.className)),Y})(g,U,F),N=M.as||E,I={};for(var T in M)M[T]===void 0||T[0]==="$"||T==="as"||T==="theme"&&M.theme===F||(T==="forwardedAs"?I.as=M.forwardedAs:y&&!y(T,N)||(I[T]=M[T]));var B=(function(D,H){var z=bn(),W=D.generateAndInjectStyles(H,z.styleSheet,z.stylis);return W})(A,M),$=Ze(S,C);return B&&($+=" "+B),M.className&&($+=" "+M.className),I[ln(N)&&!xr.has(N)?"class":"className"]=$,m&&(I.ref=m),ee.createElement(N,I)})(L,P,j)}k.displayName=u;var L=Ue.forwardRef(k);return L.attrs=h,L.componentStyle=w,L.displayName=u,L.shouldForwardProp=p,L.foldedComponentIds=o?Ze(n.foldedComponentIds,n.styledComponentId):"",L.styledComponentId=l,L.target=o?n.target:e,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=o?(function(j){for(var b=[],U=1;U<arguments.length;U++)b[U-1]=arguments[U];for(var m=0,g=b;m<g.length;m++)vn(j,g[m],!0);return j})({},n.defaultProps,P):P}}),En(L,function(){return".".concat(L.styledComponentId)}),r&&Cr(L,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function tr(e,t){for(var i=[e[0]],o=0,n=t.length;o<n;o+=1)i.push(t[o],e[o+1]);return i}var nr=function(e){return Object.assign(e,{isCss:!0})};function kr(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(nt(e)||wt(e))return nr(Ye(tr(Vt,bt([e],t,!0))));var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?Ye(o):nr(Ye(tr(o,t)))}function wn(e,t,i){if(i===void 0&&(i=ht),!t)throw rt(1,t);var o=function(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return e(t,i,kr.apply(void 0,bt([n],r,!1)))};return o.attrs=function(n){return wn(e,t,de(de({},i),{attrs:Array.prototype.concat(i.attrs,n).filter(Boolean)}))},o.withConfig=function(n){return wn(e,t,de(de({},i),n))},o}var Or=function(e){return wn(ki,e)},K=Or;xr.forEach(function(e){K[e]=Or(e)});var Oi=(function(){function e(t,i){this.rules=t,this.componentId=i,this.isStatic=Tr(t),jt.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,i,o,n){var r=n(mn(Ye(this.rules,i,o,n)),""),a=this.componentId+t;o.insertRules(a,a,r)},e.prototype.removeStyles=function(t,i){i.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,i,o,n){t>2&&jt.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,i,o,n)},e})();function Mi(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=kr.apply(void 0,bt([e],t,!1)),n="sc-global-".concat(Sr(JSON.stringify(o))),r=new Oi(o,n),a=function(f){var d=bn(),c=Ue.useContext(St),u=Ue.useRef(d.styleSheet.allocateGSInstance(n)).current;return d.styleSheet.server&&s(u,f,d.styleSheet,c,d.stylis),Ue.useLayoutEffect(function(){if(!d.styleSheet.server)return s(u,f,d.styleSheet,c,d.stylis),function(){return r.removeStyles(u,d.styleSheet)}},[u,f,d.styleSheet,c,d.stylis]),null};function s(f,d,c,u,l){if(r.isStatic)r.renderStyles(f,ti,c,l);else{var h=de(de({},d),{theme:vr(d,u,a.defaultProps)});r.renderStyles(f,h,c,l)}}return Ue.memo(a)}const Ns=K.h1`
  font-size: 36px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;K.h2`
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;K.h3`
  font-size: 24px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;const Di=K.h4`
  font-size: 20px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
  margin-bottom: 12px;
`,Mr=K.h5`
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,je=K.p`
  font-size: ${({size:e="medium"})=>{switch(e){case"small":return"14px";case"large":return"18px";default:return"16px"}}};
  font-weight: 400;
  line-height: 1.5;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,Bs=K(je).attrs({as:"p"})`
  font-size: 12px;
  margin-bottom: 16px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Xt=K(je).attrs({as:"label"})`
  font-weight: 500;
  display: block;
  margin-bottom: 4px;
  color: ${({theme:e})=>e.colors.white};
  background-color: ${({theme:e})=>e.colors.primary};
  width: fit-content;
  margin-bottom: 4px;
`;K(je).attrs({as:"span"})`
  font-size: 12px;
  opacity: 0.7;
`;const Gs=K.a`
  font-size: 12px;
  color: ${({theme:e})=>e.colors.primary};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,tt=K.button`
  text-align: center;
  padding: 8px;
  cursor: ${({variant:e})=>e==="disabled"?"not-allowed":"pointer"};
  border: none;
  font-size: 16px;

  width: ${({$full:e})=>e?"100%":"auto"};
  box-sizing: border-box;

  border: ${({theme:e,variant:t})=>{switch(t){case"outline":return`1px solid ${e.colors.primary}`}}};
  
  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.white;case"disabled":return e.colors.white;case"outline":return e.colors.primaryText;default:return e.colors.white}}};
  
  background-color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.warning;case"disabled":return e.colors.disabled;case"outline":return e.colors.white;default:return e.colors.primary}}};
  
  opacity: ${({variant:e})=>e==="disabled"?.6:1};
  pointer-events: ${({variant:e})=>e==="disabled"?"none":"auto"};
  
  @media (max-width: 768px) {
    margin-top: 0;
  }
  
  &:hover {
    opacity: ${({variant:e})=>e==="disabled"?.6:.9};
    background-color: ${({theme:e,variant:t})=>{switch(t){case"outline":return e.colors.primary}}};

  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"outline":return e.colors.white}}};
  }
`,Hs=Mi`
  @font-face {
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    box-sizing: border-box;
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
  }
  
  /* html reset */
  html,
  body,
  div,
  span,
  applet,
  object,
  iframe,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  a,
  abbr,
  acronym,
  address,
  big,
  cite,
  code,
  del,
  dfn,
  em,
  img,
  ins,
  kbd,
  q,
  s,
  samp,
  small,
  strike,
  strong,
  sub,
  sup,
  tt,
  var,
  b,
  u,
  i,
  center,
  dl,
  dt,
  dd,
  ol,
  ul,
  li,
  fieldset,
  form,
  label,
  legend,
  table,
  caption,
  tbody,
  tfoot,
  thead,
  tr,
  th,
  td,
  article,
  aside,
  canvas,
  details,
  embed,
  figure,
  figcaption,
  footer,
  header,
  hgroup,
  menu,
  nav,
  output,
  ruby,
  section,
  summary,
  time,
  mark,
  audio,
  video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    vertical-align: baseline;
  }
  
  /* HTML5 display-role reset for older browsers */
  article,
  aside,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  menu,
  nav,
  section {
    display: block;
  }
  
  body {
    line-height: 1;
    background-repeat: repeat;
    background-image: url("./grid_patterns.png");
  }
  
  ol,
  ul {
    list-style: none;
  }
  
  blockquote,
  q {
    quotes: none;
  }
  
  blockquote:before,
  blockquote:after,
  q:before,
  q:after {
    content: "";
    content: none;
  }
  
  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  button {
    all: unset;
  }

  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  select::-ms-expand {
    display: none;
  }
`,zs=K.div`
  margin-top: auto;
`,$t=K.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  align-items: center;
`,Dr=K.div`
  display: flex;
  flex-direction: ${({direction:e})=>e==="col"?"column":"row"};
  gap: 8px;
`;function Ys(){const e=he.c(31),{loading:t,start:i,stop:o}=ot(),{state:n,dispatch:r}=ge(),{selectedLayerIdx:a,imgCtx:s,layers:f}=n;let d;e[0]!==r||e[1]!==s||e[2]!==t?(d=()=>{!t&&s&&r({type:q.CreateNewLayer})},e[0]=r,e[1]=s,e[2]=t,e[3]=d):d=e[3];const c=d;let u;e[4]!==r?(u=m=>{r({type:q.SelectLayer,payload:m})},e[4]=r,e[5]=u):u=e[5];const l=u;let h;e[6]!==r||e[7]!==i||e[8]!==o?(h=(m,g)=>{i(),r({type:q.MoveLayer,payload:{direction:m,layerIdx:g}}),r({type:q.ResetImageCanvas}),r({type:q.GenerateResult}),o()},e[6]=r,e[7]=i,e[8]=o,e[9]=h):h=e[9];const p=h;let x;e[10]!==r?(x=()=>{r({type:q.ResetImageCanvas}),r({type:q.GenerateResult,payload:{refreshIdx:0}})},e[10]=r,e[11]=x):x=e[11];const R=x;let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=G.jsx(Xt,{children:"Layers"}),e[12]=w):w=e[12];let k;e[13]!==f.length||e[14]!==R?(k=f.length>0&&G.jsx(je,{onClick:R,variant:"secondary",style:{cursor:"pointer"},children:"Refresh"}),e[13]=f.length,e[14]=R,e[15]=k):k=e[15];let L;e[16]!==k?(L=G.jsxs($t,{children:[w,k]}),e[16]=k,e[17]=L):L=e[17];let P;e[18]!==f||e[19]!==p||e[20]!==l||e[21]!==a?(P=f.length>0?f.map((m,g)=>G.jsxs(Fi,{id:`${g}`,children:[G.jsxs(je,{variant:"secondary",onClick:()=>l(g),style:{cursor:"pointer"},children:[G.jsx("span",{children:a===g?"<*> ":"< > "}),cr[m.selection.filter]]}),G.jsxs(Ni,{children:[G.jsx(rr,{onClick:()=>p("up",g),children:""}),G.jsx(rr,{onClick:()=>p("down",g),children:""})]})]},`layers-${m.color}`)):G.jsx(Bi,{children:"<empty>"}),e[18]=f,e[19]=p,e[20]=l,e[21]=a,e[22]=P):P=e[22];let j;e[23]!==P?(j=G.jsx($i,{children:P}),e[23]=P,e[24]=j):j=e[24];let b;e[25]!==c?(b=G.jsx(tt,{variant:"outline",type:"button",$full:!0,onClick:c,children:"+ Add new layer"}),e[25]=c,e[26]=b):b=e[26];let U;return e[27]!==b||e[28]!==L||e[29]!==j?(U=G.jsxs(ji,{children:[L,j,b]}),e[27]=b,e[28]=L,e[29]=j,e[30]=U):U=e[30],U}const ji=K.div`
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 1280px) {
    flex: none;
    min-height: fit-content;
    overflow-y: hidden;
  }
`,$i=K.ul`
  margin-bottom: 8px;
  overflow-y: auto;
  flex: 1; 
  min-height: 0;

  @media (max-width: 1280px) {
    flex: none;
    min-height: auto;
  }
`,Fi=K.li`
  display: flex;
  justify-content: space-between;
  margin-left: 12px;
`,Ni=K.div`
  display: flex;
  align-items: center;
  justify-items: center;
  gap: 4px;
`,rr=K.span`
  cursor: pointer;
`,Bi=K.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
`,jr=K.select`
    padding: 8px;
    border: ${({theme:e})=>`solid 1px ${e.colors.primary}`};
    width: ${({$full:e})=>e?"100%":"auto"};
    background-color: white;
`,Gi={min:0,max:2},Hi={min:0,max:1},zi={min:0,max:1},Yi={min:2,max:12},qi={min:1,max:100},Wi=["Vibrance","Red","Green","Blue"],Vi=["Vertical","Horizontal"],Xi={min:1,max:100},Qi={min:-100,max:0},fn={min:1,max:20,step:1};var $r=oo();const Rn=ee.forwardRef((e,t)=>{const i=he.c(32);let o,n,r,a,s,f;if(i[0]!==e){const{id:P,label:j,min:b,max:U,refresh:m,defaultValue:g,...A}=e;n=P,r=j,s=b,a=U,o=g,f=A,i[0]=e,i[1]=o,i[2]=n,i[3]=r,i[4]=a,i[5]=s,i[6]=f}else o=i[1],n=i[2],r=i[3],a=i[4],s=i[5],f=i[6];const{loading:d}=ot(),[c,u]=ee.useState(o??f.value??s??0);let l,h;i[7]!==f.value?(l=()=>{f.value!==void 0&&u(f.value)},h=[f.value],i[7]=f.value,i[8]=l,i[9]=h):(l=i[8],h=i[9]),ee.useEffect(l,h);let p;i[10]!==n||i[11]!==r?(p=G.jsx(Xt,{htmlFor:n,children:r}),i[10]=n,i[11]=r,i[12]=p):p=i[12];let x;i[13]!==c?(x=G.jsx(Ji,{children:c}),i[13]=c,i[14]=x):x=i[14];let R;i[15]!==p||i[16]!==x?(R=G.jsxs(Ki,{children:[p,x]}),i[15]=p,i[16]=x,i[17]=R):R=i[17];let w;i[18]!==f?(w=P=>{u(parseFloat(P.target.value)),f.onChange?.(P)},i[18]=f,i[19]=w):w=i[19];let k;i[20]!==o||i[21]!==n||i[22]!==d||i[23]!==a||i[24]!==s||i[25]!==t||i[26]!==f||i[27]!==w?(k=G.jsx(es,{onChange:w,disabled:d,ref:t,id:n,type:"range",min:s,max:a,defaultValue:o,...f}),i[20]=o,i[21]=n,i[22]=d,i[23]=a,i[24]=s,i[25]=t,i[26]=f,i[27]=w,i[28]=k):k=i[28];let L;return i[29]!==R||i[30]!==k?(L=G.jsxs(Zi,{children:[R,k]}),i[29]=R,i[30]=k,i[31]=L):L=i[31],L});Rn.displayName="Slider";const Ki=K.div`
    display: flex;
    justify-content: space-between;
    width: 100%;
    align-items: center;
`,Zi=K.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  color: #333;
  flex-wrap: wrap;
  height: 56px;
  align-content: end;
`,Ji=K.span`
  padding: 0;
  border: none;
  height: 16px;
  max-width: 48px;
  color: #333;
  text-align: end;
  background-color: transparent;
  -moz-appearance: textfield;
  -webkit-appearance: textfield;
  appearance: textfield;

  &::-webkit-inner-spin-button,
  &::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &:focus {
    border-radius: 0;
    outline: none;
    font-weight: 700;
    border-bottom: 1px solid #333;
    margin-bottom: -1px;
  }
`,es=K.input`
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  height: 24px;
  background: transparent;
  outline: none;
  margin: 2px 0 0;
  flex-basis: 100%;
  position: relative;
  cursor: pointer;

  &:before {
    content: "";
    position: absolute;
    top: 14px;
    left: 0;
    right: 0;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: height 0.2s ease, opacity 0.2s ease;
    pointer-events: none;
  }

  &:focus:before,
  &:hover:before {
    height: 1px;
    opacity: 1;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    border-left: 1px solid #333;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: #f9f8f5;
    margin-top: -4px;
    position: relative;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-webkit-slider-thumb,
  &:hover::-webkit-slider-thumb {
    opacity: 1;
  }

  &::-moz-range-track {
    width: 100%;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-track,
  &:hover::-moz-range-track {
    opacity: 1;
  }

  &::-moz-range-thumb {
    border: none;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-thumb,
  &:hover::-moz-range-thumb {
    opacity: 1;
  }
`,qe=e=>{const t=he.c(26);let i,o,n,r,a,s,f,d;t[0]!==e?({label:r,id:n,min:s,max:a,configKey:i,defaultValue:o,refresh:d,...f}=e,t[0]=e,t[1]=i,t[2]=o,t[3]=n,t[4]=r,t[5]=a,t[6]=s,t[7]=f,t[8]=d):(i=t[1],o=t[2],n=t[3],r=t[4],a=t[5],s=t[6],f=t[7],d=t[8]);const{loading:c,start:u,stop:l}=ot(),{state:h,dispatch:p}=ge(),x=ee.useRef(null);let R;t[9]!==i||t[10]!==o||t[11]!==p||t[12]!==u||t[13]!==h.selectedLayerIdx||t[14]!==l?(R=()=>{$r.flushSync(()=>{u()}),p({type:q.ResetImageCanvas});const P=parseFloat(x.current?.value??o.toString());p({type:q.UpdateLayerSelection,payload:{layerIdx:h.selectedLayerIdx,pselection:{config:{[i]:Math.abs(P)}},withUpdateInitialPresent:!1}}),p({type:q.GenerateResult,payload:{refreshIdx:h.selectedLayerIdx}}),l()},t[9]=i,t[10]=o,t[11]=p,t[12]=u,t[13]=h.selectedLayerIdx,t[14]=l,t[15]=R):R=t[15];const w=R,k=f.step??.01;let L;return t[16]!==o||t[17]!==n||t[18]!==r||t[19]!==c||t[20]!==a||t[21]!==s||t[22]!==w||t[23]!==f||t[24]!==k?(L=G.jsx(Rn,{label:r,disabled:c,ref:x,onMouseUp:w,onTouchEnd:w,id:n,type:"range",min:s,max:a,step:k,defaultValue:o,...f}),t[16]=o,t[17]=n,t[18]=r,t[19]=c,t[20]=a,t[21]=s,t[22]=w,t[23]=f,t[24]=k,t[25]=L):L=t[25],L},Fr=e=>{const t=he.c(38),{label:i,id:o,items:n,configKey:r,defaultValue:a,renderItem:s,getItemValue:f}=e,{loading:d,start:c,stop:u}=ot(),{state:l,dispatch:h}=ge(),[p,x]=ee.useState(a);let R;t[0]!==r||t[1]!==h||t[2]!==f||t[3]!==n||t[4]!==c||t[5]!==l.selectedLayerIdx||t[6]!==u?(R=_=>{const S=parseInt(_.target.value),C=n[S];$r.flushSync(()=>{c()}),x(C),h({type:q.ResetImageCanvas});const E=f?f(C):C;h({type:q.UpdateLayerSelection,payload:{layerIdx:l.selectedLayerIdx,pselection:{config:{[r]:E}},withUpdateInitialPresent:!1}}),h({type:q.GenerateResult,payload:{refreshIdx:l.selectedLayerIdx}}),u()},t[0]=r,t[1]=h,t[2]=f,t[3]=n,t[4]=c,t[5]=l.selectedLayerIdx,t[6]=u,t[7]=R):R=t[7];const w=R;let k;if(t[8]!==f||t[9]!==n||t[10]!==p){let _;t[12]!==f||t[13]!==p?(_=S=>{const C=f?f(S):S,E=f?f(p):p;return C===E},t[12]=f,t[13]=p,t[14]=_):_=t[14],k=n.findIndex(_),t[8]=f,t[9]=n,t[10]=p,t[11]=k}else k=t[11];const L=k;let P;t[15]!==o||t[16]!==i?(P=G.jsx(Xt,{htmlFor:o,children:i}),t[15]=o,t[16]=i,t[17]=P):P=t[17];const j=d?"not-allowed":"pointer",b=d?.5:1;let U;t[18]!==j||t[19]!==b?(U={cursor:j,opacity:b},t[18]=j,t[19]=b,t[20]=U):U=t[20];let m;if(t[21]!==n||t[22]!==s||t[23]!==L){let _;t[25]!==s||t[26]!==L?(_=(S,C)=>G.jsx("option",{value:C,children:s?s(S,C===L):String(S)},`${S}-${C+1}`),t[25]=s,t[26]=L,t[27]=_):_=t[27],m=n.map(_),t[21]=n,t[22]=s,t[23]=L,t[24]=m}else m=t[24];let g;t[28]!==o||t[29]!==d||t[30]!==w||t[31]!==L||t[32]!==U||t[33]!==m?(g=G.jsx(jr,{$full:!0,id:o,value:L,onChange:w,disabled:d,style:U,children:m}),t[28]=o,t[29]=d,t[30]=w,t[31]=L,t[32]=U,t[33]=m,t[34]=g):g=t[34];let A;return t[35]!==P||t[36]!==g?(A=G.jsxs("div",{children:[P,g]}),t[35]=P,t[36]=g,t[37]=A):A=t[37],A},ts=()=>{const e=he.c(2),{state:t}=ge(),{min:i,max:o}=Hi,r=(t.currentLayer?.selection).config;let a;return e[0]!==r.intensity?(a=G.jsx(qe,{label:"Intensity",id:"grayscaleIntensity",min:i,max:o,configKey:"intensity",defaultValue:r.intensity}),e[0]=r.intensity,e[1]=a):a=e[1],a},ns=()=>{const e=he.c(2),{state:t}=ge(),{min:i,max:o}=Gi,r=(t.currentLayer?.selection).config;let a;return e[0]!==r.intensity?(a=G.jsx(qe,{label:"Intensity",id:"brightnessIntensity",min:i,max:o,configKey:"intensity",defaultValue:r.intensity}),e[0]=r.intensity,e[1]=a):a=e[1],a},rs=()=>{const e=he.c(2),{state:t}=ge(),{min:i,max:o}=zi,r=(t.currentLayer?.selection).config;let a;return e[0]!==r.blend?(a=G.jsx(qe,{label:"Blend Intensity",id:"blendIntensity",min:i,max:o,configKey:"blend",defaultValue:r.blend}),e[0]=r.blend,e[1]=a):a=e[1],a},os=()=>{const e=he.c(8),{state:t,dispatch:i}=ge(),{min:o,max:n}=Yi,a=(t.currentLayer?.selection).config;let s;e[0]!==a.intensity?(s=G.jsx(qe,{label:"Intensity",id:"distortionIntensity",min:o,max:n,configKey:"intensity",defaultValue:a.intensity,refresh:!0}),e[0]=a.intensity,e[1]=s):s=e[1];let f;e[2]!==i||e[3]!==t.selectedLayerIdx?(f=G.jsx(tt,{variant:"outline",type:"button",onClick:()=>{i({type:q.ResetImageCanvas}),i({type:q.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Pattern"}),e[2]=i,e[3]=t.selectedLayerIdx,e[4]=f):f=e[4];let d;return e[5]!==s||e[6]!==f?(d=G.jsxs(Qt,{children:[s,f]}),e[5]=s,e[6]=f,e[7]=d):d=e[7],d},is=()=>{const e=he.c(3),{state:t}=ge(),{min:i,max:o}=qi,r=(t.currentLayer?.selection).config;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=G.jsx(Fr,{label:"RGB Shift Effect",id:"rgb-shift-effect",items:Wi,configKey:"effect",defaultValue:"Vibrance",getItemValue:ds}),e[0]=a):a=e[0];let s;return e[1]!==r.intensity?(s=G.jsxs(Qt,{children:[a,G.jsx(qe,{label:"Intensity",id:"rgbShiftIntensity",min:i,max:o,configKey:"intensity",defaultValue:r.intensity,refresh:!0})]}),e[1]=r.intensity,e[2]=s):s=e[2],s},ss=()=>{const e=he.c(3),{state:t}=ge(),{min:i,max:o}=Xi,r=(t.currentLayer?.selection).config;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=G.jsx(Fr,{label:"Sort Direction",id:"pixelSortDirection",items:Vi,configKey:"direction",defaultValue:"Vertical",getItemValue:hs,refresh:!0}),e[0]=a):a=e[0];let s;return e[1]!==r.intensity?(s=G.jsxs(Qt,{children:[a,G.jsx(qe,{label:"Intensity",id:"pixelSortIntensity",min:i,max:o,configKey:"intensity",defaultValue:r.intensity,refresh:!0})]}),e[1]=r.intensity,e[2]=s):s=e[2],s},as=()=>{const e=he.c(2),{state:t}=ge(),{min:i,max:o}=Qi,r=(t.currentLayer?.selection).config;let a;return e[0]!==r.intensity?(a=G.jsx(qe,{label:"Intensity",id:"sliceDistortionIntensity",min:i,max:o,configKey:"intensity",defaultValue:r.intensity}),e[0]=r.intensity,e[1]=a):a=e[1],a},cs=()=>{const e=he.c(8),{state:t,dispatch:i}=ge(),n=(t.currentLayer?.selection).config;let r;e[0]!==n.intensity?(r=G.jsx(qe,{label:"Distortion",id:"sliceDistortionIntensity",min:fn.min,max:fn.max,step:fn.step,configKey:"intensity",defaultValue:n.intensity,refresh:!0}),e[0]=n.intensity,e[1]=r):r=e[1];let a;e[2]!==i||e[3]!==t.selectedLayerIdx?(a=G.jsx(tt,{variant:"outline",type:"button",onClick:()=>{i({type:q.ResetImageCanvas}),i({type:q.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Patterns"}),e[2]=i,e[3]=t.selectedLayerIdx,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=G.jsxs(Qt,{children:[r,a]}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},ls=e=>{const t=he.c(10);if(!e){let i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx("div",{}),t[0]=i):i=t[0],i}switch(e){case Q.None:{let i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx("div",{}),t[1]=i):i=t[1],i}case Q.RGBShift:{let i;return t[2]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(is,{}),t[2]=i):i=t[2],i}case Q.Grayscale:{let i;return t[3]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(ts,{}),t[3]=i):i=t[3],i}case Q.Brightness:{let i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(ns,{}),t[4]=i):i=t[4],i}case Q.AsSound:{let i;return t[5]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(rs,{}),t[5]=i):i=t[5],i}case Q.FractalPixelSort:{let i;return t[6]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(os,{}),t[6]=i):i=t[6],i}case Q.PixelSort:{let i;return t[7]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(ss,{}),t[7]=i):i=t[7],i}case Q.Slice:{let i;return t[8]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(as,{}),t[8]=i):i=t[8],i}case Q.OffsetPixelSort:{let i;return t[9]===Symbol.for("react.memo_cache_sentinel")?(i=G.jsx(cs,{}),t[9]=i):i=t[9],i}}},us=K.div`
  margin-top: 24px;
`,Qt=K.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`;function fs(){const e=he.c(4),{state:t}=ge(),i=t.currentLayer?.selection.filter;let o;e[0]!==i?(o=ls(i),e[0]=i,e[1]=o):o=e[1];let n;return e[2]!==o?(n=G.jsx(us,{children:o}),e[2]=o,e[3]=n):n=e[3],n}function ds(e){return e}function hs(e){return e}const qs=()=>{const e=he.c(38),{state:t,dispatch:i}=ge(),{selectedLayerIdx:o,currentLayer:n}=t,{start:r,stop:a}=ot();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Object.keys(Q),e[0]=s):s=e[0];const f=s;let d;e[1]!==i||e[2]!==r||e[3]!==a?(d=(C,E)=>{r(),i({type:q.UpdateLayerSelection,payload:{layerIdx:C,pselection:{filter:E},withUpdateInitialPresent:!1}}),a()},e[1]=i,e[2]=r,e[3]=a,e[4]=d):d=e[4];const c=d;let u;e[5]!==i||e[6]!==o||e[7]!==r||e[8]!==a?(u=()=>{r(),i({type:q.DeleteLayer,payload:o}),i({type:q.ResetImageCanvas}),i({type:q.GenerateResult}),a()},e[5]=i,e[6]=o,e[7]=r,e[8]=a,e[9]=u):u=e[9];const l=u;let h;e[10]!==i?(h=()=>{i({type:q.ResetImageCanvas}),i({type:q.GenerateResult})},e[10]=i,e[11]=h):h=e[11];const p=h;let x;e[12]!==i||e[13]!==p?(x=C=>{i({type:q.DoLayerAction,payload:C}),p()},e[12]=i,e[13]=p,e[14]=x):x=e[14];const R=x;let w,k;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=G.jsx(Di,{style:{marginBottom:"12px"},children:"Layer Configurations"}),k=G.jsx(Xt,{children:"Filter"}),e[15]=w,e[16]=k):(w=e[15],k=e[16]);let L;e[17]!==c||e[18]!==o?(L=C=>c(o,C.target.value),e[17]=c,e[18]=o,e[19]=L):L=e[19];const P=n?.selection.filter;let j;e[20]===Symbol.for("react.memo_cache_sentinel")?(j=f.map(ys),e[20]=j):j=e[20];let b;e[21]!==L||e[22]!==P?(b=G.jsx(jr,{$full:!0,onChange:L,value:P,children:j}),e[21]=L,e[22]=P,e[23]=b):b=e[23];let U;e[24]===Symbol.for("react.memo_cache_sentinel")?(U=G.jsx(fs,{}),e[24]=U):U=e[24];let m;e[25]!==l?(m=G.jsx(tt,{$full:!0,variant:"warning",onClick:l,children:"Delete Layer"}),e[25]=l,e[26]=m):m=e[26];let g;e[27]!==R?(g=G.jsx(tt,{variant:"outline",type:"button",onClick:()=>R("undo"),children:"Undo"}),e[27]=R,e[28]=g):g=e[28];let A;e[29]!==R?(A=G.jsx(tt,{variant:"outline",type:"button",onClick:()=>R("redo"),children:"Redo"}),e[29]=R,e[30]=A):A=e[30];let _;e[31]!==m||e[32]!==g||e[33]!==A?(_=G.jsxs(gs,{children:[m,g,A]}),e[31]=m,e[32]=g,e[33]=A,e[34]=_):_=e[34];let S;return e[35]!==b||e[36]!==_?(S=G.jsxs(ps,{children:[w,k,b,U,_]}),e[35]=b,e[36]=_,e[37]=S):S=e[37],S},ps=K.div`
  padding: 24px;
  @media (max-width: 1280px) {
    border-top: solid black 1px;
    border-top-style: dashed;
  }
`,gs=K.div`
    margin-top: 12px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 4px;

    & > *:first-child {
        grid-column: span 2;
    }
`;function ys(e){return G.jsx("option",{value:e,children:cr[e]},`filter-${e}`)}const or=e=>{const t=he.c(8);let i;t[0]!==e?({...i}=e,t[0]=e,t[1]=i):i=t[1];const o=ee.useRef(null);let n;t[2]!==i?(n=d=>{i.onClick&&i?.onClick(d);const c=o.current;c&&(c.checked=!c.checked)},t[2]=i,t[3]=n):n=t[3];const r=n;let a,s;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=G.jsx(vs,{ref:o,type:"checkbox"}),s=G.jsx(xs,{}),t[4]=a,t[5]=s):(a=t[4],s=t[5]);let f;return t[6]!==r?(f=G.jsxs(ms,{onClick:r,children:[a,s]}),t[6]=r,t[7]=f):f=t[7],f},ms=K.div`
  position: relative;
  display: inline-block;
  width: 60px;
  height: 24px;
`,vs=K.input`
  display: none;
  
  &:checked + label {
    background-color: ${({theme:e})=>e.colors.primary};
  }
  
  &:checked + label::before {
    transform: translateX(26px);
  }
`,xs=K.label`
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .3s;
  
  &::before {
    position: absolute;
    content: "";
    height: 20px;
    width: 30px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s;
  }
`,Ws=()=>{const e=he.c(16),{dispatch:t,state:i}=ge();let o;e[0]!==t||e[1]!==i.mode?(o=()=>{let h;i.mode==="edit"?h="move":h="edit",t({type:q.UpdateState,payload:{key:"mode",value:h}})},e[0]=t,e[1]=i.mode,e[2]=o):o=e[2];const n=o;let r;e[3]!==t||e[4]!==i.hideSelectionOverlay?(r=()=>{t({type:q.UpdateState,payload:{key:"hideSelectionOverlay",value:!i.hideSelectionOverlay}})},e[3]=t,e[4]=i.hideSelectionOverlay,e[5]=r):r=e[5];const a=r;let s;e[6]===Symbol.for("react.memo_cache_sentinel")?(s=G.jsx(Mr,{style:{marginBottom:"12px"},children:"Global Configurations"}),e[6]=s):s=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=G.jsx(je,{size:"small",variant:"secondary",children:"Enable move mode"}),e[7]=f):f=e[7];let d;e[8]!==n?(d=G.jsxs($t,{children:[f,G.jsx(or,{onClick:n})]}),e[8]=n,e[9]=d):d=e[9];let c;e[10]===Symbol.for("react.memo_cache_sentinel")?(c=G.jsx(je,{size:"small",variant:"secondary",children:"Hide Selection Overlay"}),e[10]=c):c=e[10];let u;e[11]!==a?(u=G.jsxs($t,{children:[c,G.jsx(or,{onClick:a})]}),e[11]=a,e[12]=u):u=e[12];let l;return e[13]!==d||e[14]!==u?(l=G.jsxs(bs,{children:[s,G.jsxs(Dr,{direction:"col",children:[d,u]})]}),e[13]=d,e[14]=u,e[15]=l):l=e[15],l},bs=K.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,ws="modulepreload",Ss=function(e){return"/bendor/"+e},ir={},_s=function(t,i,o){let n=Promise.resolve();if(i&&i.length>0){let f=function(d){return Promise.all(d.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");n=f(i.map(d=>{if(d=Ss(d),d in ir)return;ir[d]=!0;const c=d.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":ws,c||(l.as="script"),l.crossOrigin="",l.href=d,s&&l.setAttribute("nonce",s),document.head.appendChild(l),c)return new Promise((h,p)=>{l.addEventListener("load",h),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return n.then(a=>{for(const s of a||[])s.status==="rejected"&&r(s.reason);return t().catch(r)})};function Is(e,t){return t.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(o){if(o!=="default"&&!(o in e)){var n=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(e,o,n.get?n:{enumerable:!0,get:function(){return i[o]}})}}))})),Object.freeze(e)}function Nr(e,t){return new Promise((function(i,o){let n;return As(e).then((function(r){try{return n=r,i(new Blob([t.slice(0,2),n,t.slice(2)],{type:"image/jpeg"}))}catch(a){return o(a)}}),o)}))}const As=e=>new Promise(((t,i)=>{const o=new FileReader;o.addEventListener("load",(({target:{result:n}})=>{const r=new DataView(n);let a=0;if(r.getUint16(a)!==65496)return i("not a valid JPEG");for(a+=2;;){const s=r.getUint16(a);if(s===65498)break;const f=r.getUint16(a+2);if(s===65505&&r.getUint32(a+4)===1165519206){const d=a+10;let c;switch(r.getUint16(d)){case 18761:c=!0;break;case 19789:c=!1;break;default:return i("TIFF header contains invalid endian")}if(r.getUint16(d+2,c)!==42)return i("TIFF header contains invalid version");const u=r.getUint32(d+4,c),l=d+u+2+12*r.getUint16(d+u,c);for(let h=d+u+2;h<l;h+=12)if(r.getUint16(h,c)==274){if(r.getUint16(h+2,c)!==3)return i("Orientation data type is invalid");if(r.getUint32(h+4,c)!==1)return i("Orientation data count is invalid");r.setUint16(h+8,1,c);break}return t(n.slice(a,a+2+f))}a+=2+f}return t(new Blob)})),o.readAsArrayBuffer(e)}));var Ft={},Cs={get exports(){return Ft},set exports(e){Ft=e}};(function(e){var t,i,o={};Cs.exports=o,o.parse=function(n,r){for(var a=o.bin.readUshort,s=o.bin.readUint,f=0,d={},c=new Uint8Array(n),u=c.length-4;s(c,u)!=101010256;)u--;f=u,f+=4;var l=a(c,f+=4);a(c,f+=2);var h=s(c,f+=2),p=s(c,f+=4);f+=4,f=p;for(var x=0;x<l;x++){s(c,f),f+=4,f+=4,f+=4,s(c,f+=4),h=s(c,f+=4);var R=s(c,f+=4),w=a(c,f+=4),k=a(c,f+2),L=a(c,f+4);f+=6;var P=s(c,f+=8);f+=4,f+=w+k+L,o._readLocal(c,P,d,h,R,r)}return d},o._readLocal=function(n,r,a,s,f,d){var c=o.bin.readUshort,u=o.bin.readUint;u(n,r),c(n,r+=4),c(n,r+=2);var l=c(n,r+=2);u(n,r+=2),u(n,r+=4),r+=4;var h=c(n,r+=8),p=c(n,r+=2);r+=2;var x=o.bin.readUTF8(n,r,h);if(r+=h,r+=p,d)a[x]={size:f,csize:s};else{var R=new Uint8Array(n.buffer,r);if(l==0)a[x]=new Uint8Array(R.buffer.slice(r,r+s));else{if(l!=8)throw"unknown compression method: "+l;var w=new Uint8Array(f);o.inflateRaw(R,w),a[x]=w}}},o.inflateRaw=function(n,r){return o.F.inflate(n,r)},o.inflate=function(n,r){return n[0],n[1],o.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),r)},o.deflate=function(n,r){r==null&&(r={level:6});var a=0,s=new Uint8Array(50+Math.floor(1.1*n.length));s[a]=120,s[a+1]=156,a+=2,a=o.F.deflateRaw(n,s,a,r.level);var f=o.adler(n,0,n.length);return s[a+0]=f>>>24&255,s[a+1]=f>>>16&255,s[a+2]=f>>>8&255,s[a+3]=f>>>0&255,new Uint8Array(s.buffer,0,a+4)},o.deflateRaw=function(n,r){r==null&&(r={level:6});var a=new Uint8Array(50+Math.floor(1.1*n.length)),s=o.F.deflateRaw(n,a,s,r.level);return new Uint8Array(a.buffer,0,s)},o.encode=function(n,r){r==null&&(r=!1);var a=0,s=o.bin.writeUint,f=o.bin.writeUshort,d={};for(var c in n){var u=!o._noNeed(c)&&!r,l=n[c],h=o.crc.crc(l,0,l.length);d[c]={cpr:u,usize:l.length,crc:h,file:u?o.deflateRaw(l):l}}for(var c in d)a+=d[c].file.length+30+46+2*o.bin.sizeUTF8(c);a+=22;var p=new Uint8Array(a),x=0,R=[];for(var c in d){var w=d[c];R.push(x),x=o._writeHeader(p,x,c,w,0)}var k=0,L=x;for(var c in d)w=d[c],R.push(x),x=o._writeHeader(p,x,c,w,1,R[k++]);var P=x-L;return s(p,x,101010256),x+=4,f(p,x+=4,k),f(p,x+=2,k),s(p,x+=2,P),s(p,x+=4,L),x+=4,x+=2,p.buffer},o._noNeed=function(n){var r=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},o._writeHeader=function(n,r,a,s,f,d){var c=o.bin.writeUint,u=o.bin.writeUshort,l=s.file;return c(n,r,f==0?67324752:33639248),r+=4,f==1&&(r+=2),u(n,r,20),u(n,r+=2,0),u(n,r+=2,s.cpr?8:0),c(n,r+=2,0),c(n,r+=4,s.crc),c(n,r+=4,l.length),c(n,r+=4,s.usize),u(n,r+=4,o.bin.sizeUTF8(a)),u(n,r+=2,0),r+=2,f==1&&(r+=2,r+=2,c(n,r+=6,d),r+=4),r+=o.bin.writeUTF8(n,r,a),f==0&&(n.set(l,r),r+=l.length),r},o.crc={table:(function(){for(var n=new Uint32Array(256),r=0;r<256;r++){for(var a=r,s=0;s<8;s++)1&a?a=3988292384^a>>>1:a>>>=1;n[r]=a}return n})(),update:function(n,r,a,s){for(var f=0;f<s;f++)n=o.crc.table[255&(n^r[a+f])]^n>>>8;return n},crc:function(n,r,a){return 4294967295^o.crc.update(4294967295,n,r,a)}},o.adler=function(n,r,a){for(var s=1,f=0,d=r,c=r+a;d<c;){for(var u=Math.min(d+5552,c);d<u;)f+=s+=n[d++];s%=65521,f%=65521}return f<<16|s},o.bin={readUshort:function(n,r){return n[r]|n[r+1]<<8},writeUshort:function(n,r,a){n[r]=255&a,n[r+1]=a>>8&255},readUint:function(n,r){return 16777216*n[r+3]+(n[r+2]<<16|n[r+1]<<8|n[r])},writeUint:function(n,r,a){n[r]=255&a,n[r+1]=a>>8&255,n[r+2]=a>>16&255,n[r+3]=a>>24&255},readASCII:function(n,r,a){for(var s="",f=0;f<a;f++)s+=String.fromCharCode(n[r+f]);return s},writeASCII:function(n,r,a){for(var s=0;s<a.length;s++)n[r+s]=a.charCodeAt(s)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,r,a){for(var s,f="",d=0;d<a;d++)f+="%"+o.bin.pad(n[r+d].toString(16));try{s=decodeURIComponent(f)}catch{return o.bin.readASCII(n,r,a)}return s},writeUTF8:function(n,r,a){for(var s=a.length,f=0,d=0;d<s;d++){var c=a.charCodeAt(d);if((4294967168&c)==0)n[r+f]=c,f++;else if((4294965248&c)==0)n[r+f]=192|c>>6,n[r+f+1]=128|c>>0&63,f+=2;else if((4294901760&c)==0)n[r+f]=224|c>>12,n[r+f+1]=128|c>>6&63,n[r+f+2]=128|c>>0&63,f+=3;else{if((4292870144&c)!=0)throw"e";n[r+f]=240|c>>18,n[r+f+1]=128|c>>12&63,n[r+f+2]=128|c>>6&63,n[r+f+3]=128|c>>0&63,f+=4}}return f},sizeUTF8:function(n){for(var r=n.length,a=0,s=0;s<r;s++){var f=n.charCodeAt(s);if((4294967168&f)==0)a++;else if((4294965248&f)==0)a+=2;else if((4294901760&f)==0)a+=3;else{if((4292870144&f)!=0)throw"e";a+=4}}return a}},o.F={},o.F.deflateRaw=function(n,r,a,s){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],d=o.F.U,c=o.F._goodIndex;o.F._hash;var u=o.F._putsE,l=0,h=a<<3,p=0,x=n.length;if(s==0){for(;l<x;)u(r,h,l+(_=Math.min(65535,x-l))==x?1:0),h=o.F._copyExact(n,l,_,r,h+8),l+=_;return h>>>3}var R=d.lits,w=d.strt,k=d.prev,L=0,P=0,j=0,b=0,U=0,m=0;for(x>2&&(w[m=o.F._hash(n,0)]=0),l=0;l<x;l++){if(U=m,l+1<x-2){m=o.F._hash(n,l+1);var g=l+1&32767;k[g]=w[m],w[m]=g}if(p<=l){(L>14e3||P>26697)&&x-l>100&&(p<l&&(R[L]=l-p,L+=2,p=l),h=o.F._writeBlock(l==x-1||p==x?1:0,R,L,b,n,j,l-j,r,h),L=P=b=0,j=l);var A=0;l<x-2&&(A=o.F._bestMatch(n,l,k,U,Math.min(f[2],x-l),f[3]));var _=A>>>16,S=65535&A;if(A!=0){S=65535&A;var C=c(_=A>>>16,d.of0);d.lhst[257+C]++;var E=c(S,d.df0);d.dhst[E]++,b+=d.exb[C]+d.dxb[E],R[L]=_<<23|l-p,R[L+1]=S<<16|C<<8|E,L+=2,p=l+_}else d.lhst[n[l]]++;P++}}for(j==l&&n.length!=0||(p<l&&(R[L]=l-p,L+=2,p=l),h=o.F._writeBlock(1,R,L,b,n,j,l-j,r,h),L=0,P=0,L=P=b=0,j=l);(7&h)!=0;)h++;return h>>>3},o.F._bestMatch=function(n,r,a,s,f,d){var c=32767&r,u=a[c],l=c-u+32768&32767;if(u==c||s!=o.F._hash(n,r-l))return 0;for(var h=0,p=0,x=Math.min(32767,r);l<=x&&--d!=0&&u!=c;){if(h==0||n[r+h]==n[r+h-l]){var R=o.F._howLong(n,r,l);if(R>h){if(p=l,(h=R)>=f)break;l+2<R&&(R=l+2);for(var w=0,k=0;k<R-2;k++){var L=r-l+k+32768&32767,P=L-a[L]+32768&32767;P>w&&(w=P,u=L)}}}l+=(c=u)-(u=a[c])+32768&32767}return h<<16|p},o.F._howLong=function(n,r,a){if(n[r]!=n[r-a]||n[r+1]!=n[r+1-a]||n[r+2]!=n[r+2-a])return 0;var s=r,f=Math.min(n.length,r+258);for(r+=3;r<f&&n[r]==n[r-a];)r++;return r-s},o.F._hash=function(n,r){return(n[r]<<8|n[r+1])+(n[r+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(n,r,a,s,f,d,c,u,l){var h,p,x,R,w,k,L,P,j,b=o.F.U,U=o.F._putsF,m=o.F._putsE;b.lhst[256]++,p=(h=o.F.getTrees())[0],x=h[1],R=h[2],w=h[3],k=h[4],L=h[5],P=h[6],j=h[7];var g=32+((l+3&7)==0?0:8-(l+3&7))+(c<<3),A=s+o.F.contSize(b.fltree,b.lhst)+o.F.contSize(b.fdtree,b.dhst),_=s+o.F.contSize(b.ltree,b.lhst)+o.F.contSize(b.dtree,b.dhst);_+=14+3*L+o.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var S=0;S<286;S++)b.lhst[S]=0;for(S=0;S<30;S++)b.dhst[S]=0;for(S=0;S<19;S++)b.ihst[S]=0;var C=g<A&&g<_?0:A<_?1:2;if(U(u,l,n),U(u,l+1,C),l+=3,C==0){for(;(7&l)!=0;)l++;l=o.F._copyExact(f,d,c,u,l)}else{var E,O;if(C==1&&(E=b.fltree,O=b.fdtree),C==2){o.F.makeCodes(b.ltree,p),o.F.revCodes(b.ltree,p),o.F.makeCodes(b.dtree,x),o.F.revCodes(b.dtree,x),o.F.makeCodes(b.itree,R),o.F.revCodes(b.itree,R),E=b.ltree,O=b.dtree,m(u,l,w-257),m(u,l+=5,k-1),m(u,l+=5,L-4),l+=4;for(var v=0;v<L;v++)m(u,l+3*v,b.itree[1+(b.ordr[v]<<1)]);l+=3*L,l=o.F._codeTiny(P,b.itree,u,l),l=o.F._codeTiny(j,b.itree,u,l)}for(var y=d,F=0;F<a;F+=2){for(var M=r[F],N=M>>>23,I=y+(8388607&M);y<I;)l=o.F._writeLit(f[y++],E,u,l);if(N!=0){var T=r[F+1],B=T>>16,$=T>>8&255,D=255&T;m(u,l=o.F._writeLit(257+$,E,u,l),N-b.of0[$]),l+=b.exb[$],U(u,l=o.F._writeLit(D,O,u,l),B-b.df0[D]),l+=b.dxb[D],y+=N}}l=o.F._writeLit(256,E,u,l)}return l},o.F._copyExact=function(n,r,a,s,f){var d=f>>>3;return s[d]=a,s[d+1]=a>>>8,s[d+2]=255-s[d],s[d+3]=255-s[d+1],d+=4,s.set(new Uint8Array(n.buffer,r,a),d),f+(a+4<<3)},o.F.getTrees=function(){for(var n=o.F.U,r=o.F._hufTree(n.lhst,n.ltree,15),a=o.F._hufTree(n.dhst,n.dtree,15),s=[],f=o.F._lenCodes(n.ltree,s),d=[],c=o.F._lenCodes(n.dtree,d),u=0;u<s.length;u+=2)n.ihst[s[u]]++;for(u=0;u<d.length;u+=2)n.ihst[d[u]]++;for(var l=o.F._hufTree(n.ihst,n.itree,7),h=19;h>4&&n.itree[1+(n.ordr[h-1]<<1)]==0;)h--;return[r,a,l,f,c,h,s,d]},o.F.getSecond=function(n){for(var r=[],a=0;a<n.length;a+=2)r.push(n[a+1]);return r},o.F.nonZero=function(n){for(var r="",a=0;a<n.length;a+=2)n[a+1]!=0&&(r+=(a>>1)+",");return r},o.F.contSize=function(n,r){for(var a=0,s=0;s<r.length;s++)a+=r[s]*n[1+(s<<1)];return a},o.F._codeTiny=function(n,r,a,s){for(var f=0;f<n.length;f+=2){var d=n[f],c=n[f+1];s=o.F._writeLit(d,r,a,s);var u=d==16?2:d==17?3:7;d>15&&(o.F._putsE(a,s,c,u),s+=u)}return s},o.F._lenCodes=function(n,r){for(var a=n.length;a!=2&&n[a-1]==0;)a-=2;for(var s=0;s<a;s+=2){var f=n[s+1],d=s+3<a?n[s+3]:-1,c=s+5<a?n[s+5]:-1,u=s==0?-1:n[s-1];if(f==0&&d==f&&c==f){for(var l=s+5;l+2<a&&n[l+2]==f;)l+=2;(h=Math.min(l+1-s>>>1,138))<11?r.push(17,h-3):r.push(18,h-11),s+=2*h-2}else if(f==u&&d==f&&c==f){for(l=s+5;l+2<a&&n[l+2]==f;)l+=2;var h=Math.min(l+1-s>>>1,6);r.push(16,h-3),s+=2*h-2}else r.push(f,0)}return a>>>1},o.F._hufTree=function(n,r,a){var s=[],f=n.length,d=r.length,c=0;for(c=0;c<d;c+=2)r[c]=0,r[c+1]=0;for(c=0;c<f;c++)n[c]!=0&&s.push({lit:c,f:n[c]});var u=s.length,l=s.slice(0);if(u==0)return 0;if(u==1){var h=s[0].lit;return l=h==0?1:0,r[1+(h<<1)]=1,r[1+(l<<1)]=1,1}s.sort((function(P,j){return P.f-j.f}));var p=s[0],x=s[1],R=0,w=1,k=2;for(s[0]={lit:-1,f:p.f+x.f,l:p,r:x,d:0};w!=u-1;)p=R!=w&&(k==u||s[R].f<s[k].f)?s[R++]:s[k++],x=R!=w&&(k==u||s[R].f<s[k].f)?s[R++]:s[k++],s[w++]={lit:-1,f:p.f+x.f,l:p,r:x};var L=o.F.setDepth(s[w-1],0);for(L>a&&(o.F.restrictDepth(l,a,L),L=a),c=0;c<u;c++)r[1+(l[c].lit<<1)]=l[c].d;return L},o.F.setDepth=function(n,r){return n.lit!=-1?(n.d=r,r):Math.max(o.F.setDepth(n.l,r+1),o.F.setDepth(n.r,r+1))},o.F.restrictDepth=function(n,r,a){var s=0,f=1<<a-r,d=0;for(n.sort((function(u,l){return l.d==u.d?u.f-l.f:l.d-u.d})),s=0;s<n.length&&n[s].d>r;s++){var c=n[s].d;n[s].d=r,d+=f-(1<<a-c)}for(d>>>=a-r;d>0;)(c=n[s].d)<r?(n[s].d++,d-=1<<r-c-1):s++;for(;s>=0;s--)n[s].d==r&&d<0&&(n[s].d--,d++);d!=0&&console.log("debt left")},o.F._goodIndex=function(n,r){var a=0;return r[16|a]<=n&&(a|=16),r[8|a]<=n&&(a|=8),r[4|a]<=n&&(a|=4),r[2|a]<=n&&(a|=2),r[1|a]<=n&&(a|=1),a},o.F._writeLit=function(n,r,a,s){return o.F._putsF(a,s,r[n<<1]),s+r[1+(n<<1)]},o.F.inflate=function(n,r){var a=Uint8Array;if(n[0]==3&&n[1]==0)return r||new a(0);var s=o.F,f=s._bitsF,d=s._bitsE,c=s._decodeTiny,u=s.makeCodes,l=s.codes2map,h=s._get17,p=s.U,x=r==null;x&&(r=new a(n.length>>>2<<3));for(var R,w,k=0,L=0,P=0,j=0,b=0,U=0,m=0,g=0,A=0;k==0;)if(k=f(n,A,1),L=f(n,A+1,2),A+=3,L!=0){if(x&&(r=o.F._check(r,g+(1<<17))),L==1&&(R=p.flmap,w=p.fdmap,U=511,m=31),L==2){P=d(n,A,5)+257,j=d(n,A+5,5)+1,b=d(n,A+10,4)+4,A+=14;for(var _=0;_<38;_+=2)p.itree[_]=0,p.itree[_+1]=0;var S=1;for(_=0;_<b;_++){var C=d(n,A+3*_,3);p.itree[1+(p.ordr[_]<<1)]=C,C>S&&(S=C)}A+=3*b,u(p.itree,S),l(p.itree,S,p.imap),R=p.lmap,w=p.dmap,A=c(p.imap,(1<<S)-1,P+j,n,A,p.ttree);var E=s._copyOut(p.ttree,0,P,p.ltree);U=(1<<E)-1;var O=s._copyOut(p.ttree,P,j,p.dtree);m=(1<<O)-1,u(p.ltree,E),l(p.ltree,E,R),u(p.dtree,O),l(p.dtree,O,w)}for(;;){var v=R[h(n,A)&U];A+=15&v;var y=v>>>4;if(!(y>>>8))r[g++]=y;else{if(y==256)break;var F=g+y-254;if(y>264){var M=p.ldef[y-257];F=g+(M>>>3)+d(n,A,7&M),A+=7&M}var N=w[h(n,A)&m];A+=15&N;var I=N>>>4,T=p.ddef[I],B=(T>>>4)+f(n,A,15&T);for(A+=15&T,x&&(r=o.F._check(r,g+(1<<17)));g<F;)r[g]=r[g++-B],r[g]=r[g++-B],r[g]=r[g++-B],r[g]=r[g++-B];g=F}}}else{(7&A)!=0&&(A+=8-(7&A));var $=4+(A>>>3),D=n[$-4]|n[$-3]<<8;x&&(r=o.F._check(r,g+D)),r.set(new a(n.buffer,n.byteOffset+$,D),g),A=$+D<<3,g+=D}return r.length==g?r:r.slice(0,g)},o.F._check=function(n,r){var a=n.length;if(r<=a)return n;var s=new Uint8Array(Math.max(a<<1,r));return s.set(n,0),s},o.F._decodeTiny=function(n,r,a,s,f,d){for(var c=o.F._bitsE,u=o.F._get17,l=0;l<a;){var h=n[u(s,f)&r];f+=15&h;var p=h>>>4;if(p<=15)d[l]=p,l++;else{var x=0,R=0;p==16?(R=3+c(s,f,2),f+=2,x=d[l-1]):p==17?(R=3+c(s,f,3),f+=3):p==18&&(R=11+c(s,f,7),f+=7);for(var w=l+R;l<w;)d[l]=x,l++}}return f},o.F._copyOut=function(n,r,a,s){for(var f=0,d=0,c=s.length>>>1;d<a;){var u=n[d+r];s[d<<1]=0,s[1+(d<<1)]=u,u>f&&(f=u),d++}for(;d<c;)s[d<<1]=0,s[1+(d<<1)]=0,d++;return f},o.F.makeCodes=function(n,r){for(var a,s,f,d,c=o.F.U,u=n.length,l=c.bl_count,h=0;h<=r;h++)l[h]=0;for(h=1;h<u;h+=2)l[n[h]]++;var p=c.next_code;for(a=0,l[0]=0,s=1;s<=r;s++)a=a+l[s-1]<<1,p[s]=a;for(f=0;f<u;f+=2)(d=n[f+1])!=0&&(n[f]=p[d],p[d]++)},o.F.codes2map=function(n,r,a){for(var s=n.length,f=o.F.U.rev15,d=0;d<s;d+=2)if(n[d+1]!=0)for(var c=d>>1,u=n[d+1],l=c<<4|u,h=r-u,p=n[d]<<h,x=p+(1<<h);p!=x;)a[f[p]>>>15-r]=l,p++},o.F.revCodes=function(n,r){for(var a=o.F.U.rev15,s=15-r,f=0;f<n.length;f+=2){var d=n[f]<<r-n[f+1];n[f]=a[d]>>>s}},o.F._putsE=function(n,r,a){a<<=7&r;var s=r>>>3;n[s]|=a,n[s+1]|=a>>>8},o.F._putsF=function(n,r,a){a<<=7&r;var s=r>>>3;n[s]|=a,n[s+1]|=a>>>8,n[s+2]|=a>>>16},o.F._bitsE=function(n,r,a){return(n[r>>>3]|n[1+(r>>>3)]<<8)>>>(7&r)&(1<<a)-1},o.F._bitsF=function(n,r,a){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16)>>>(7&r)&(1<<a)-1},o.F._get17=function(n,r){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16)>>>(7&r)},o.F._get25=function(n,r){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16|n[3+(r>>>3)]<<24)>>>(7&r)},o.F.U=(t=Uint16Array,i=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var n=o.F.U,r=0;r<32768;r++){var a=r;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,n.rev15[r]=(a>>>16|a<<16)>>>17}function s(f,d,c){for(;d--!=0;)f.push(0,c)}for(r=0;r<32;r++)n.ldef[r]=n.of0[r]<<3|n.exb[r],n.ddef[r]=n.df0[r]<<4|n.dxb[r];s(n.fltree,144,8),s(n.fltree,112,9),s(n.fltree,24,7),s(n.fltree,8,8),o.F.makeCodes(n.fltree,9),o.F.codes2map(n.fltree,9,n.flmap),o.F.revCodes(n.fltree,9),s(n.fdtree,32,5),o.F.makeCodes(n.fdtree,5),o.F.codes2map(n.fdtree,5,n.fdmap),o.F.revCodes(n.fdtree,5),s(n.itree,19,0),s(n.ltree,286,0),s(n.dtree,30,0),s(n.ttree,320,0)})()})();var Es=Is({__proto__:null,default:Ft},[Ft]);const Pe=(function(){var e={nextZero(c,u){for(;c[u]!=0;)u++;return u},readUshort:(c,u)=>c[u]<<8|c[u+1],writeUshort(c,u,l){c[u]=l>>8&255,c[u+1]=255&l},readUint:(c,u)=>16777216*c[u]+(c[u+1]<<16|c[u+2]<<8|c[u+3]),writeUint(c,u,l){c[u]=l>>24&255,c[u+1]=l>>16&255,c[u+2]=l>>8&255,c[u+3]=255&l},readASCII(c,u,l){let h="";for(let p=0;p<l;p++)h+=String.fromCharCode(c[u+p]);return h},writeASCII(c,u,l){for(let h=0;h<l.length;h++)c[u+h]=l.charCodeAt(h)},readBytes(c,u,l){const h=[];for(let p=0;p<l;p++)h.push(c[u+p]);return h},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,u,l){let h,p="";for(let x=0;x<l;x++)p+=`%${e.pad(c[u+x].toString(16))}`;try{h=decodeURIComponent(p)}catch{return e.readASCII(c,u,l)}return h}};function t(c,u,l,h){const p=u*l,x=r(h),R=Math.ceil(u*x/8),w=new Uint8Array(4*p),k=new Uint32Array(w.buffer),{ctype:L}=h,{depth:P}=h,j=e.readUshort;if(L==6){const M=p<<2;if(P==8)for(var b=0;b<M;b+=4)w[b]=c[b],w[b+1]=c[b+1],w[b+2]=c[b+2],w[b+3]=c[b+3];if(P==16)for(b=0;b<M;b++)w[b]=c[b<<1]}else if(L==2){const M=h.tabs.tRNS;if(M==null){if(P==8)for(b=0;b<p;b++){var U=3*b;k[b]=255<<24|c[U+2]<<16|c[U+1]<<8|c[U]}if(P==16)for(b=0;b<p;b++)U=6*b,k[b]=255<<24|c[U+4]<<16|c[U+2]<<8|c[U]}else{var m=M[0];const N=M[1],I=M[2];if(P==8)for(b=0;b<p;b++){var g=b<<2;U=3*b,k[b]=255<<24|c[U+2]<<16|c[U+1]<<8|c[U],c[U]==m&&c[U+1]==N&&c[U+2]==I&&(w[g+3]=0)}if(P==16)for(b=0;b<p;b++)g=b<<2,U=6*b,k[b]=255<<24|c[U+4]<<16|c[U+2]<<8|c[U],j(c,U)==m&&j(c,U+2)==N&&j(c,U+4)==I&&(w[g+3]=0)}}else if(L==3){const M=h.tabs.PLTE,N=h.tabs.tRNS,I=N?N.length:0;if(P==1)for(var A=0;A<l;A++){var _=A*R,S=A*u;for(b=0;b<u;b++){g=S+b<<2;var C=3*(E=c[_+(b>>3)]>>7-((7&b)<<0)&1);w[g]=M[C],w[g+1]=M[C+1],w[g+2]=M[C+2],w[g+3]=E<I?N[E]:255}}if(P==2)for(A=0;A<l;A++)for(_=A*R,S=A*u,b=0;b<u;b++)g=S+b<<2,C=3*(E=c[_+(b>>2)]>>6-((3&b)<<1)&3),w[g]=M[C],w[g+1]=M[C+1],w[g+2]=M[C+2],w[g+3]=E<I?N[E]:255;if(P==4)for(A=0;A<l;A++)for(_=A*R,S=A*u,b=0;b<u;b++)g=S+b<<2,C=3*(E=c[_+(b>>1)]>>4-((1&b)<<2)&15),w[g]=M[C],w[g+1]=M[C+1],w[g+2]=M[C+2],w[g+3]=E<I?N[E]:255;if(P==8)for(b=0;b<p;b++){var E;g=b<<2,C=3*(E=c[b]),w[g]=M[C],w[g+1]=M[C+1],w[g+2]=M[C+2],w[g+3]=E<I?N[E]:255}}else if(L==4){if(P==8)for(b=0;b<p;b++){g=b<<2;var O=c[v=b<<1];w[g]=O,w[g+1]=O,w[g+2]=O,w[g+3]=c[v+1]}if(P==16)for(b=0;b<p;b++){var v;g=b<<2,O=c[v=b<<2],w[g]=O,w[g+1]=O,w[g+2]=O,w[g+3]=c[v+2]}}else if(L==0)for(m=h.tabs.tRNS?h.tabs.tRNS:-1,A=0;A<l;A++){const M=A*R,N=A*u;if(P==1)for(var y=0;y<u;y++){var F=(O=255*(c[M+(y>>>3)]>>>7-(7&y)&1))==255*m?0:255;k[N+y]=F<<24|O<<16|O<<8|O}else if(P==2)for(y=0;y<u;y++)F=(O=85*(c[M+(y>>>2)]>>>6-((3&y)<<1)&3))==85*m?0:255,k[N+y]=F<<24|O<<16|O<<8|O;else if(P==4)for(y=0;y<u;y++)F=(O=17*(c[M+(y>>>1)]>>>4-((1&y)<<2)&15))==17*m?0:255,k[N+y]=F<<24|O<<16|O<<8|O;else if(P==8)for(y=0;y<u;y++)F=(O=c[M+y])==m?0:255,k[N+y]=F<<24|O<<16|O<<8|O;else if(P==16)for(y=0;y<u;y++)O=c[M+(y<<1)],F=j(c,M+(y<<1))==m?0:255,k[N+y]=F<<24|O<<16|O<<8|O}return w}function i(c,u,l,h){const p=r(c),x=Math.ceil(l*p/8),R=new Uint8Array((x+1+c.interlace)*h);return u=c.tabs.CgBI?n(u,R):o(u,R),c.interlace==0?u=a(u,c,0,l,h):c.interlace==1&&(u=(function(k,L){const P=L.width,j=L.height,b=r(L),U=b>>3,m=Math.ceil(P*b/8),g=new Uint8Array(j*m);let A=0;const _=[0,0,4,0,2,0,1],S=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const y=C[O],F=E[O];let M=0,N=0,I=_[O];for(;I<j;)I+=y,N++;let T=S[O];for(;T<P;)T+=F,M++;const B=Math.ceil(M*b/8);a(k,L,A,M,N);let $=0,D=_[O];for(;D<j;){let H=S[O],z=A+$*B<<3;for(;H<P;){var v;if(b==1&&(v=(v=k[z>>3])>>7-(7&z)&1,g[D*m+(H>>3)]|=v<<7-((7&H)<<0)),b==2&&(v=(v=k[z>>3])>>6-(7&z)&3,g[D*m+(H>>2)]|=v<<6-((3&H)<<1)),b==4&&(v=(v=k[z>>3])>>4-(7&z)&15,g[D*m+(H>>1)]|=v<<4-((1&H)<<2)),b>=8){const W=D*m+H*U;for(let Y=0;Y<U;Y++)g[W+Y]=k[(z>>3)+Y]}z+=b,H+=F}$++,D+=y}M*N!=0&&(A+=N*(1+B)),O+=1}return g})(u,c)),u}function o(c,u){return n(new Uint8Array(c.buffer,2,c.length-6),u)}var n=(function(){const c={H:{}};return c.H.N=function(u,l){const h=Uint8Array;let p,x,R=0,w=0,k=0,L=0,P=0,j=0,b=0,U=0,m=0;if(u[0]==3&&u[1]==0)return l||new h(0);const g=c.H,A=g.b,_=g.e,S=g.R,C=g.n,E=g.A,O=g.Z,v=g.m,y=l==null;for(y&&(l=new h(u.length>>>2<<5));R==0;)if(R=A(u,m,1),w=A(u,m+1,2),m+=3,w!=0){if(y&&(l=c.H.W(l,U+(1<<17))),w==1&&(p=v.J,x=v.h,j=511,b=31),w==2){k=_(u,m,5)+257,L=_(u,m+5,5)+1,P=_(u,m+10,4)+4,m+=14;let M=1;for(var F=0;F<38;F+=2)v.Q[F]=0,v.Q[F+1]=0;for(F=0;F<P;F++){const T=_(u,m+3*F,3);v.Q[1+(v.X[F]<<1)]=T,T>M&&(M=T)}m+=3*P,C(v.Q,M),E(v.Q,M,v.u),p=v.w,x=v.d,m=S(v.u,(1<<M)-1,k+L,u,m,v.v);const N=g.V(v.v,0,k,v.C);j=(1<<N)-1;const I=g.V(v.v,k,L,v.D);b=(1<<I)-1,C(v.C,N),E(v.C,N,p),C(v.D,I),E(v.D,I,x)}for(;;){const M=p[O(u,m)&j];m+=15&M;const N=M>>>4;if(!(N>>>8))l[U++]=N;else{if(N==256)break;{let I=U+N-254;if(N>264){const H=v.q[N-257];I=U+(H>>>3)+_(u,m,7&H),m+=7&H}const T=x[O(u,m)&b];m+=15&T;const B=T>>>4,$=v.c[B],D=($>>>4)+A(u,m,15&$);for(m+=15&$;U<I;)l[U]=l[U++-D],l[U]=l[U++-D],l[U]=l[U++-D],l[U]=l[U++-D];U=I}}}}else{(7&m)!=0&&(m+=8-(7&m));const M=4+(m>>>3),N=u[M-4]|u[M-3]<<8;y&&(l=c.H.W(l,U+N)),l.set(new h(u.buffer,u.byteOffset+M,N),U),m=M+N<<3,U+=N}return l.length==U?l:l.slice(0,U)},c.H.W=function(u,l){const h=u.length;if(l<=h)return u;const p=new Uint8Array(h<<1);return p.set(u,0),p},c.H.R=function(u,l,h,p,x,R){const w=c.H.e,k=c.H.Z;let L=0;for(;L<h;){const P=u[k(p,x)&l];x+=15&P;const j=P>>>4;if(j<=15)R[L]=j,L++;else{let b=0,U=0;j==16?(U=3+w(p,x,2),x+=2,b=R[L-1]):j==17?(U=3+w(p,x,3),x+=3):j==18&&(U=11+w(p,x,7),x+=7);const m=L+U;for(;L<m;)R[L]=b,L++}}return x},c.H.V=function(u,l,h,p){let x=0,R=0;const w=p.length>>>1;for(;R<h;){const k=u[R+l];p[R<<1]=0,p[1+(R<<1)]=k,k>x&&(x=k),R++}for(;R<w;)p[R<<1]=0,p[1+(R<<1)]=0,R++;return x},c.H.n=function(u,l){const h=c.H.m,p=u.length;let x,R,w,k;const L=h.j;for(var P=0;P<=l;P++)L[P]=0;for(P=1;P<p;P+=2)L[u[P]]++;const j=h.K;for(x=0,L[0]=0,R=1;R<=l;R++)x=x+L[R-1]<<1,j[R]=x;for(w=0;w<p;w+=2)k=u[w+1],k!=0&&(u[w]=j[k],j[k]++)},c.H.A=function(u,l,h){const p=u.length,x=c.H.m.r;for(let R=0;R<p;R+=2)if(u[R+1]!=0){const w=R>>1,k=u[R+1],L=w<<4|k,P=l-k;let j=u[R]<<P;const b=j+(1<<P);for(;j!=b;)h[x[j]>>>15-l]=L,j++}},c.H.l=function(u,l){const h=c.H.m.r,p=15-l;for(let x=0;x<u.length;x+=2){const R=u[x]<<l-u[x+1];u[x]=h[R]>>>p}},c.H.M=function(u,l,h){h<<=7&l;const p=l>>>3;u[p]|=h,u[p+1]|=h>>>8},c.H.I=function(u,l,h){h<<=7&l;const p=l>>>3;u[p]|=h,u[p+1]|=h>>>8,u[p+2]|=h>>>16},c.H.e=function(u,l,h){return(u[l>>>3]|u[1+(l>>>3)]<<8)>>>(7&l)&(1<<h)-1},c.H.b=function(u,l,h){return(u[l>>>3]|u[1+(l>>>3)]<<8|u[2+(l>>>3)]<<16)>>>(7&l)&(1<<h)-1},c.H.Z=function(u,l){return(u[l>>>3]|u[1+(l>>>3)]<<8|u[2+(l>>>3)]<<16)>>>(7&l)},c.H.i=function(u,l){return(u[l>>>3]|u[1+(l>>>3)]<<8|u[2+(l>>>3)]<<16|u[3+(l>>>3)]<<24)>>>(7&l)},c.H.m=(function(){const u=Uint16Array,l=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new l(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new l(286),Y:new l(30),a:new l(19),t:new l(15e3),k:new u(65536),g:new u(32768)}})(),(function(){const u=c.H.m;for(var l=0;l<32768;l++){let p=l;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,u.r[l]=(p>>>16|p<<16)>>>17}function h(p,x,R){for(;x--!=0;)p.push(0,R)}for(l=0;l<32;l++)u.q[l]=u.S[l]<<3|u.T[l],u.c[l]=u.p[l]<<4|u.z[l];h(u._,144,8),h(u._,112,9),h(u._,24,7),h(u._,8,8),c.H.n(u._,9),c.H.A(u._,9,u.J),c.H.l(u._,9),h(u.$,32,5),c.H.n(u.$,5),c.H.A(u.$,5,u.h),c.H.l(u.$,5),h(u.Q,19,0),h(u.C,286,0),h(u.D,30,0),h(u.v,320,0)})(),c.H.N})();function r(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function a(c,u,l,h,p){let x=r(u);const R=Math.ceil(h*x/8);let w,k;x=Math.ceil(x/8);let L=c[l],P=0;if(L>1&&(c[l]=[0,0,1][L-2]),L==3)for(P=x;P<R;P++)c[P+1]=c[P+1]+(c[P+1-x]>>>1)&255;for(let j=0;j<p;j++)if(w=l+j*R,k=w+j+1,L=c[k-1],P=0,L==0)for(;P<R;P++)c[w+P]=c[k+P];else if(L==1){for(;P<x;P++)c[w+P]=c[k+P];for(;P<R;P++)c[w+P]=c[k+P]+c[w+P-x]}else if(L==2)for(;P<R;P++)c[w+P]=c[k+P]+c[w+P-R];else if(L==3){for(;P<x;P++)c[w+P]=c[k+P]+(c[w+P-R]>>>1);for(;P<R;P++)c[w+P]=c[k+P]+(c[w+P-R]+c[w+P-x]>>>1)}else{for(;P<x;P++)c[w+P]=c[k+P]+s(0,c[w+P-R],0);for(;P<R;P++)c[w+P]=c[k+P]+s(c[w+P-x],c[w+P-R],c[w+P-x-R])}return c}function s(c,u,l){const h=c+u-l,p=h-c,x=h-u,R=h-l;return p*p<=x*x&&p*p<=R*R?c:x*x<=R*R?u:l}function f(c,u,l){l.width=e.readUint(c,u),u+=4,l.height=e.readUint(c,u),u+=4,l.depth=c[u],u++,l.ctype=c[u],u++,l.compress=c[u],u++,l.filter=c[u],u++,l.interlace=c[u],u++}function d(c,u,l,h,p,x,R,w,k){const L=Math.min(u,p),P=Math.min(l,x);let j=0,b=0;for(let O=0;O<P;O++)for(let v=0;v<L;v++)if(R>=0&&w>=0?(j=O*u+v<<2,b=(w+O)*p+R+v<<2):(j=(-w+O)*u-R+v<<2,b=O*p+v<<2),k==0)h[b]=c[j],h[b+1]=c[j+1],h[b+2]=c[j+2],h[b+3]=c[j+3];else if(k==1){var U=c[j+3]*.00392156862745098,m=c[j]*U,g=c[j+1]*U,A=c[j+2]*U,_=h[b+3]*(1/255),S=h[b]*_,C=h[b+1]*_,E=h[b+2]*_;const y=1-U,F=U+_*y,M=F==0?0:1/F;h[b+3]=255*F,h[b+0]=(m+S*y)*M,h[b+1]=(g+C*y)*M,h[b+2]=(A+E*y)*M}else if(k==2)U=c[j+3],m=c[j],g=c[j+1],A=c[j+2],_=h[b+3],S=h[b],C=h[b+1],E=h[b+2],U==_&&m==S&&g==C&&A==E?(h[b]=0,h[b+1]=0,h[b+2]=0,h[b+3]=0):(h[b]=m,h[b+1]=g,h[b+2]=A,h[b+3]=U);else if(k==3){if(U=c[j+3],m=c[j],g=c[j+1],A=c[j+2],_=h[b+3],S=h[b],C=h[b+1],E=h[b+2],U==_&&m==S&&g==C&&A==E)continue;if(U<220&&_>20)return!1}return!0}return{decode:function(u){const l=new Uint8Array(u);let h=8;const p=e,x=p.readUshort,R=p.readUint,w={tabs:{},frames:[]},k=new Uint8Array(l.length);let L,P=0,j=0;const b=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(l[U]!=b[U])throw"The input is not a PNG file!";for(;h<l.length;){const O=p.readUint(l,h);h+=4;const v=p.readASCII(l,h,4);if(h+=4,v=="IHDR")f(l,h,w);else if(v=="iCCP"){for(var m=h;l[m]!=0;)m++;p.readASCII(l,h,m-h),l[m+1];const y=l.slice(m+2,h+O);let F=null;try{F=o(y)}catch{F=n(y)}w.tabs[v]=F}else if(v=="CgBI")w.tabs[v]=l.slice(h,h+4);else if(v=="IDAT"){for(U=0;U<O;U++)k[P+U]=l[h+U];P+=O}else if(v=="acTL")w.tabs[v]={num_frames:R(l,h),num_plays:R(l,h+4)},L=new Uint8Array(l.length);else if(v=="fcTL"){j!=0&&((E=w.frames[w.frames.length-1]).data=i(w,L.slice(0,j),E.rect.width,E.rect.height),j=0);const y={x:R(l,h+12),y:R(l,h+16),width:R(l,h+4),height:R(l,h+8)};let F=x(l,h+22);F=x(l,h+20)/(F==0?100:F);const M={rect:y,delay:Math.round(1e3*F),dispose:l[h+24],blend:l[h+25]};w.frames.push(M)}else if(v=="fdAT"){for(U=0;U<O-4;U++)L[j+U]=l[h+U+4];j+=O-4}else if(v=="pHYs")w.tabs[v]=[p.readUint(l,h),p.readUint(l,h+4),l[h+8]];else if(v=="cHRM")for(w.tabs[v]=[],U=0;U<8;U++)w.tabs[v].push(p.readUint(l,h+4*U));else if(v=="tEXt"||v=="zTXt"){w.tabs[v]==null&&(w.tabs[v]={});var g=p.nextZero(l,h),A=p.readASCII(l,h,g-h),_=h+O-g-1;if(v=="tEXt")C=p.readASCII(l,g+1,_);else{var S=o(l.slice(g+2,g+2+_));C=p.readUTF8(S,0,S.length)}w.tabs[v][A]=C}else if(v=="iTXt"){w.tabs[v]==null&&(w.tabs[v]={}),g=0,m=h,g=p.nextZero(l,m),A=p.readASCII(l,m,g-m);const y=l[m=g+1];var C;l[m+1],m+=2,g=p.nextZero(l,m),p.readASCII(l,m,g-m),m=g+1,g=p.nextZero(l,m),p.readUTF8(l,m,g-m),_=O-((m=g+1)-h),y==0?C=p.readUTF8(l,m,_):(S=o(l.slice(m,m+_)),C=p.readUTF8(S,0,S.length)),w.tabs[v][A]=C}else if(v=="PLTE")w.tabs[v]=p.readBytes(l,h,O);else if(v=="hIST"){const y=w.tabs.PLTE.length/3;for(w.tabs[v]=[],U=0;U<y;U++)w.tabs[v].push(x(l,h+2*U))}else if(v=="tRNS")w.ctype==3?w.tabs[v]=p.readBytes(l,h,O):w.ctype==0?w.tabs[v]=x(l,h):w.ctype==2&&(w.tabs[v]=[x(l,h),x(l,h+2),x(l,h+4)]);else if(v=="gAMA")w.tabs[v]=p.readUint(l,h)/1e5;else if(v=="sRGB")w.tabs[v]=l[h];else if(v=="bKGD")w.ctype==0||w.ctype==4?w.tabs[v]=[x(l,h)]:w.ctype==2||w.ctype==6?w.tabs[v]=[x(l,h),x(l,h+2),x(l,h+4)]:w.ctype==3&&(w.tabs[v]=l[h]);else if(v=="IEND")break;h+=O,p.readUint(l,h),h+=4}var E;return j!=0&&((E=w.frames[w.frames.length-1]).data=i(w,L.slice(0,j),E.rect.width,E.rect.height)),w.data=i(w,k,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(u){const l=u.width,h=u.height;if(u.tabs.acTL==null)return[t(u.data,l,h,u).buffer];const p=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const x=l*h*4,R=new Uint8Array(x),w=new Uint8Array(x),k=new Uint8Array(x);for(let P=0;P<u.frames.length;P++){const j=u.frames[P],b=j.rect.x,U=j.rect.y,m=j.rect.width,g=j.rect.height,A=t(j.data,m,g,u);if(P!=0)for(var L=0;L<x;L++)k[L]=R[L];if(j.blend==0?d(A,m,g,R,l,h,b,U,0):j.blend==1&&d(A,m,g,R,l,h,b,U,1),p.push(R.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)d(w,m,g,R,l,h,b,U,0);else if(j.dispose==2)for(L=0;L<x;L++)R[L]=k[L]}}return p},_paeth:s,_copyTile:d,_bin:e}})();(function(){const{_copyTile:e}=Pe,{_bin:t}=Pe,i=Pe._paeth;var o={table:(function(){const m=new Uint32Array(256);for(let g=0;g<256;g++){let A=g;for(let _=0;_<8;_++)1&A?A=3988292384^A>>>1:A>>>=1;m[g]=A}return m})(),update(m,g,A,_){for(let S=0;S<_;S++)m=o.table[255&(m^g[A+S])]^m>>>8;return m},crc:(m,g,A)=>4294967295^o.update(4294967295,m,g,A)};function n(m,g,A,_){g[A]+=m[0]*_>>4,g[A+1]+=m[1]*_>>4,g[A+2]+=m[2]*_>>4,g[A+3]+=m[3]*_>>4}function r(m){return Math.max(0,Math.min(255,m))}function a(m,g){const A=m[0]-g[0],_=m[1]-g[1],S=m[2]-g[2],C=m[3]-g[3];return A*A+_*_+S*S+C*C}function s(m,g,A,_,S,C,E){E==null&&(E=1);const O=_.length,v=[];for(var y=0;y<O;y++){const D=_[y];v.push([D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255])}for(y=0;y<O;y++){let D=4294967295;for(var F=0,M=0;M<O;M++){var N=a(v[y],v[M]);M!=y&&N<D&&(D=N,F=M)}}const I=new Uint32Array(S.buffer),T=new Int16Array(g*A*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(y=0;y<B.length;y++)B[y]=255*((B[y]+.5)/16-.5);for(let D=0;D<A;D++)for(let H=0;H<g;H++){var $;y=4*(D*g+H),E!=2?$=[r(m[y]+T[y]),r(m[y+1]+T[y+1]),r(m[y+2]+T[y+2]),r(m[y+3]+T[y+3])]:(N=B[4*(3&D)+(3&H)],$=[r(m[y]+N),r(m[y+1]+N),r(m[y+2]+N),r(m[y+3]+N)]),F=0;let z=16777215;for(M=0;M<O;M++){const Z=a($,v[M]);Z<z&&(z=Z,F=M)}const W=v[F],Y=[$[0]-W[0],$[1]-W[1],$[2]-W[2],$[3]-W[3]];E==1&&(H!=g-1&&n(Y,T,y+4,7),D!=A-1&&(H!=0&&n(Y,T,y+4*g-4,3),n(Y,T,y+4*g,5),H!=g-1&&n(Y,T,y+4*g+4,1))),C[y>>2]=F,I[y>>2]=_[F]}}function f(m,g,A,_,S){S==null&&(S={});const{crc:C}=o,E=t.writeUint,O=t.writeUshort,v=t.writeASCII;let y=8;const F=m.frames.length>1;let M,N=!1,I=33+(F?20:0);if(S.sRGB!=null&&(I+=13),S.pHYs!=null&&(I+=21),S.iCCP!=null&&(M=pako.deflate(S.iCCP),I+=21+M.length+4),m.ctype==3){for(var T=m.plte.length,B=0;B<T;B++)m.plte[B]>>>24!=255&&(N=!0);I+=8+3*T+4+(N?8+1*T+4:0)}for(var $=0;$<m.frames.length;$++)F&&(I+=38),I+=(W=m.frames[$]).cimg.length+12,$!=0&&(I+=4);I+=12;const D=new Uint8Array(I),H=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)D[B]=H[B];if(E(D,y,13),y+=4,v(D,y,"IHDR"),y+=4,E(D,y,g),y+=4,E(D,y,A),y+=4,D[y]=m.depth,y++,D[y]=m.ctype,y++,D[y]=0,y++,D[y]=0,y++,D[y]=0,y++,E(D,y,C(D,y-17,17)),y+=4,S.sRGB!=null&&(E(D,y,1),y+=4,v(D,y,"sRGB"),y+=4,D[y]=S.sRGB,y++,E(D,y,C(D,y-5,5)),y+=4),S.iCCP!=null){const Y=13+M.length;E(D,y,Y),y+=4,v(D,y,"iCCP"),y+=4,v(D,y,"ICC profile"),y+=11,y+=2,D.set(M,y),y+=M.length,E(D,y,C(D,y-(Y+4),Y+4)),y+=4}if(S.pHYs!=null&&(E(D,y,9),y+=4,v(D,y,"pHYs"),y+=4,E(D,y,S.pHYs[0]),y+=4,E(D,y,S.pHYs[1]),y+=4,D[y]=S.pHYs[2],y++,E(D,y,C(D,y-13,13)),y+=4),F&&(E(D,y,8),y+=4,v(D,y,"acTL"),y+=4,E(D,y,m.frames.length),y+=4,E(D,y,S.loop!=null?S.loop:0),y+=4,E(D,y,C(D,y-12,12)),y+=4),m.ctype==3){for(E(D,y,3*(T=m.plte.length)),y+=4,v(D,y,"PLTE"),y+=4,B=0;B<T;B++){const Y=3*B,Z=m.plte[B],ne=255&Z,te=Z>>>8&255,We=Z>>>16&255;D[y+Y+0]=ne,D[y+Y+1]=te,D[y+Y+2]=We}if(y+=3*T,E(D,y,C(D,y-3*T-4,3*T+4)),y+=4,N){for(E(D,y,T),y+=4,v(D,y,"tRNS"),y+=4,B=0;B<T;B++)D[y+B]=m.plte[B]>>>24&255;y+=T,E(D,y,C(D,y-T-4,T+4)),y+=4}}let z=0;for($=0;$<m.frames.length;$++){var W=m.frames[$];F&&(E(D,y,26),y+=4,v(D,y,"fcTL"),y+=4,E(D,y,z++),y+=4,E(D,y,W.rect.width),y+=4,E(D,y,W.rect.height),y+=4,E(D,y,W.rect.x),y+=4,E(D,y,W.rect.y),y+=4,O(D,y,_[$]),y+=2,O(D,y,1e3),y+=2,D[y]=W.dispose,y++,D[y]=W.blend,y++,E(D,y,C(D,y-30,30)),y+=4);const Y=W.cimg;E(D,y,(T=Y.length)+($==0?0:4)),y+=4;const Z=y;v(D,y,$==0?"IDAT":"fdAT"),y+=4,$!=0&&(E(D,y,z++),y+=4),D.set(Y,y),y+=T,E(D,y,C(D,Z,y-Z)),y+=4}return E(D,y,0),y+=4,v(D,y,"IEND"),y+=4,E(D,y,C(D,y-4,4)),y+=4,D.buffer}function d(m,g,A){for(let _=0;_<m.frames.length;_++){const S=m.frames[_];S.rect.width;const C=S.rect.height,E=new Uint8Array(C*S.bpl+C);S.cimg=h(S.img,C,S.bpp,S.bpl,E,g,A)}}function c(m,g,A,_,S){const C=S[0],E=S[1],O=S[2],v=S[3],y=S[4],F=S[5];let M=6,N=8,I=255;for(var T=0;T<m.length;T++){const ye=new Uint8Array(m[T]);for(var B=ye.length,$=0;$<B;$+=4)I&=ye[$+3]}const D=I!=255,H=(function(se,re,pe,be,ce,_e){const le=[];for(var oe=0;oe<se.length;oe++){const we=new Uint8Array(se[oe]),Le=new Uint32Array(we.buffer);var Ie;let Ce=0,$e=0,Oe=re,Xe=pe,Zt=be?1:0;if(oe!=0){const Kr=_e||be||oe==1||le[oe-2].dispose!=0?1:2;let Jt=0,Un=1e9;for(let gt=0;gt<Kr;gt++){var Be=new Uint8Array(se[oe-1-gt]);const Zr=new Uint32Array(se[oe-1-gt]);let Ge=re,He=pe,it=-1,yt=-1;for(let Qe=0;Qe<pe;Qe++)for(let Ke=0;Ke<re;Ke++)Le[me=Qe*re+Ke]!=Zr[me]&&(Ke<Ge&&(Ge=Ke),Ke>it&&(it=Ke),Qe<He&&(He=Qe),Qe>yt&&(yt=Qe));it==-1&&(Ge=He=it=yt=0),ce&&((1&Ge)==1&&Ge--,(1&He)==1&&He--);const Tn=(it-Ge+1)*(yt-He+1);Tn<Un&&(Un=Tn,Jt=gt,Ce=Ge,$e=He,Oe=it-Ge+1,Xe=yt-He+1)}Be=new Uint8Array(se[oe-1-Jt]),Jt==1&&(le[oe-1].dispose=2),Ie=new Uint8Array(Oe*Xe*4),e(Be,re,pe,Ie,Oe,Xe,-Ce,-$e,0),Zt=e(we,re,pe,Ie,Oe,Xe,-Ce,-$e,3)?1:0,Zt==1?l(we,re,pe,Ie,{x:Ce,y:$e,width:Oe,height:Xe}):e(we,re,pe,Ie,Oe,Xe,-Ce,-$e,0)}else Ie=we.slice(0);le.push({rect:{x:Ce,y:$e,width:Oe,height:Xe},img:Ie,blend:Zt,dispose:0})}if(be)for(oe=0;oe<le.length;oe++){if((Ve=le[oe]).blend==1)continue;const we=Ve.rect,Le=le[oe-1].rect,Ce=Math.min(we.x,Le.x),$e=Math.min(we.y,Le.y),Oe={x:Ce,y:$e,width:Math.max(we.x+we.width,Le.x+Le.width)-Ce,height:Math.max(we.y+we.height,Le.y+Le.height)-$e};le[oe-1].dispose=1,oe-1!=0&&u(se,re,pe,le,oe-1,Oe,ce),u(se,re,pe,le,oe,Oe,ce)}let _t=0;if(se.length!=1)for(var me=0;me<le.length;me++){var Ve;_t+=(Ve=le[me]).rect.width*Ve.rect.height}return le})(m,g,A,C,E,O),z={},W=[],Y=[];if(_!=0){const ye=[];for($=0;$<H.length;$++)ye.push(H[$].img.buffer);const se=(function(ce){let _e=0;for(var le=0;le<ce.length;le++)_e+=ce[le].byteLength;const oe=new Uint8Array(_e);let Ie=0;for(le=0;le<ce.length;le++){const Be=new Uint8Array(ce[le]),_t=Be.length;for(let me=0;me<_t;me+=4){let Ve=Be[me],we=Be[me+1],Le=Be[me+2];const Ce=Be[me+3];Ce==0&&(Ve=we=Le=0),oe[Ie+me]=Ve,oe[Ie+me+1]=we,oe[Ie+me+2]=Le,oe[Ie+me+3]=Ce}Ie+=_t}return oe.buffer})(ye),re=x(se,_);for($=0;$<re.plte.length;$++)W.push(re.plte[$].est.rgba);let pe=0;for($=0;$<H.length;$++){const be=(ne=H[$]).img.length;var Z=new Uint8Array(re.inds.buffer,pe>>2,be>>2);Y.push(Z);const ce=new Uint8Array(re.abuf,pe,be);F&&s(ne.img,ne.rect.width,ne.rect.height,W,ce,Z),ne.img.set(ce),pe+=be}}else for(T=0;T<H.length;T++){var ne=H[T];const ye=new Uint32Array(ne.img.buffer);var te=ne.rect.width;for(B=ye.length,Z=new Uint8Array(B),Y.push(Z),$=0;$<B;$++){const se=ye[$];if($!=0&&se==ye[$-1])Z[$]=Z[$-1];else if($>te&&se==ye[$-te])Z[$]=Z[$-te];else{let re=z[se];if(re==null&&(z[se]=re=W.length,W.push(se),W.length>=300))break;Z[$]=re}}}const We=W.length;for(We<=256&&y==0&&(N=We<=2?1:We<=4?2:We<=16?4:8,N=Math.max(N,v)),T=0;T<H.length;T++){(ne=H[T]).rect.x,ne.rect.y,te=ne.rect.width;const ye=ne.rect.height;let se=ne.img;new Uint32Array(se.buffer);let re=4*te,pe=4;if(We<=256&&y==0){re=Math.ceil(N*te/8);var ke=new Uint8Array(re*ye);const be=Y[T];for(let ce=0;ce<ye;ce++){$=ce*re;const _e=ce*te;if(N==8)for(var ae=0;ae<te;ae++)ke[$+ae]=be[_e+ae];else if(N==4)for(ae=0;ae<te;ae++)ke[$+(ae>>1)]|=be[_e+ae]<<4-4*(1&ae);else if(N==2)for(ae=0;ae<te;ae++)ke[$+(ae>>2)]|=be[_e+ae]<<6-2*(3&ae);else if(N==1)for(ae=0;ae<te;ae++)ke[$+(ae>>3)]|=be[_e+ae]<<7-1*(7&ae)}se=ke,M=3,pe=1}else if(D==0&&H.length==1){ke=new Uint8Array(te*ye*3);const be=te*ye;for($=0;$<be;$++){const ce=3*$,_e=4*$;ke[ce]=se[_e],ke[ce+1]=se[_e+1],ke[ce+2]=se[_e+2]}se=ke,M=2,pe=3,re=3*te}ne.img=se,ne.bpl=re,ne.bpp=pe}return{ctype:M,depth:N,plte:W,frames:H}}function u(m,g,A,_,S,C,E){const O=Uint8Array,v=Uint32Array,y=new O(m[S-1]),F=new v(m[S-1]),M=S+1<m.length?new O(m[S+1]):null,N=new O(m[S]),I=new v(N.buffer);let T=g,B=A,$=-1,D=-1;for(let z=0;z<C.height;z++)for(let W=0;W<C.width;W++){const Y=C.x+W,Z=C.y+z,ne=Z*g+Y,te=I[ne];te==0||_[S-1].dispose==0&&F[ne]==te&&(M==null||M[4*ne+3]!=0)||(Y<T&&(T=Y),Y>$&&($=Y),Z<B&&(B=Z),Z>D&&(D=Z))}$==-1&&(T=B=$=D=0),E&&((1&T)==1&&T--,(1&B)==1&&B--),C={x:T,y:B,width:$-T+1,height:D-B+1};const H=_[S];H.rect=C,H.blend=1,H.img=new Uint8Array(C.width*C.height*4),_[S-1].dispose==0?(e(y,g,A,H.img,C.width,C.height,-C.x,-C.y,0),l(N,g,A,H.img,C)):e(N,g,A,H.img,C.width,C.height,-C.x,-C.y,0)}function l(m,g,A,_,S){e(m,g,A,_,S.width,S.height,-S.x,-S.y,2)}function h(m,g,A,_,S,C,E){const O=[];let v,y=[0,1,2,3,4];C!=-1?y=[C]:(g*_>5e5||A==1)&&(y=[0]),E&&(v={level:0});const F=Es;for(var M=0;M<y.length;M++){for(let T=0;T<g;T++)p(S,m,T,_,A,y[M]);O.push(F.deflate(S,v))}let N,I=1e9;for(M=0;M<O.length;M++)O[M].length<I&&(N=M,I=O[M].length);return O[N]}function p(m,g,A,_,S,C){const E=A*_;let O=E+A;if(m[O]=C,O++,C==0)if(_<500)for(var v=0;v<_;v++)m[O+v]=g[E+v];else m.set(new Uint8Array(g.buffer,E,_),O);else if(C==1){for(v=0;v<S;v++)m[O+v]=g[E+v];for(v=S;v<_;v++)m[O+v]=g[E+v]-g[E+v-S]+256&255}else if(A==0){for(v=0;v<S;v++)m[O+v]=g[E+v];if(C==2)for(v=S;v<_;v++)m[O+v]=g[E+v];if(C==3)for(v=S;v<_;v++)m[O+v]=g[E+v]-(g[E+v-S]>>1)+256&255;if(C==4)for(v=S;v<_;v++)m[O+v]=g[E+v]-i(g[E+v-S],0,0)+256&255}else{if(C==2)for(v=0;v<_;v++)m[O+v]=g[E+v]+256-g[E+v-_]&255;if(C==3){for(v=0;v<S;v++)m[O+v]=g[E+v]+256-(g[E+v-_]>>1)&255;for(v=S;v<_;v++)m[O+v]=g[E+v]+256-(g[E+v-_]+g[E+v-S]>>1)&255}if(C==4){for(v=0;v<S;v++)m[O+v]=g[E+v]+256-i(0,g[E+v-_],0)&255;for(v=S;v<_;v++)m[O+v]=g[E+v]+256-i(g[E+v-S],g[E+v-_],g[E+v-S-_])&255}}}function x(m,g){const A=new Uint8Array(m),_=A.slice(0),S=new Uint32Array(_.buffer),C=R(_,g),E=C[0],O=C[1],v=A.length,y=new Uint8Array(v>>2);let F;if(A.length<2e7)for(var M=0;M<v;M+=4)F=w(E,N=A[M]*(1/255),I=A[M+1]*(1/255),T=A[M+2]*(1/255),B=A[M+3]*(1/255)),y[M>>2]=F.ind,S[M>>2]=F.est.rgba;else for(M=0;M<v;M+=4){var N=A[M]*.00392156862745098,I=A[M+1]*(1/255),T=A[M+2]*(1/255),B=A[M+3]*(1/255);for(F=E;F.left;)F=k(F.est,N,I,T,B)<=0?F.left:F.right;y[M>>2]=F.ind,S[M>>2]=F.est.rgba}return{abuf:_.buffer,inds:y,plte:O}}function R(m,g,A){A==null&&(A=1e-4);const _=new Uint32Array(m.buffer),S={i0:0,i1:m.length,bst:null,est:null,tdst:0,left:null,right:null};S.bst=j(m,S.i0,S.i1),S.est=b(S.bst);const C=[S];for(;C.length<g;){let O=0,v=0;for(var E=0;E<C.length;E++)C[E].est.L>O&&(O=C[E].est.L,v=E);if(O<A)break;const y=C[v],F=L(m,_,y.i0,y.i1,y.est.e,y.est.eMq255);if(y.i0>=F||y.i1<=F){y.est.L=0;continue}const M={i0:y.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};M.bst=j(m,M.i0,M.i1),M.est=b(M.bst);const N={i0:F,i1:y.i1,bst:null,est:null,tdst:0,left:null,right:null};for(N.bst={R:[],m:[],N:y.bst.N-M.bst.N},E=0;E<16;E++)N.bst.R[E]=y.bst.R[E]-M.bst.R[E];for(E=0;E<4;E++)N.bst.m[E]=y.bst.m[E]-M.bst.m[E];N.est=b(N.bst),y.left=M,y.right=N,C[v]=M,C.push(N)}for(C.sort(((O,v)=>v.bst.N-O.bst.N)),E=0;E<C.length;E++)C[E].ind=E;return[S,C]}function w(m,g,A,_,S){if(m.left==null)return m.tdst=(function(M,N,I,T,B){const $=N-M[0],D=I-M[1],H=T-M[2],z=B-M[3];return $*$+D*D+H*H+z*z})(m.est.q,g,A,_,S),m;const C=k(m.est,g,A,_,S);let E=m.left,O=m.right;C>0&&(E=m.right,O=m.left);const v=w(E,g,A,_,S);if(v.tdst<=C*C)return v;const y=w(O,g,A,_,S);return y.tdst<v.tdst?y:v}function k(m,g,A,_,S){const{e:C}=m;return C[0]*g+C[1]*A+C[2]*_+C[3]*S-m.eMq}function L(m,g,A,_,S,C){for(_-=4;A<_;){for(;P(m,A,S)<=C;)A+=4;for(;P(m,_,S)>C;)_-=4;if(A>=_)break;const E=g[A>>2];g[A>>2]=g[_>>2],g[_>>2]=E,A+=4,_-=4}for(;P(m,A,S)>C;)A-=4;return A+4}function P(m,g,A){return m[g]*A[0]+m[g+1]*A[1]+m[g+2]*A[2]+m[g+3]*A[3]}function j(m,g,A){const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,0,0,0],C=A-g>>2;for(let E=g;E<A;E+=4){const O=m[E]*.00392156862745098,v=m[E+1]*(1/255),y=m[E+2]*(1/255),F=m[E+3]*(1/255);S[0]+=O,S[1]+=v,S[2]+=y,S[3]+=F,_[0]+=O*O,_[1]+=O*v,_[2]+=O*y,_[3]+=O*F,_[5]+=v*v,_[6]+=v*y,_[7]+=v*F,_[10]+=y*y,_[11]+=y*F,_[15]+=F*F}return _[4]=_[1],_[8]=_[2],_[9]=_[6],_[12]=_[3],_[13]=_[7],_[14]=_[11],{R:_,m:S,N:C}}function b(m){const{R:g}=m,{m:A}=m,{N:_}=m,S=A[0],C=A[1],E=A[2],O=A[3],v=_==0?0:1/_,y=[g[0]-S*S*v,g[1]-S*C*v,g[2]-S*E*v,g[3]-S*O*v,g[4]-C*S*v,g[5]-C*C*v,g[6]-C*E*v,g[7]-C*O*v,g[8]-E*S*v,g[9]-E*C*v,g[10]-E*E*v,g[11]-E*O*v,g[12]-O*S*v,g[13]-O*C*v,g[14]-O*E*v,g[15]-O*O*v],F=y,M=U;let N=[Math.random(),Math.random(),Math.random(),Math.random()],I=0,T=0;if(_!=0)for(let $=0;$<16&&(N=M.multVec(F,N),T=Math.sqrt(M.dot(N,N)),N=M.sml(1/T,N),!($!=0&&Math.abs(T-I)<1e-9));$++)I=T;const B=[S*v,C*v,E*v,O*v];return{Cov:y,q:B,e:N,L:I,eMq255:M.dot(M.sml(255,B),N),eMq:M.dot(N,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var U={multVec:(m,g)=>[m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],m[4]*g[0]+m[5]*g[1]+m[6]*g[2]+m[7]*g[3],m[8]*g[0]+m[9]*g[1]+m[10]*g[2]+m[11]*g[3],m[12]*g[0]+m[13]*g[1]+m[14]*g[2]+m[15]*g[3]],dot:(m,g)=>m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],sml:(m,g)=>[m*g[0],m*g[1],m*g[2],m*g[3]]};Pe.encode=function(g,A,_,S,C,E,O){S==null&&(S=0),O==null&&(O=!1);const v=c(g,A,_,S,[!1,!1,!1,0,O,!1]);return d(v,-1),f(v,A,_,C,E)},Pe.encodeLL=function(g,A,_,S,C,E,O,v){const y={ctype:0+(S==1?0:2)+(C==0?0:4),depth:E,frames:[]},F=(S+C)*E,M=F*A;for(let N=0;N<g.length;N++)y.frames.push({rect:{x:0,y:0,width:A,height:_},img:new Uint8Array(g[N]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(M/8)});return d(y,0,!0),f(y,A,_,O,v)},Pe.encode.compress=c,Pe.encode.dither=s,Pe.quantize=x,Pe.quantize.getKDtree=R,Pe.quantize.getNearest=w})();const Br={toArrayBuffer(e,t){const i=e.width,o=e.height,n=i<<2,r=e.getContext("2d").getImageData(0,0,i,o),a=new Uint32Array(r.data.buffer),s=(32*i+31)/32<<2,f=s*o,d=122+f,c=new ArrayBuffer(d),u=new DataView(c),l=1<<20;let h,p,x,R,w=l,k=0,L=0,P=0;function j(m){u.setUint16(L,m,!0),L+=2}function b(m){u.setUint32(L,m,!0),L+=4}function U(m){L+=m}j(19778),b(d),U(4),b(122),b(108),b(i),b(-o>>>0),j(1),j(32),b(3),b(f),b(2835),b(2835),U(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),(function m(){for(;k<o&&w>0;){for(R=122+k*s,h=0;h<n;)w--,p=a[P++],x=p>>>24,u.setUint32(R+h,p<<8|x),h+=4;k++}P<a.length?(w=l,setTimeout(m,Br._dly)):t(c)})()},toBlob(e,t){this.toArrayBuffer(e,(i=>{t(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var Se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Rs={[Se.CHROME]:16384,[Se.FIREFOX]:11180,[Se.DESKTOP_SAFARI]:16384,[Se.IE]:8192,[Se.IOS]:4096,[Se.ETC]:8192};const Ln=typeof window<"u",Gr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Nt=Ln&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ls=(Ln||Gr)&&(Nt&&Nt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Hr=(Ln||Gr)&&(Nt&&Nt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Pn(e,t,i=Date.now()){return new Promise((o=>{const n=e.split(","),r=n[0].match(/:(.*?);/)[1],a=globalThis.atob(n[1]);let s=a.length;const f=new Uint8Array(s);for(;s--;)f[s]=a.charCodeAt(s);const d=new Blob([f],{type:r});d.name=t,d.lastModified=i,o(d)}))}function zr(e){return new Promise(((t,i)=>{const o=new Hr;o.onload=()=>t(o.result),o.onerror=n=>i(n),o.readAsDataURL(e)}))}function Yr(e){return new Promise(((t,i)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n=>i(n),o.src=e}))}function Je(){if(Je.cachedResult!==void 0)return Je.cachedResult;let e=Se.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Se.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Se.IOS:/Safari/i.test(t)?e=Se.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Se.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Se.IE),Je.cachedResult=e,Je.cachedResult}function qr(e,t){const i=Je(),o=Rs[i];let n=e,r=t,a=n*r;const s=n>r?r/n:n/r;for(;a>o*o;){const f=(o+n)/2,d=(o+r)/2;f<d?(r=d,n=d*s):(r=f*s,n=f),a=n*r}return{width:n,height:r}}function Kt(e,t){let i,o;try{if(i=new OffscreenCanvas(e,t),o=i.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),o=i.getContext("2d")}return i.width=e,i.height=t,[i,o]}function Wr(e,t){const{width:i,height:o}=qr(e.width,e.height),[n,r]=Kt(i,o);return t&&/jpe?g/.test(t)&&(r.fillStyle="white",r.fillRect(0,0,n.width,n.height)),r.drawImage(e,0,0,n.width,n.height),n}function kt(){return kt.cachedResult!==void 0||(kt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),kt.cachedResult}function Bt(e,t={}){return new Promise((function(i,o){let n,r;var a=function(){try{return r=Wr(n,t.fileType||e.type),i([n,r])}catch(f){return o(f)}},s=function(f){try{var d=function(c){try{throw c}catch(u){return o(u)}};try{let c;return zr(e).then((function(u){try{return c=u,Yr(c).then((function(l){try{return n=l,(function(){try{return a()}catch(h){return o(h)}})()}catch(h){return d(h)}}),d)}catch(l){return d(l)}}),d)}catch(c){d(c)}}catch(c){return o(c)}};try{if(kt()||[Se.DESKTOP_SAFARI,Se.MOBILE_SAFARI].includes(Je()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(f){try{return n=f,a()}catch{return s()}}),s)}catch{s()}}))}function Gt(e,t,i,o,n=1){return new Promise((function(r,a){let s;if(t==="image/png"){let d,c,u;return d=e.getContext("2d"),{data:c}=d.getImageData(0,0,e.width,e.height),u=Pe.encode([c.buffer],e.width,e.height,4096*n),s=new Blob([u],{type:t}),s.name=i,s.lastModified=o,f.call(this)}{let d=function(){return f.call(this)};if(t==="image/bmp")return new Promise((c=>Br.toBlob(e,c))).then((function(c){try{return s=c,s.name=i,s.lastModified=o,d.call(this)}catch(u){return a(u)}}).bind(this),a);{let c=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:n}).then((function(u){try{return s=u,s.name=i,s.lastModified=o,c.call(this)}catch(l){return a(l)}}).bind(this),a);{let u;return u=e.toDataURL(t,n),Pn(u,i,o).then((function(l){try{return s=l,c.call(this)}catch(h){return a(h)}}).bind(this),a)}}}function f(){return r(s)}}))}function De(e){e.width=0,e.height=0}function lt(){return new Promise((function(e,t){let i,o,n,r;return lt.cachedResult!==void 0?e(lt.cachedResult):Pn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(a){try{return i=a,Bt(i).then((function(s){try{return o=s[1],Gt(o,i.type,i.name,i.lastModified).then((function(f){try{return n=f,De(o),Bt(n).then((function(d){try{return r=d[0],lt.cachedResult=r.width===1&&r.height===2,e(lt.cachedResult)}catch(c){return t(c)}}),t)}catch(d){return t(d)}}),t)}catch(f){return t(f)}}),t)}catch(s){return t(s)}}),t)}))}function Vr(e){return new Promise(((t,i)=>{const o=new Hr;o.onload=n=>{const r=new DataView(n.target.result);if(r.getUint16(0,!1)!=65496)return t(-2);const a=r.byteLength;let s=2;for(;s<a;){if(r.getUint16(s+2,!1)<=8)return t(-1);const f=r.getUint16(s,!1);if(s+=2,f==65505){if(r.getUint32(s+=2,!1)!=1165519206)return t(-1);const d=r.getUint16(s+=6,!1)==18761;s+=r.getUint32(s+4,d);const c=r.getUint16(s,d);s+=2;for(let u=0;u<c;u++)if(r.getUint16(s+12*u,d)==274)return t(r.getUint16(s+12*u+8,d))}else{if((65280&f)!=65280)break;s+=r.getUint16(s,!1)}}return t(-1)},o.onerror=n=>i(n),o.readAsArrayBuffer(e)}))}function Xr(e,t){const{width:i}=e,{height:o}=e,{maxWidthOrHeight:n}=t;let r,a=e;return isFinite(n)&&(i>n||o>n)&&([a,r]=Kt(i,o),i>o?(a.width=n,a.height=o/i*n):(a.width=i/o*n,a.height=n),r.drawImage(e,0,0,a.width,a.height),De(e)),a}function Qr(e,t){const{width:i}=e,{height:o}=e,[n,r]=Kt(i,o);switch(t>4&&t<9?(n.width=o,n.height=i):(n.width=i,n.height=o),t){case 2:r.transform(-1,0,0,1,i,0);break;case 3:r.transform(-1,0,0,-1,i,o);break;case 4:r.transform(1,0,0,-1,0,o);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,o,0);break;case 7:r.transform(0,-1,-1,0,o,i);break;case 8:r.transform(0,-1,1,0,0,i)}return r.drawImage(e,0,0,i,o),De(e),n}function sr(e,t,i=0){return new Promise((function(o,n){let r,a,s,f,d,c,u,l,h,p,x,R,w,k,L,P,j,b,U,m;function g(_=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;r+=_,t.onProgress(Math.min(r,100))}function A(_){if(t.signal&&t.signal.aborted)throw t.signal.reason;r=Math.min(Math.max(_,r),100),t.onProgress(r)}return r=i,a=t.maxIteration||10,s=1024*t.maxSizeMB*1024,g(),Bt(e,t).then((function(_){try{return[,f]=_,g(),d=Xr(f,t),g(),new Promise((function(S,C){var E;if(!(E=t.exifOrientation))return Vr(e).then((function(v){try{return E=v,O.call(this)}catch(y){return C(y)}}).bind(this),C);function O(){return S(E)}return O.call(this)})).then((function(S){try{return c=S,g(),lt().then((function(C){try{return u=C?d:Qr(d,c),g(),l=t.initialQuality||1,h=t.fileType||e.type,Gt(u,h,e.name,e.lastModified,l).then((function(E){try{{let v=function(){if(a--&&(L>s||L>w)){let F,M;return F=m?.95*U.width:U.width,M=m?.95*U.height:U.height,[j,b]=Kt(F,M),b.drawImage(U,0,0,F,M),l*=h==="image/png"?.85:.95,Gt(j,h,e.name,e.lastModified,l).then((function(N){try{return P=N,De(U),U=j,L=P.size,A(Math.min(99,Math.floor((k-L)/(k-s)*100))),v}catch(I){return n(I)}}),n)}return[1]},y=function(){return De(U),De(j),De(d),De(u),De(f),A(100),o(P)};if(p=E,g(),x=p.size>s,R=p.size>e.size,!x&&!R)return A(100),o(p);var O;return w=e.size,k=p.size,L=k,U=u,m=!t.alwaysKeepResolution&&x,(O=(function(F){for(;F;){if(F.then)return void F.then(O,n);try{if(F.pop){if(F.length)return F.pop()?y.call(this):F;F=v}else F=F.call(this)}catch(M){return n(M)}}}).bind(this))(v)}}catch(v){return n(v)}}).bind(this),n)}catch(E){return n(E)}}).bind(this),n)}catch(C){return n(C)}}).bind(this),n)}catch(S){return n(S)}}).bind(this),n)}))}const Ps=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let dn;function Us(e,t){return new Promise(((i,o)=>{dn||(dn=(function(a){const s=[];return s.push(a),URL.createObjectURL(new Blob(s))})(Ps));const n=new Worker(dn);n.addEventListener("message",(function(a){if(t.signal&&t.signal.aborted)n.terminate();else if(a.data.progress===void 0){if(a.data.error)return o(new Error(a.data.error)),void n.terminate();i(a.data.file),n.terminate()}else t.onProgress(a.data.progress)})),n.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",(()=>{o(t.signal.reason),n.terminate()})),n.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function xe(e,t){return new Promise((function(i,o){let n,r,a,s,f,d;if(n={...t},a=0,{onProgress:s}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=h=>{a=h,typeof s=="function"&&s(a)},!(e instanceof Blob||e instanceof Ls))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||d)return sr(e,n).then((function(h){try{return r=h,l.call(this)}catch(p){return o(p)}}).bind(this),o);var c=(function(){try{return l.call(this)}catch(h){return o(h)}}).bind(this),u=function(h){try{return sr(e,n).then((function(p){try{return r=p,c()}catch(x){return o(x)}}),o)}catch(p){return o(p)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Us(e,n).then((function(h){try{return r=h,c()}catch{return u()}}),u)}catch{u()}function l(){try{r.name=e.name,r.lastModified=e.lastModified}catch{}try{n.preserveExif&&e.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===e.type)&&(r=Nr(e,r))}catch{}return i(r)}}))}xe.getDataUrlFromFile=zr,xe.getFilefromDataUrl=Pn,xe.loadImage=Yr,xe.drawImageInCanvas=Wr,xe.drawFileInCanvas=Bt,xe.canvasToFile=Gt,xe.getExifOrientation=Vr,xe.handleMaxWidthOrHeight=Xr,xe.followExifOrientation=Qr,xe.cleanupCanvasMemory=De,xe.isAutoOrientationInBrowser=lt,xe.approximateBelowMaximumCanvasSizeOfBrowser=qr,xe.copyExifWithoutOrientation=Nr,xe.getBrowserName=Je,xe.version="2.0.2";const Ts=async e=>{const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("").substring(0,12)},ks=()=>{const{state:e}=ge(),{start:t,stop:i}=ot(),o=ee.useRef(null),n=async r=>{if(!e.imgCtx)return;if(!e.ftype){console.error("uploaded image don't have a FileType");return}const a=e.ftype;t();const s=await new Promise(x=>{e.imgCtx.canvas.toBlob(R=>{const w=new File([R],`out.${a.ext}`,{type:a.mime});x(w)},a.mime,r)});r===100&&(r=0);const c={maxSizeMB:s.size/(1024*1024)*r/100/1024,maxWidthOrHeight:void 0,useWebWorker:!0,alwaysKeepResolution:!0,initialQuality:r/100},u=await xe(s,c),l=await Ts(await u.arrayBuffer()),h=URL.createObjectURL(u),p=document.createElement("a");p.href=h,p.download=`${l}.gif`,p.click(),URL.revokeObjectURL(h),i()};return G.jsxs(Dr,{direction:"col",children:[G.jsx(Rn,{id:"imageQuality",label:"Quality",ref:o,type:"range",step:1,min:10,max:100,defaultValue:100}),G.jsx(tt,{$full:!0,type:"button",onClick:()=>n(Number(o.current)),children:"Export"})]})},Os=ee.lazy(()=>_s(()=>import("./gif-export-_H2RXkF5.js"),[])),Vs=()=>{const e=he.c(22),{state:t}=ge(),[i,o]=ee.useState("Image");if(!t.imgCtx){let j;return e[0]===Symbol.for("react.memo_cache_sentinel")?(j=G.jsx("div",{}),e[0]=j):j=e[0],j}let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=j=>{o(j)},e[1]=n):n=e[1];const r=n;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=G.jsx(Mr,{style:{marginBottom:"12px"},children:"Export"}),e[2]=a):a=e[2];let s,f;e[3]===Symbol.for("react.memo_cache_sentinel")?(s={marginBottom:"12px"},f=G.jsx(je,{variant:"secondary",size:"small",children:"Output Format"}),e[3]=s,e[4]=f):(s=e[3],f=e[4]);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={cursor:"pointer"},e[5]=d):d=e[5];const c=i==="Image"?"primary":"secondary";let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>r("Image"),e[6]=u):u=e[6];let l;e[7]!==c?(l=G.jsx(je,{style:d,size:"small",variant:c,onClick:u,children:"Image"}),e[7]=c,e[8]=l):l=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=G.jsx("span",{children:"/"}),e[9]=h):h=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p={cursor:"pointer"},e[10]=p):p=e[10];const x=i==="GIF"?"primary":"secondary";let R;e[11]===Symbol.for("react.memo_cache_sentinel")?(R=()=>r("GIF"),e[11]=R):R=e[11];let w;e[12]!==x?(w=G.jsx(je,{style:p,size:"small",variant:x,onClick:R,children:"GIF"}),e[12]=x,e[13]=w):w=e[13];let k;e[14]!==w||e[15]!==l?(k=G.jsxs($t,{style:s,children:[f,G.jsxs(Ds,{children:[l,h,w]})]}),e[14]=w,e[15]=l,e[16]=k):k=e[16];let L;e[17]!==i?(L=G.jsx(ee.Suspense,{fallback:"Loading...",children:i==="Image"?G.jsx(ks,{}):G.jsx(Os,{})}),e[17]=i,e[18]=L):L=e[18];let P;return e[19]!==k||e[20]!==L?(P=G.jsxs(Ms,{children:[a,k,L]}),e[19]=k,e[20]=L,e[21]=P):P=e[21],P},Ms=K.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,Ds=K.div`
  display: flex;
  align-items: center;
  gap: 0 12px;
`;export{tt as B,$s as C,Vs as E,Dr as F,Ws as G,Ns as H,ko as L,Bs as P,Rn as S,_s as _,ot as a,q as b,Sn as c,oo as d,he as e,Jr as f,Ts as g,K as h,Ys as i,G as j,qs as k,Gs as l,zs as m,ar as n,ao as o,Fs as p,Hs as q,ee as r,js as s,ge as u};

function ko(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ur={exports:{}},_t={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr;function Po(){if(Wr)return _t;Wr=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,n,s){var a=null;if(s!==void 0&&(a=""+s),n.key!==void 0&&(a=""+n.key),"key"in n){s={};for(var i in n)i!=="key"&&(s[i]=n[i])}else s=n;return n=s.ref,{$$typeof:e,type:o,key:a,ref:n!==void 0?n:null,props:s}}return _t.Fragment=t,_t.jsx=r,_t.jsxs=r,_t}var Xr;function To(){return Xr||(Xr=1,ur.exports=Po()),ur.exports}var F=To(),fr={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr;function Uo(){if(Qr)return Q;Qr=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),f=Symbol.iterator;function h(R){return R===null||typeof R!="object"?null:(R=f&&R[f]||R["@@iterator"],typeof R=="function"?R:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function b(R,$,z){this.props=R,this.context=$,this.refs=_,this.updater=z||p}b.prototype.isReactComponent={},b.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function U(){}U.prototype=b.prototype;function P(R,$,z){this.props=R,this.context=$,this.refs=_,this.updater=z||p}var L=P.prototype=new U;L.constructor=P,y(L,b.prototype),L.isPureReactComponent=!0;var M=Array.isArray;function w(){}var k={H:null,A:null,T:null,S:null},v=Object.prototype.hasOwnProperty;function m(R,$,z){var N=z.ref;return{$$typeof:e,type:R,key:$,ref:N!==void 0?N:null,props:z}}function I(R,$){return m(R.type,$,R.props)}function S(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function C(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(z){return $[z]})}var E=/\/+/g;function A(R,$){return typeof R=="object"&&R!==null&&R.key!=null?C(""+R.key):$.toString(36)}function T(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(w,w):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function x(R,$,z,N,D){var H=typeof R;(H==="undefined"||H==="boolean")&&(R=null);var q=!1;if(R===null)q=!0;else switch(H){case"bigint":case"string":case"number":q=!0;break;case"object":switch(R.$$typeof){case e:case t:q=!0;break;case l:return q=R._init,x(q(R._payload),$,z,N,D)}}if(q)return D=D(R),q=N===""?"."+A(R,0):N,M(D)?(z="",q!=null&&(z=q.replace(E,"$&/")+"/"),x(D,$,z,"",function(J){return J})):D!=null&&(S(D)&&(D=I(D,z+(D.key==null||R&&R.key===D.key?"":(""+D.key).replace(E,"$&/")+"/")+q)),$.push(D)),1;q=0;var X=N===""?".":N+":";if(M(R))for(var V=0;V<R.length;V++)N=R[V],H=X+A(N,V),q+=x(N,$,z,H,D);else if(V=h(R),typeof V=="function")for(R=V.call(R),V=0;!(N=R.next()).done;)N=N.value,H=X+A(N,V++),q+=x(N,$,z,H,D);else if(H==="object"){if(typeof R.then=="function")return x(T(R),$,z,N,D);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return q}function g(R,$,z){if(R==null)return R;var N=[],D=0;return x(R,N,"","",function(H){return $.call(z,H,D++)}),N}function O(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(z){(R._status===0||R._status===-1)&&(R._status=1,R._result=z)},function(z){(R._status===0||R._status===-1)&&(R._status=2,R._result=z)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var j=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},B={map:g,forEach:function(R,$,z){g(R,function(){$.apply(this,arguments)},z)},count:function(R){var $=0;return g(R,function(){$++}),$},toArray:function(R){return g(R,function($){return $})||[]},only:function(R){if(!S(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Q.Activity=u,Q.Children=B,Q.Component=b,Q.Fragment=r,Q.Profiler=n,Q.PureComponent=P,Q.StrictMode=o,Q.Suspense=c,Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Q.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Q.cache=function(R){return function(){return R.apply(null,arguments)}},Q.cacheSignal=function(){return null},Q.cloneElement=function(R,$,z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var N=y({},R.props),D=R.key;if($!=null)for(H in $.key!==void 0&&(D=""+$.key),$)!v.call($,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&$.ref===void 0||(N[H]=$[H]);var H=arguments.length-2;if(H===1)N.children=z;else if(1<H){for(var q=Array(H),X=0;X<H;X++)q[X]=arguments[X+2];N.children=q}return m(R.type,D,N)},Q.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Q.createElement=function(R,$,z){var N,D={},H=null;if($!=null)for(N in $.key!==void 0&&(H=""+$.key),$)v.call($,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(D[N]=$[N]);var q=arguments.length-2;if(q===1)D.children=z;else if(1<q){for(var X=Array(q),V=0;V<q;V++)X[V]=arguments[V+2];D.children=X}if(R&&R.defaultProps)for(N in q=R.defaultProps,q)D[N]===void 0&&(D[N]=q[N]);return m(R,H,D)},Q.createRef=function(){return{current:null}},Q.forwardRef=function(R){return{$$typeof:i,render:R}},Q.isValidElement=S,Q.lazy=function(R){return{$$typeof:l,_payload:{_status:-1,_result:R},_init:O}},Q.memo=function(R,$){return{$$typeof:d,type:R,compare:$===void 0?null:$}},Q.startTransition=function(R){var $=k.T,z={};k.T=z;try{var N=R(),D=k.S;D!==null&&D(z,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(w,j)}catch(H){j(H)}finally{$!==null&&z.types!==null&&($.types=z.types),k.T=$}},Q.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Q.use=function(R){return k.H.use(R)},Q.useActionState=function(R,$,z){return k.H.useActionState(R,$,z)},Q.useCallback=function(R,$){return k.H.useCallback(R,$)},Q.useContext=function(R){return k.H.useContext(R)},Q.useDebugValue=function(){},Q.useDeferredValue=function(R,$){return k.H.useDeferredValue(R,$)},Q.useEffect=function(R,$){return k.H.useEffect(R,$)},Q.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Q.useId=function(){return k.H.useId()},Q.useImperativeHandle=function(R,$,z){return k.H.useImperativeHandle(R,$,z)},Q.useInsertionEffect=function(R,$){return k.H.useInsertionEffect(R,$)},Q.useLayoutEffect=function(R,$){return k.H.useLayoutEffect(R,$)},Q.useMemo=function(R,$){return k.H.useMemo(R,$)},Q.useOptimistic=function(R,$){return k.H.useOptimistic(R,$)},Q.useReducer=function(R,$,z){return k.H.useReducer(R,$,z)},Q.useRef=function(R){return k.H.useRef(R)},Q.useState=function(R){return k.H.useState(R)},Q.useSyncExternalStore=function(R,$,z){return k.H.useSyncExternalStore(R,$,z)},Q.useTransition=function(){return k.H.useTransition()},Q.version="19.2.0",Q}var Kr;function $r(){return Kr||(Kr=1,fr.exports=Uo()),fr.exports}var dr={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr;function jo(){if(Zr)return be;Zr=1;var e=$r();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)d+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(c,d,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:u==null?null:""+u,children:c,containerInfo:d,implementation:l}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function i(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,be.createPortal=function(c,d){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(c,d,null,l)},be.flushSync=function(c){var d=a.T,l=o.p;try{if(a.T=null,o.p=2,c)return c()}finally{a.T=d,o.p=l,o.d.f()}},be.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(c,d))},be.prefetchDNS=function(c){typeof c=="string"&&o.d.D(c)},be.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var l=d.as,u=i(l,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,h=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;l==="style"?o.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:u,integrity:f,fetchPriority:h}):l==="script"&&o.d.X(c,{crossOrigin:u,integrity:f,fetchPriority:h,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},be.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var l=i(d.as,d.crossOrigin);o.d.M(c,{crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(c)},be.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var l=d.as,u=i(l,d.crossOrigin);o.d.L(c,l,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},be.preloadModule=function(c,d){if(typeof c=="string")if(d){var l=i(d.as,d.crossOrigin);o.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(c)},be.requestFormReset=function(c){o.d.r(c)},be.unstable_batchedUpdates=function(c,d){return c(d)},be.useFormState=function(c,d,l){return a.H.useFormState(c,d,l)},be.useFormStatus=function(){return a.H.useHostTransitionStatus()},be.version="19.2.0",be}var Jr;function $o(){if(Jr)return dr.exports;Jr=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dr.exports=jo(),dr.exports}var pe=function(){return pe=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pe.apply(this,arguments)};function At(e,t,r){if(r||arguments.length===2)for(var o=0,n=t.length,s;o<n;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var G=$r();const te=ko(G);var ie="-ms-",St="-moz-",ee="-webkit-",Pn="comm",Jt="rule",Mr="decl",Mo="@import",Tn="@keyframes",Do="@layer",Un=Math.abs,Dr=String.fromCharCode,Cr=Object.assign;function Oo(e,t){return he(e,0)^45?(((t<<2^he(e,0))<<2^he(e,1))<<2^he(e,2))<<2^he(e,3):0}function jn(e){return e.trim()}function Be(e,t){return(e=t.exec(e))?e[0]:e}function Z(e,t,r){return e.replace(t,r)}function Dt(e,t,r){return e.indexOf(t,r)}function he(e,t){return e.charCodeAt(t)|0}function dt(e,t,r){return e.slice(t,r)}function De(e){return e.length}function $n(e){return e.length}function Ct(e,t){return t.push(e),e}function No(e,t){return e.map(t).join("")}function en(e,t){return e.filter(function(r){return!Be(r,t)})}var er=1,ht=1,Mn=0,Pe=0,fe=0,vt="";function tr(e,t,r,o,n,s,a,i){return{value:e,root:t,parent:r,type:o,props:n,children:s,line:er,column:ht,length:a,return:"",siblings:i}}function qe(e,t){return Cr(tr("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ct(e){for(;e.root;)e=qe(e.root,{children:[e]});Ct(e,e.siblings)}function Fo(){return fe}function Bo(){return fe=Pe>0?he(vt,--Pe):0,ht--,fe===10&&(ht=1,er--),fe}function je(){return fe=Pe<Mn?he(vt,Pe++):0,ht++,fe===10&&(ht=1,er++),fe}function tt(){return he(vt,Pe)}function Ot(){return Pe}function rr(e,t){return dt(vt,e,t)}function Sr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zo(e){return er=ht=1,Mn=De(vt=e),Pe=0,[]}function Ho(e){return vt="",e}function hr(e){return jn(rr(Pe-1,Ir(e===91?e+2:e===40?e+1:e)))}function Go(e){for(;(fe=tt())&&fe<33;)je();return Sr(e)>2||Sr(fe)>3?"":" "}function Yo(e,t){for(;--t&&je()&&!(fe<48||fe>102||fe>57&&fe<65||fe>70&&fe<97););return rr(e,Ot()+(t<6&&tt()==32&&je()==32))}function Ir(e){for(;je();)switch(fe){case e:return Pe;case 34:case 39:e!==34&&e!==39&&Ir(fe);break;case 40:e===41&&Ir(e);break;case 92:je();break}return Pe}function qo(e,t){for(;je()&&e+fe!==57;)if(e+fe===84&&tt()===47)break;return"/*"+rr(t,Pe-1)+"*"+Dr(e===47?e:je())}function Vo(e){for(;!Sr(tt());)je();return rr(e,Pe)}function Wo(e){return Ho(Nt("",null,null,null,[""],e=zo(e),0,[0],e))}function Nt(e,t,r,o,n,s,a,i,c){for(var d=0,l=0,u=a,f=0,h=0,p=0,y=1,_=1,b=1,U=0,P="",L=n,M=s,w=o,k=P;_;)switch(p=U,U=je()){case 40:if(p!=108&&he(k,u-1)==58){Dt(k+=Z(hr(U),"&","&\f"),"&\f",Un(d?i[d-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:k+=hr(U);break;case 9:case 10:case 13:case 32:k+=Go(p);break;case 92:k+=Yo(Ot()-1,7);continue;case 47:switch(tt()){case 42:case 47:Ct(Xo(qo(je(),Ot()),t,r,c),c);break;default:k+="/"}break;case 123*y:i[d++]=De(k)*b;case 125*y:case 59:case 0:switch(U){case 0:case 125:_=0;case 59+l:b==-1&&(k=Z(k,/\f/g,"")),h>0&&De(k)-u&&Ct(h>32?rn(k+";",o,r,u-1,c):rn(Z(k," ","")+";",o,r,u-2,c),c);break;case 59:k+=";";default:if(Ct(w=tn(k,t,r,d,l,n,i,P,L=[],M=[],u,s),s),U===123)if(l===0)Nt(k,t,w,w,L,s,u,i,M);else switch(f===99&&he(k,3)===110?100:f){case 100:case 108:case 109:case 115:Nt(e,w,w,o&&Ct(tn(e,w,w,0,0,n,i,P,n,L=[],u,M),M),n,M,u,i,o?L:M);break;default:Nt(k,w,w,w,[""],M,0,i,M)}}d=l=h=0,y=b=1,P=k="",u=a;break;case 58:u=1+De(k),h=p;default:if(y<1){if(U==123)--y;else if(U==125&&y++==0&&Bo()==125)continue}switch(k+=Dr(U),U*y){case 38:b=l>0?1:(k+="\f",-1);break;case 44:i[d++]=(De(k)-1)*b,b=1;break;case 64:tt()===45&&(k+=hr(je())),f=tt(),l=u=De(P=k+=Vo(Ot())),U++;break;case 45:p===45&&De(k)==2&&(y=0)}}return s}function tn(e,t,r,o,n,s,a,i,c,d,l,u){for(var f=n-1,h=n===0?s:[""],p=$n(h),y=0,_=0,b=0;y<o;++y)for(var U=0,P=dt(e,f+1,f=Un(_=a[y])),L=e;U<p;++U)(L=jn(_>0?h[U]+" "+P:Z(P,/&\f/g,h[U])))&&(c[b++]=L);return tr(e,t,r,n===0?Jt:i,c,d,l,u)}function Xo(e,t,r,o){return tr(e,t,r,Pn,Dr(Fo()),dt(e,2,-2),0,o)}function rn(e,t,r,o,n){return tr(e,t,r,Mr,dt(e,0,o),dt(e,o+1,-1),o,n)}function Dn(e,t,r){switch(Oo(e,t)){case 5103:return ee+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ee+e+e;case 4789:return St+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ee+e+St+e+ie+e+e;case 5936:switch(he(e,t+11)){case 114:return ee+e+ie+Z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ee+e+ie+Z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ee+e+ie+Z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ee+e+ie+e+e;case 6165:return ee+e+ie+"flex-"+e+e;case 5187:return ee+e+Z(e,/(\w+).+(:[^]+)/,ee+"box-$1$2"+ie+"flex-$1$2")+e;case 5443:return ee+e+ie+"flex-item-"+Z(e,/flex-|-self/g,"")+(Be(e,/flex-|baseline/)?"":ie+"grid-row-"+Z(e,/flex-|-self/g,""))+e;case 4675:return ee+e+ie+"flex-line-pack"+Z(e,/align-content|flex-|-self/g,"")+e;case 5548:return ee+e+ie+Z(e,"shrink","negative")+e;case 5292:return ee+e+ie+Z(e,"basis","preferred-size")+e;case 6060:return ee+"box-"+Z(e,"-grow","")+ee+e+ie+Z(e,"grow","positive")+e;case 4554:return ee+Z(e,/([^-])(transform)/g,"$1"+ee+"$2")+e;case 6187:return Z(Z(Z(e,/(zoom-|grab)/,ee+"$1"),/(image-set)/,ee+"$1"),e,"")+e;case 5495:case 3959:return Z(e,/(image-set\([^]*)/,ee+"$1$`$1");case 4968:return Z(Z(e,/(.+:)(flex-)?(.*)/,ee+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ee+e+e;case 4200:if(!Be(e,/flex-|baseline/))return ie+"grid-column-align"+dt(e,t)+e;break;case 2592:case 3360:return ie+Z(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(o,n){return t=n,Be(o.props,/grid-\w+-end/)})?~Dt(e+(r=r[t].value),"span",0)?e:ie+Z(e,"-start","")+e+ie+"grid-row-span:"+(~Dt(r,"span",0)?Be(r,/\d+/):+Be(r,/\d+/)-+Be(e,/\d+/))+";":ie+Z(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(o){return Be(o.props,/grid-\w+-start/)})?e:ie+Z(Z(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Z(e,/(.+)-inline(.+)/,ee+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(he(e,t+1)){case 109:if(he(e,t+4)!==45)break;case 102:return Z(e,/(.+:)(.+)-([^]+)/,"$1"+ee+"$2-$3$1"+St+(he(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Dt(e,"stretch",0)?Dn(Z(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return Z(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(o,n,s,a,i,c,d){return ie+n+":"+s+d+(a?ie+n+"-span:"+(i?c:+c-+s)+d:"")+e});case 4949:if(he(e,t+6)===121)return Z(e,":",":"+ee)+e;break;case 6444:switch(he(e,he(e,14)===45?18:11)){case 120:return Z(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ee+(he(e,14)===45?"inline-":"")+"box$3$1"+ee+"$2$3$1"+ie+"$2box$3")+e;case 100:return Z(e,":",":"+ie)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Z(e,"scroll-","scroll-snap-")+e}return e}function Gt(e,t){for(var r="",o=0;o<e.length;o++)r+=t(e[o],o,e,t)||"";return r}function Qo(e,t,r,o){switch(e.type){case Do:if(e.children.length)break;case Mo:case Mr:return e.return=e.return||e.value;case Pn:return"";case Tn:return e.return=e.value+"{"+Gt(e.children,o)+"}";case Jt:if(!De(e.value=e.props.join(",")))return""}return De(r=Gt(e.children,o))?e.return=e.value+"{"+r+"}":""}function Ko(e){var t=$n(e);return function(r,o,n,s){for(var a="",i=0;i<t;i++)a+=e[i](r,o,n,s)||"";return a}}function Zo(e){return function(t){t.root||(t=t.return)&&e(t)}}function Jo(e,t,r,o){if(e.length>-1&&!e.return)switch(e.type){case Mr:e.return=Dn(e.value,e.length,r);return;case Tn:return Gt([qe(e,{value:Z(e.value,"@","@"+ee)})],o);case Jt:if(e.length)return No(r=e.props,function(n){switch(Be(n,o=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ct(qe(e,{props:[Z(n,/:(read-\w+)/,":"+St+"$1")]})),ct(qe(e,{props:[n]})),Cr(e,{props:en(r,o)});break;case"::placeholder":ct(qe(e,{props:[Z(n,/:(plac\w+)/,":"+ee+"input-$1")]})),ct(qe(e,{props:[Z(n,/:(plac\w+)/,":"+St+"$1")]})),ct(qe(e,{props:[Z(n,/:(plac\w+)/,ie+"input-$1")]})),ct(qe(e,{props:[n]})),Cr(e,{props:en(r,o)});break}return""})}}var es={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ee={},pt=typeof process<"u"&&Ee!==void 0&&(Ee.REACT_APP_SC_ATTR||Ee.SC_ATTR)||"data-styled",On="active",Nn="data-styled-version",nr="6.1.19",Or=`/*!sc*/
`,Yt=typeof window<"u"&&typeof document<"u",ts=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ee!==void 0&&Ee.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ee.REACT_APP_SC_DISABLE_SPEEDY!==""?Ee.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ee.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ee!==void 0&&Ee.SC_DISABLE_SPEEDY!==void 0&&Ee.SC_DISABLE_SPEEDY!==""&&Ee.SC_DISABLE_SPEEDY!=="false"&&Ee.SC_DISABLE_SPEEDY),rs={},or=Object.freeze([]),gt=Object.freeze({});function Fn(e,t,r){return r===void 0&&(r=gt),e.theme!==r.theme&&e.theme||t||r.theme}var Bn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ns=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,os=/(^-|-$)/g;function nn(e){return e.replace(ns,"-").replace(os,"")}var ss=/(a)(d)/gi,Tt=52,on=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ar(e){var t,r="";for(t=Math.abs(e);t>Tt;t=t/Tt|0)r=on(t%Tt)+r;return(on(t%Tt)+r).replace(ss,"$1-$2")}var pr,zn=5381,ut=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Hn=function(e){return ut(zn,e)};function Gn(e){return Ar(Hn(e)>>>0)}function is(e){return e.displayName||e.name||"Component"}function gr(e){return typeof e=="string"&&!0}var Yn=typeof Symbol=="function"&&Symbol.for,qn=Yn?Symbol.for("react.memo"):60115,as=Yn?Symbol.for("react.forward_ref"):60112,cs={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ls={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},us=((pr={})[as]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pr[qn]=Vn,pr);function sn(e){return("type"in(t=e)&&t.type.$$typeof)===qn?Vn:"$$typeof"in e?us[e.$$typeof]:cs;var t}var fs=Object.defineProperty,ds=Object.getOwnPropertyNames,an=Object.getOwnPropertySymbols,hs=Object.getOwnPropertyDescriptor,ps=Object.getPrototypeOf,cn=Object.prototype;function Wn(e,t,r){if(typeof t!="string"){if(cn){var o=ps(t);o&&o!==cn&&Wn(e,o,r)}var n=ds(t);an&&(n=n.concat(an(t)));for(var s=sn(e),a=sn(t),i=0;i<n.length;++i){var c=n[i];if(!(c in ls||r&&r[c]||a&&c in a||s&&c in s)){var d=hs(t,c);try{fs(e,c,d)}catch{}}}}return e}function nt(e){return typeof e=="function"}function Nr(e){return typeof e=="object"&&"styledComponentId"in e}function Je(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Er(e,t){if(e.length===0)return"";for(var r=e[0],o=1;o<e.length;o++)r+=e[o];return r}function Et(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Rr(e,t,r){if(r===void 0&&(r=!1),!r&&!Et(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=Rr(e[o],t[o]);else if(Et(t))for(var o in t)e[o]=Rr(e[o],t[o]);return e}function Fr(e,t){Object.defineProperty(e,"toString",{value:t})}function ot(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var gs=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,o=0;o<t;o++)r+=this.groupSizes[o];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var o=this.groupSizes,n=o.length,s=n;t>=s;)if((s<<=1)<0)throw ot(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=n;a<s;a++)this.groupSizes[a]=0}for(var i=this.indexOfGroup(t+1),c=(a=0,r.length);a<c;a++)this.tag.insertRule(i,r[a])&&(this.groupSizes[t]++,i++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],o=this.indexOfGroup(t),n=o+r;this.groupSizes[t]=0;for(var s=o;s<n;s++)this.tag.deleteRule(o)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var o=this.groupSizes[t],n=this.indexOfGroup(t),s=n+o,a=n;a<s;a++)r+="".concat(this.tag.getRule(a)).concat(Or);return r},e})(),Ft=new Map,qt=new Map,Bt=1,Ut=function(e){if(Ft.has(e))return Ft.get(e);for(;qt.has(Bt);)Bt++;var t=Bt++;return Ft.set(e,t),qt.set(t,e),t},ms=function(e,t){Bt=t+1,Ft.set(e,t),qt.set(t,e)},ys="style[".concat(pt,"][").concat(Nn,'="').concat(nr,'"]'),vs=new RegExp("^".concat(pt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xs=function(e,t,r){for(var o,n=r.split(","),s=0,a=n.length;s<a;s++)(o=n[s])&&e.registerName(t,o)},bs=function(e,t){for(var r,o=((r=t.textContent)!==null&&r!==void 0?r:"").split(Or),n=[],s=0,a=o.length;s<a;s++){var i=o[s].trim();if(i){var c=i.match(vs);if(c){var d=0|parseInt(c[1],10),l=c[2];d!==0&&(ms(l,d),xs(e,l,c[3]),e.getTag().insertRules(d,n)),n.length=0}else n.push(i)}}},ln=function(e){for(var t=document.querySelectorAll(ys),r=0,o=t.length;r<o;r++){var n=t[r];n&&n.getAttribute(pt)!==On&&(bs(e,n),n.parentNode&&n.parentNode.removeChild(n))}};function ws(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Xn=function(e){var t=document.head,r=e||t,o=document.createElement("style"),n=(function(i){var c=Array.from(i.querySelectorAll("style[".concat(pt,"]")));return c[c.length-1]})(r),s=n!==void 0?n.nextSibling:null;o.setAttribute(pt,On),o.setAttribute(Nn,nr);var a=ws();return a&&o.setAttribute("nonce",a),r.insertBefore(o,s),o},_s=(function(){function e(t){this.element=Xn(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var o=document.styleSheets,n=0,s=o.length;n<s;n++){var a=o[n];if(a.ownerNode===r)return a}throw ot(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e})(),Cs=(function(){function e(t){this.element=Xn(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var o=document.createTextNode(r);return this.element.insertBefore(o,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),Ss=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),un=Yt,Is={isServer:!Yt,useCSSOMInjection:!ts},Vt=(function(){function e(t,r,o){t===void 0&&(t=gt),r===void 0&&(r={});var n=this;this.options=pe(pe({},Is),t),this.gs=r,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Yt&&un&&(un=!1,ln(this)),Fr(this,function(){return(function(s){for(var a=s.getTag(),i=a.length,c="",d=function(u){var f=(function(b){return qt.get(b)})(u);if(f===void 0)return"continue";var h=s.names.get(f),p=a.getGroup(u);if(h===void 0||!h.size||p.length===0)return"continue";var y="".concat(pt,".g").concat(u,'[id="').concat(f,'"]'),_="";h!==void 0&&h.forEach(function(b){b.length>0&&(_+="".concat(b,","))}),c+="".concat(p).concat(y,'{content:"').concat(_,'"}').concat(Or)},l=0;l<i;l++)d(l);return c})(n)})}return e.registerId=function(t){return Ut(t)},e.prototype.rehydrate=function(){!this.server&&Yt&&ln(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(pe(pe({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var o=r.useCSSOMInjection,n=r.target;return r.isServer?new Ss(n):o?new _s(n):new Cs(n)})(this.options),new gs(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Ut(t),this.names.has(t))this.names.get(t).add(r);else{var o=new Set;o.add(r),this.names.set(t,o)}},e.prototype.insertRules=function(t,r,o){this.registerName(t,r),this.getTag().insertRules(Ut(t),o)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ut(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),As=/&/g,Es=/^\s*\/\/.*$/gm;function Qn(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(o){return"".concat(t," ").concat(o)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qn(r.children,t)),r})}function Rs(e){var t,r,o,n=gt,s=n.options,a=s===void 0?gt:s,i=n.plugins,c=i===void 0?or:i,d=function(f,h,p){return p.startsWith(r)&&p.endsWith(r)&&p.replaceAll(r,"").length>0?".".concat(t):f},l=c.slice();l.push(function(f){f.type===Jt&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(As,r).replace(o,d))}),a.prefix&&l.push(Jo),l.push(Qo);var u=function(f,h,p,y){h===void 0&&(h=""),p===void 0&&(p=""),y===void 0&&(y="&"),t=y,r=h,o=new RegExp("\\".concat(r,"\\b"),"g");var _=f.replace(Es,""),b=Wo(p||h?"".concat(p," ").concat(h," { ").concat(_," }"):_);a.namespace&&(b=Qn(b,a.namespace));var U=[];return Gt(b,Ko(l.concat(Zo(function(P){return U.push(P)})))),U};return u.hash=c.length?c.reduce(function(f,h){return h.name||ot(15),ut(f,h.name)},zn).toString():"",u}var Ls=new Vt,Lr=Rs(),Kn=te.createContext({shouldForwardProp:void 0,styleSheet:Ls,stylis:Lr});Kn.Consumer;te.createContext(void 0);function kr(){return G.useContext(Kn)}var ks=(function(){function e(t,r){var o=this;this.inject=function(n,s){s===void 0&&(s=Lr);var a=o.name+s.hash;n.hasNameForId(o.id,a)||n.insertRules(o.id,a,s(o.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Fr(this,function(){throw ot(12,String(o.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Lr),this.name+t.hash},e})(),Ps=function(e){return e>="A"&&e<="Z"};function fn(e){for(var t="",r=0;r<e.length;r++){var o=e[r];if(r===1&&o==="-"&&e[0]==="-")return e;Ps(o)?t+="-"+o.toLowerCase():t+=o}return t.startsWith("ms-")?"-"+t:t}var Zn=function(e){return e==null||e===!1||e===""},Jn=function(e){var t,r,o=[];for(var n in e){var s=e[n];e.hasOwnProperty(n)&&!Zn(s)&&(Array.isArray(s)&&s.isCss||nt(s)?o.push("".concat(fn(n),":"),s,";"):Et(s)?o.push.apply(o,At(At(["".concat(n," {")],Jn(s),!1),["}"],!1)):o.push("".concat(fn(n),": ").concat((t=n,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in es||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return o};function Ve(e,t,r,o){if(Zn(e))return[];if(Nr(e))return[".".concat(e.styledComponentId)];if(nt(e)){if(!nt(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var n=e(t);return Ve(n,t,r,o)}var s;return e instanceof ks?r?(e.inject(r,o),[e.getName(o)]):[e]:Et(e)?Jn(e):Array.isArray(e)?Array.prototype.concat.apply(or,e.map(function(a){return Ve(a,t,r,o)})):[e.toString()]}function eo(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(nt(r)&&!Nr(r))return!1}return!0}var Ts=Hn(nr),Us=(function(){function e(t,r,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&eo(t),this.componentId=r,this.baseHash=ut(Ts,r),this.baseStyle=o,Vt.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,o){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,o):"";if(this.isStatic&&!o.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))n=Je(n,this.staticRulesId);else{var s=Er(Ve(this.rules,t,r,o)),a=Ar(ut(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,a)){var i=o(s,".".concat(a),void 0,this.componentId);r.insertRules(this.componentId,a,i)}n=Je(n,a),this.staticRulesId=a}else{for(var c=ut(this.baseHash,o.hash),d="",l=0;l<this.rules.length;l++){var u=this.rules[l];if(typeof u=="string")d+=u;else if(u){var f=Er(Ve(u,t,r,o));c=ut(c,f+l),d+=f}}if(d){var h=Ar(c>>>0);r.hasNameForId(this.componentId,h)||r.insertRules(this.componentId,h,o(d,".".concat(h),void 0,this.componentId)),n=Je(n,h)}}return n},e})(),Rt=te.createContext(void 0);Rt.Consumer;function lc(e){var t=te.useContext(Rt),r=G.useMemo(function(){return(function(o,n){if(!o)throw ot(14);if(nt(o)){var s=o(n);return s}if(Array.isArray(o)||typeof o!="object")throw ot(8);return n?pe(pe({},n),o):o})(e.theme,t)},[e.theme,t]);return e.children?te.createElement(Rt.Provider,{value:r},e.children):null}var mr={};function js(e,t,r){var o=Nr(e),n=e,s=!gr(e),a=t.attrs,i=a===void 0?or:a,c=t.componentId,d=c===void 0?(function(L,M){var w=typeof L!="string"?"sc":nn(L);mr[w]=(mr[w]||0)+1;var k="".concat(w,"-").concat(Gn(nr+w+mr[w]));return M?"".concat(M,"-").concat(k):k})(t.displayName,t.parentComponentId):c,l=t.displayName,u=l===void 0?(function(L){return gr(L)?"styled.".concat(L):"Styled(".concat(is(L),")")})(e):l,f=t.displayName&&t.componentId?"".concat(nn(t.displayName),"-").concat(t.componentId):t.componentId||d,h=o&&n.attrs?n.attrs.concat(i).filter(Boolean):i,p=t.shouldForwardProp;if(o&&n.shouldForwardProp){var y=n.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;p=function(L,M){return y(L,M)&&_(L,M)}}else p=y}var b=new Us(r,f,o?n.componentStyle:void 0);function U(L,M){return(function(w,k,v){var m=w.attrs,I=w.componentStyle,S=w.defaultProps,C=w.foldedComponentIds,E=w.styledComponentId,A=w.target,T=te.useContext(Rt),x=kr(),g=w.shouldForwardProp||x.shouldForwardProp,O=Fn(k,T,S)||gt,j=(function(D,H,q){for(var X,V=pe(pe({},H),{className:void 0,theme:q}),J=0;J<D.length;J+=1){var ne=nt(X=D[J])?X(V):X;for(var re in ne)V[re]=re==="className"?Je(V[re],ne[re]):re==="style"?pe(pe({},V[re]),ne[re]):ne[re]}return H.className&&(V.className=Je(V.className,H.className)),V})(m,k,O),B=j.as||A,R={};for(var $ in j)j[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&j.theme===O||($==="forwardedAs"?R.as=j.forwardedAs:g&&!g($,B)||(R[$]=j[$]));var z=(function(D,H){var q=kr(),X=D.generateAndInjectStyles(H,q.styleSheet,q.stylis);return X})(I,j),N=Je(C,E);return z&&(N+=" "+z),j.className&&(N+=" "+j.className),R[gr(B)&&!Bn.has(B)?"class":"className"]=N,v&&(R.ref=v),G.createElement(B,R)})(P,L,M)}U.displayName=u;var P=te.forwardRef(U);return P.attrs=h,P.componentStyle=b,P.displayName=u,P.shouldForwardProp=p,P.foldedComponentIds=o?Je(n.foldedComponentIds,n.styledComponentId):"",P.styledComponentId=f,P.target=o?n.target:e,Object.defineProperty(P,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(L){this._foldedDefaultProps=o?(function(M){for(var w=[],k=1;k<arguments.length;k++)w[k-1]=arguments[k];for(var v=0,m=w;v<m.length;v++)Rr(M,m[v],!0);return M})({},n.defaultProps,L):L}}),Fr(P,function(){return".".concat(P.styledComponentId)}),s&&Wn(P,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),P}function dn(e,t){for(var r=[e[0]],o=0,n=t.length;o<n;o+=1)r.push(t[o],e[o+1]);return r}var hn=function(e){return Object.assign(e,{isCss:!0})};function to(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(nt(e)||Et(e))return hn(Ve(dn(or,At([e],t,!0))));var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?Ve(o):hn(Ve(dn(o,t)))}function Pr(e,t,r){if(r===void 0&&(r=gt),!t)throw ot(1,t);var o=function(n){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return e(t,r,to.apply(void 0,At([n],s,!1)))};return o.attrs=function(n){return Pr(e,t,pe(pe({},r),{attrs:Array.prototype.concat(r.attrs,n).filter(Boolean)}))},o.withConfig=function(n){return Pr(e,t,pe(pe({},r),n))},o}var ro=function(e){return Pr(js,e)},W=ro;Bn.forEach(function(e){W[e]=ro(e)});var $s=(function(){function e(t,r){this.rules=t,this.componentId=r,this.isStatic=eo(t),Vt.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,r,o,n){var s=n(Er(Ve(this.rules,r,o,n)),""),a=this.componentId+t;o.insertRules(a,a,s)},e.prototype.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,r,o,n){t>2&&Vt.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,r,o,n)},e})();function Ms(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=to.apply(void 0,At([e],t,!1)),n="sc-global-".concat(Gn(JSON.stringify(o))),s=new $s(o,n),a=function(c){var d=kr(),l=te.useContext(Rt),u=te.useRef(d.styleSheet.allocateGSInstance(n)).current;return d.styleSheet.server&&i(u,c,d.styleSheet,l,d.stylis),te.useLayoutEffect(function(){if(!d.styleSheet.server)return i(u,c,d.styleSheet,l,d.stylis),function(){return s.removeStyles(u,d.styleSheet)}},[u,c,d.styleSheet,l,d.stylis]),null};function i(c,d,l,u,f){if(s.isStatic)s.renderStyles(c,rs,l,f);else{var h=pe(pe({},d),{theme:Fn(d,u,a.defaultProps)});s.renderStyles(c,h,l,f)}}return te.memo(a)}var yr={exports:{}},vr={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn;function Ds(){if(pn)return vr;pn=1;var e=$r().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return vr.c=function(t){return e.H.useMemoCache(t)},vr}var gn;function Os(){return gn||(gn=1,yr.exports=Ds()),yr.exports}var de=Os();const Ns=G.createContext({loading:!1,start:()=>{},stop:()=>{}}),st=()=>G.useContext(Ns),no={ftype:void 0,imgBuf:new ArrayBuffer,imgCtx:null,originalImageData:null,layers:[],currentLayer:void 0,selectedLayerIdx:-1,mode:"edit",hideSelectionOverlay:!1},Fs=G.createContext({state:no,dispatch:()=>{}}),ge=()=>G.useContext(Fs),Br=G.createContext(null);var K=(e=>(e.None="None",e.PixelSort="PixelSort",e.AsSound="AsSound",e.FractalPixelSort="FractalPixelSort",e.Brightness="Brightness",e.RGBShift="RGBShift",e.Grayscale="Grayscale",e.Slice="Slice",e.OffsetPixelSort="OffsetPixelSort",e.Duotone="Duotone",e))(K||{});class Bs{past;present;future;constructor(t){this.past=[],this.present=t,this.future=[]}canUndo(){return this.past.length!==0}canRedo(){return this.future.length!==0}undo(){if(this.past.length===0)return this;const t=this.past[this.past.length-1],r=this.past.slice(0,this.past.length-1),o=this.present;return this.past=r,this.present=t,this.future=[o,...this.future],this}redo(){if(this.future.length===0)return this;const t=this.future[0],r=this.future.slice(1);return this.past=[...this.past,this.present],this.present=t,this.future=r,this}set(t){return this.past=[...this.past,this.present],this.present=t,this.future=[],this}reset(t){return this.past=[],this.present=t,this.future=[],this}}const zs=async e=>{const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("").substring(0,12)},Wt=()=>`# ${(Math.random()*16777215<<0).toString(16).padStart(6,"0")}`,mn=44100,Hs=1e-4,xr={r:{min:30,max:500,offset:60},g:{min:500,max:2e3,offset:250},b:{min:2e3,max:1e4,offset:1e3}},Gs=e=>{const[t,r,o,n]=e;return[t/255,r/255,o/255,n]},Ys=e=>e.map(t=>{const{value:r,range:o}=t,{offset:n,min:s,max:a}=o;return n+r*(a-s)}),qs=(e,t,r,o)=>{const n=Math.floor(e.length/3)*Math.floor(o*r),s=new Float32Array(n);let a=0;for(let i=0;i<e.length;i+=3){const[c,d,l]=[e[i],e[i+1],e[i+2]],[u,f,h]=[t[i],t[i+1],t[i+2]];for(let p=0;p<o*r;p++){const y=p/o,_=(u*Math.sin(2*Math.PI*c*y)+f*Math.sin(2*Math.PI*d*y)+h*Math.sin(2*Math.PI*l*y))/3;s[a++]=_}}return s},Vs=e=>{const t=new Float32Array(e.length);for(let r=0;r<e.length;r++){let o=e[r];const s=2**4;o=Math.round(o*s)/s,Math.random()<.1&&(o=r>0?t[r-1]:o),o=Math.max(-1,Math.min(1,o*2.5)),o+=(Math.random()-.5)*.15;const i=255;o=Math.sign(o)*Math.log(1+i*Math.abs(o))/Math.log(1+i),t[r]=o}return t},Ws=(e,t)=>{const a=t*1,i=e.length*1,c=new ArrayBuffer(44+i),d=new DataView(c);jt(d,0,"RIFF"),d.setUint32(4,36+i,!0),jt(d,8,"WAVE"),jt(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,7,!0),d.setUint16(22,1,!0),d.setUint32(24,t,!0),d.setUint32(28,a,!0),d.setUint16(32,1,!0),d.setUint16(34,8,!0),jt(d,36,"data"),d.setUint32(40,i,!0);const l=44;for(let u=0;u<e.length;u++){const f=Math.max(-1,Math.min(1,e[u]));d.setUint8(l+u,f*127+128|0)}return new Uint8Array(c)},jt=(e,t,r)=>{for(let o=0;o<r.length;o++)e.setUint8(t+o,r.charCodeAt(o))},Xs=({imageCanvas:e,layer:t,selectionArea:r})=>{const o=t.selection,{width:n,height:s}=e.canvas,a=e.getImageData(0,0,n,s),i=a.data;new Uint8Array(n*s).fill(1);let d;return o.config.cache.length===0?d=Qs(i,r,n,s):d=o.config.cache,Ks(i,d,r,o.config.blend),e.putImageData(a,0,0),{updatedSelection:{...t.selection,config:{...o.config,cache:d}}}},Qs=(e,t,r,o)=>{const n=[],s=[];for(let u=0;u<t.length;u++){const f=t[u]*4,h=Gs(new Uint8Array([e[f],e[f+1],e[f+2]]));Ys([{value:h[0],range:xr.r},{value:h[1],range:xr.g},{value:h[2],range:xr.b}]).forEach(p=>{s.push(p)}),n.push(h[0],h[1],h[2])}const a=qs(n,s,Hs,mn);if(!a)return new Uint8ClampedArray;const i=Vs(a),c=Ws(i,mn),d=new Uint8ClampedArray(r*o*4),l=c.length;for(let u=0;u<d.length;u+=l){const f=d.length-u;f>=l?d.set(c,u):d.set(c.subarray(0,f),u)}return d},Ks=(e,t,r,o)=>{for(let n=0;n<r.length;n++){const s=r[n]*4;e[s]=e[s]*(1-o)+t[s]*o,e[s+1]=e[s+1]*(1-o)+t[s+1]*o,e[s+2]=e[s+2]*(1-o)+t[s+2]*o}};class ke{channel;startingIdx;constructor(t,r=0){if(t.length!==4)for(let o=t.length;o<4;o++)t[o]=0;t.forEach(o=>{if(!Number.isInteger(o))throw new Error("value must be an integer");if(o<0||o>255)throw new Error("value range must be within 0..255")}),this.channel=t,this.startingIdx=r}get red(){return this.channel[0]}get green(){return this.channel[1]}get blue(){return this.channel[2]}get alpha(){return this.channel[3]}normalizeRGBValue=t=>Math.min(255,Math.max(0,t));brightness(){const t=this.red/255,r=this.green/255,o=this.blue/255;let n,s;return n=t,s=t,r>n&&(n=r),o>n&&(n=o),r<s&&(s=r),o<s&&(s=o),(n+s)/2}}const Fe=(e,t,r)=>{const o=e.getBoundingClientRect(),n=e.width/o.width,s=e.height/o.height;return{x:Math.round((t-o.left)*n),y:Math.round((r-o.top)*s)}},yn=e=>{const{drawing:{width:t,height:r,minX:o,minY:n},mouse:s}=e;return s.x>=o&&s.x<=o+t&&s.y>=n&&s.y<=n+r},vn=e=>{const t=e.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},oo=(e,t,r)=>{for(let o=0;o<t.length;o++){const n=t[o]*4,{red:s,blue:a,green:i}=new ke(e.slice(n,n+4));e[n]=s*r,e[n+1]=i*r,e[n+2]=a*r}},so=(e,t,r)=>{for(let o=0;o<t.length;o++){const n=t[o]*4,{red:s,blue:a,green:i}=new ke(e.slice(n,n+4)),c=Math.round((.299*s+.587*i+.114*a)*1);e[n]=s*(1-r)+c*r,e[n+1]=i*(1-r)+c*r,e[n+2]=a*(1-r)+c*r}},Zs=({imageCanvas:e,layer:t,selectionArea:r})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=n.data;return oo(s,r,o.config.intensity),e.putImageData(n,0,0),{updatedSelection:t.selection}},Js=({imageCanvas:e,layer:t,selectionArea:r})=>{const o=t.selection,{width:n,height:s}=e.canvas,a=e.getImageData(0,0,n,s),i=a.data;oo(i,r,o.config.brightness),so(i,r,1);const c=vn(o.config.highlightsColor);for(let l=0;l<r.length;l++){const u=r[l]*4;i[u]=i[u]*c.r/255,i[u+1]=i[u+1]*c.g/255,i[u+2]=i[u+2]*c.b/255}const d=vn(o.config.shadowsColor);for(let l=0;l<r.length;l++){const u=r[l]*4;i[u]=Math.max(i[u],d.r),i[u+1]=Math.max(i[u+1],d.g),i[u+2]=Math.max(i[u+2],d.b)}return e.putImageData(a,0,0),{updatedSelection:t.selection}},ei=({imageCanvas:e,layer:t,selectionArea:r,refresh:o})=>{const n=t.selection;let s;return n.config.cache.length===0||o?s=ti(e,n.config.intensity):s=n.config.cache,ni(e,s,r),{updatedSelection:{...t.selection,config:{...n.config,cache:s}}}},ti=(e,t)=>{const r=e.getImageData(0,0,e.canvas.width,e.canvas.height),o=new Uint8ClampedArray(r.data);for(let c=o.length-1;c>0;c--)o[c*t%o.length]<o[c]&&(o[c]=o[c*t%o.length]);const n=e.canvas.width,s=e.canvas.height,a=Math.round(Math.random()*(n-10)+10),i=Math.round(Math.random()*(n-10)+a);for(let c=0;c<s;c++)for(let d=0;d<n;d++){const l=(d+c*n)*4,{red:u,blue:f,green:h}=new ke(o.slice(l,l+4)),p=Math.floor(Math.random()*2);ri(o,l,a,i,p,u,h,f)}return o},ri=(e,t,r,o,n,s,a,i)=>{if(n===0){if(t+r+1>e.length-1)return;o%3===0?(e[t]=i,e[t+r]=s,e[t+r+1]=a):o%3===1?(e[t]=s,e[t+r]=i,e[t+r+1]=a):(e[t]=s,e[t+r]=i)}else{if(t-r<0)return;o%3===0?(e[t]=i,e[t-r]=a,e[t-r+1]=s):o%3===1?(e[t+1]=i,e[t-r]=i):(e[t]=a,e[t-r]=i,e[t-r+1]=s)}},ni=(e,t,r)=>{const o=e.getImageData(0,0,e.canvas.width,e.canvas.height),n=o.data;for(let s=0;s<r.length;s++){const a=r[s]*4,{red:i,blue:c,green:d}=new ke(t.slice(a,a+4));n[a]=i,n[a+1]=c,n[a+2]=d}e.putImageData(o,0,0)},oi=({imageCanvas:e,layer:t,selectionArea:r})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=n.data;return so(s,r,o.config.intensity),e.putImageData(n,0,0),{updatedSelection:t.selection}},si=({layer:e,imageCanvas:t,selectionArea:r,refresh:o})=>{const n=e.selection,s=t.canvas.width,a=t.canvas.height,i=n.config.intensity;let c;if(n.config.cache.length===0||o){const u=document.createElement("canvas");u.width=s,u.height=a;const f=u.getContext("2d");f.drawImage(t.canvas,0,0);const h=document.createElement("canvas");h.width=s,h.height=a;const p=h.getContext("2d");p.drawImage(t.canvas,0,0);const y=i*i/100*s;for(let m=0;m<i*2;m++){const I=lt(0,a),S=Math.min(lt(1,Math.floor(a/4)),a-I),C=lt(-y,y);if(C!==0)if(C<0){const E=-C;f.drawImage(h,E,I,s+C,S,0,I,s+C,S),f.drawImage(h,0,I,E,S,s+C,I,E,S)}else C>0&&(f.drawImage(h,0,I,s,S,C,I,s,S),f.drawImage(h,s-C,I,C,S,0,I,C,S))}const _=f.getImageData(0,0,s,a),b=_.data,P=p.getImageData(0,0,s,a).data,L=lt(0,2),M=lt(-i*2,i*2),w=lt(-i*2,i*2);for(let m=0;m<a;m++)for(let I=0;I<s;I++){const S=M+I,C=w+m;if(S<0||S>=s||C<0||C>=a)continue;const E=(S+C*s)*4,A=(I+m*s)*4,T=new ke(P.slice(A,A+4)),x=new ke(b.slice(E,E+4));let g;L===0?g={red:T.red,green:x.green,blue:x.blue,alpha:x.alpha}:L===1?g={red:x.red,green:T.green,blue:x.blue,alpha:x.alpha}:g={red:x.red,green:x.green,blue:T.blue,alpha:x.alpha},!(E<0||E+4>b.length)&&(b[E]=g.red,b[E+1]=g.green,b[E+2]=g.blue,b[E+3]=g.alpha)}f.putImageData(_,0,0),c=f.getImageData(0,0,s,a).data}else c=n.config.cache;const d=t.getImageData(0,0,s,a),l=d.data;for(let u=0;u<r.length;u++){const f=r[u]*4,{red:h,green:p,blue:y,alpha:_}=new ke(c.slice(f,f+4));l[f]=h,l[f+1]=p,l[f+2]=y,l[f+3]=_}return t.putImageData(d,0,0),{updatedSelection:{...e.selection,config:{...n.config,cache:c}}}},lt=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,ii=({imageCanvas:e,layer:t,selectionArea:r,refresh:o})=>{const n=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=n.data,a=e.canvas.width,i=e.canvas.height,c=t.selection,d=c.config.intensity,l=c.config.direction;let u;c.config.cache.length===0||o?(u=new Uint8ClampedArray(s.length),u.set(s),l==="Vertical"?ai(u,a,i,d):ci(u,a,i,d)):u=c.config.cache;for(let f=0;f<r.length;f++){const h=r[f]*4,{red:p,green:y,blue:_}=new ke(u.slice(h,h+4));s[h]=p,s[h+1]=y,s[h+2]=_}return e.putImageData(n,0,0),{updatedSelection:c}},ai=(e,t,r,o)=>{for(let n=0;n<t;n++){let s=[],a=!0,i=-1;for(let c=0;c<r;c++){const d=(c*t+n)*4,l=new ke(e.slice(d,d+4));if(l.brightness()>o/100){if(!a&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=((u+i)*t+n)*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],a=!0}}else a&&(i=c,a=!1),s.push({color:l,y:c})}if(!a&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=((c+i)*t+n)*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},ci=(e,t,r,o)=>{for(let n=0;n<r;n++){let s=[],a=!0,i=-1;for(let c=0;c<t;c++){const d=(n*t+c)*4,l=new ke(e.slice(d,d+4));if(l.brightness()>o/100){if(!a&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=(n*t+(u+i))*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],a=!0}}else a&&(i=c,a=!1),s.push({color:l,y:n})}if(!a&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=(n*t+(c+i))*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},li=({imageCanvas:e,layer:t,selectionArea:r})=>{const o=t.selection,n=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=n.data;for(let a=0;a<r.length;a++){const i=r[a]*4,{red:c,blue:d,green:l,normalizeRGBValue:u}=new ke(s.slice(i,i+4),i),f=o.config.intensity;if(o.config.effect==="Vibrance"){const h=Math.max(c,l,d),p=(c+l+d)/3,y=Math.abs(h-p)*2/255*-f/100;c!==h&&(s[i]=c+(h-c)*y),l!==h&&(s[i+1]=l+(h-l)*y),d!==h&&(s[i+2]=d+(h-d)*y)}else o.config.effect==="Red"?(s[i]=u(c+f),s[i+1]=u(l-f),s[i+2]=u(d-f)):o.config.effect==="Green"?(s[i]=u(c-f),s[i+1]=u(l+f),s[i+2]=u(d-f)):o.config.effect==="Blue"&&(s[i]=u(c-f),s[i+1]=u(l-f),s[i+2]=u(d+f))}return e.putImageData(n,0,0),{updatedSelection:t.selection}},ui=({layer:e,imageCanvas:t,selectionArea:r})=>{const o=e.selection,n=t.getImageData(0,0,t.canvas.width,t.canvas.height),s=n.data,a=t.canvas.width,i=t.canvas.height,c=o.config.intensity/10;let d=-1;const l=new Uint8ClampedArray(s.length);l.set(s);for(let u=0;u<a;u++){Math.random()>.95&&(d=Math.floor(((1-c)*Math.random()+c)*i)),Math.random()>.95&&(d=0);for(let f=0;f<i;f++){const h=(f*a+u)*4;let p=f+d;p>i-1&&(p=p-i);const y=(u+p*a)*4;for(let _=0;_<4;_++)y+_<0||y+_>l.length||(l[y+_]=l[h+_])}}for(let u=0;u<r.length;u++){const f=r[u]*4,{red:h,green:p,blue:y}=new ke(l.slice(f,f+4));s[f]=h,s[f+1]=p,s[f+2]=y}return t.putImageData(n,0,0),{updatedSelection:e.selection}},fi=({layer:e})=>({updatedSelection:e.selection}),io={[K.AsSound]:"Data-as-Sound",[K.FractalPixelSort]:"Fractal Pixel Sort",[K.Brightness]:"Brightness",[K.Grayscale]:"Grayscale",[K.RGBShift]:"RGB Shift",[K.None]:"No Filter",[K.PixelSort]:"Pixel Sort",[K.Slice]:"Slice",[K.OffsetPixelSort]:"Offset Pixel Sort",[K.Duotone]:"Duotone Filter"},di={[K.AsSound]:Xs,[K.FractalPixelSort]:ei,[K.Brightness]:Zs,[K.Grayscale]:oi,[K.RGBShift]:li,[K.None]:fi,[K.PixelSort]:ii,[K.Slice]:ui,[K.OffsetPixelSort]:si,[K.Duotone]:Js};var Y=(e=>(e[e.SetOriginalAreaData=0]="SetOriginalAreaData",e[e.CreateNewLayer=1]="CreateNewLayer",e[e.SetPointsToLayer=2]="SetPointsToLayer",e[e.SelectLayer=3]="SelectLayer",e[e.GetSelectedLayerPoint=4]="GetSelectedLayerPoint",e[e.ClearLayers=5]="ClearLayers",e[e.DoLayerAction=6]="DoLayerAction",e[e.UndoLayer=7]="UndoLayer",e[e.RedoLayer=8]="RedoLayer",e[e.UpdateLayer=9]="UpdateLayer",e[e.UpdateLayerSelection=10]="UpdateLayerSelection",e[e.DeleteLayer=11]="DeleteLayer",e[e.MoveLayer=12]="MoveLayer",e[e.DuplicateLayer=13]="DuplicateLayer",e[e.ResetImageCanvas=14]="ResetImageCanvas",e[e.GenerateResult=15]="GenerateResult",e[e.UpdateState=16]="UpdateState",e))(Y||{});function $t(e,t){return t>=0&&t<e}const xn=e=>({[K.None]:{_empty:!0},[K.AsSound]:{blend:.5,cache:new Uint8ClampedArray},[K.FractalPixelSort]:{intensity:6,cache:new Uint8ClampedArray},[K.Brightness]:{intensity:1},[K.RGBShift]:{intensity:5,effect:"Vibrance"},[K.Grayscale]:{intensity:1},[K.PixelSort]:{cache:new Uint8ClampedArray,intensity:1,direction:"Vertical"},[K.Slice]:{intensity:-100},[K.OffsetPixelSort]:{intensity:1,cache:new Uint8ClampedArray},[K.Duotone]:{brightness:1,contrast:1,highlightsColor:"#ffefb3",shadowsColor:"#290900"}})[e],uc=(e,t)=>{switch(t.type){case 1:{const r={points:[],start:{x:0,y:0},filter:K.None,config:xn(K.None),selectionArea:new Uint32Array},o={selection:r,ctx:null,color:Wt(),commands:new Bs(r)},n=[...e.layers,o],s=n.length-1;return{...e,layers:n,selectedLayerIdx:s,currentLayer:n[s]}}case 2:{const r=e.selectedLayerIdx;if(!$t(e.layers.length,r))return e;const o=e.layers.slice(),n=o[r],a={...n.selection,start:t.payload.start,points:t.payload.points},i={...n,selection:a,commands:n.commands.set(a)};return o[r]=i,{...e,layers:o}}case 3:{const r=t.payload;if(!$t(e.layers.length,r))return{...e};for(let o=0;o<e.layers.length;o++){const n=e.layers[o].ctx;if(!n)continue;const s=Number(n.canvas.id.replace("drawing-canvas-",""));r===s?(n.canvas.classList.add("active"),n.canvas.style.pointerEvents="auto"):(n.clearRect(0,0,n.canvas.width,n.canvas.height),n.canvas.classList.remove("active"),n.canvas.style.pointerEvents="none")}return{...e,selectedLayerIdx:r,currentLayer:e.layers[r]}}case 9:{if(!$t(e.layers.length,e.selectedLayerIdx))return e;const r=e.layers.map(n=>({...n}));r[t.payload.layerIdx]={...r[t.payload.layerIdx],...t.payload.pselection};const o=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:r,currentLayer:o?r[t.payload.layerIdx]:e.currentLayer}}case 10:{const{layerIdx:r,pselection:o,withUpdateInitialPresent:n}=t.payload;if(!$t(e.layers.length,e.selectedLayerIdx))return e;const s=e.layers.slice(),a=s[r],i=a.selection,c=o.filter??i.filter,d=o.filter&&o.filter!==i.filter?xn(c):{...i.config,...o.config||{}},l={...i,...o,filter:c,config:d},u={...a,selection:l};n?u.commands.present={...a.selection}:u.commands=a.commands.set(l),s[r]=u;const f=r===e.selectedLayerIdx;return{...e,layers:s,currentLayer:f?u:e.currentLayer}}case 5:return{...no,imgCtx:null,originalImageData:null};case 6:{const r=e.layers.map(n=>({...n})),o=r[e.selectedLayerIdx];if(t.payload==="undo"){if(!o.commands.canUndo())return e;o.commands=o.commands.undo()}else{if(!o.commands.canRedo())return console.log("cant redo"),e;o.commands=o.commands.redo()}return o.selection=o.commands.present,{...e,layers:r,currentLayer:o}}case 11:{let r=t.payload;const o=e.layers[r];o?.ctx?.canvas&&o.ctx.canvas.remove();const n=[...e.layers].filter((s,a)=>a!==r);for(let s=0;s<n.length;s++){const a=n[s].ctx;a?.canvas&&(a.canvas.id=`drawing-canvas-${s}`)}return n.length===0?r=-1:r>=n.length&&(r=n.length-1),{...e,layers:n,selectedLayerIdx:r,currentLayer:n[r]}}case 12:{const r=t.payload.layerIdx,o=t.payload.direction==="up"?r-1:r+1;if(o<0||o>=e.layers.length)return e;const n=e.layers.map(d=>({...d})),[s]=n.splice(r,1);n.splice(o,0,s);const a=n[o].ctx,i=n[r].ctx;n[o]={...n[o],ctx:i},n[r]={...n[r],ctx:a};const c=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:n,selectedLayerIdx:c?o:e.selectedLayerIdx,currentLayer:c?n[o]:e.currentLayer}}case 13:{const r=document.getElementById("canvasContainer");if(!r)throw new Error("could not find #canvasContainer");const o=e.layers[t.payload],n=document.createElement("canvas");if(!o.ctx)throw new Error("currDuplicatedLayer has no canvas context");n.width=o.ctx.canvas.width,n.height=o.ctx.canvas.height;const s=n.getContext("2d");s.drawImage(o.ctx.canvas,0,0);const a={...o,color:Wt(),ctx:s},i=[...e.layers];if(i.splice(t.payload+1,0,a),!a.ctx)throw new Error("duplicatedLayer has no canvas context");const c=t.payload+2,d=i[c]?.ctx?.canvas;Object.assign(a.ctx.canvas.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),d?r.insertBefore(a.ctx.canvas,d):r.appendChild(a.ctx.canvas);let l=e.selectedLayerIdx;t.payload<l&&l++;for(let u=t.payload+1;u<i.length;u++){const f=i[u];if(!f.ctx?.canvas)continue;const h=f.ctx.canvas,p=f.ctx;h.id=`drawing-canvas-${u}`,u===l?(h.classList.add("active"),h.style.pointerEvents="auto"):(p.clearRect(0,0,h.width,h.height),h.classList.remove("active"),h.style.pointerEvents="none")}return{...e,layers:i,selectedLayerIdx:l,currentLayer:i[l]}}case 15:{const r=e.imgCtx;if(!r)return e;let o=e.layers,n=!1,s=!1;t.payload?.refreshIdx===-1&&(s=!0);for(let a=0;a<e.layers.length;a++){const i=e.layers[a],{filter:c,selectionArea:d}=i.selection;if(!d)continue;const l=di[c];if(!l)continue;t.payload?.refreshIdx===a&&(s=!0);const{updatedSelection:u}=l({imageCanvas:r,layer:{...i,selection:{...i.selection}},selectionArea:d,refresh:s??t.payload?.refreshIdx===a});u!==i.selection&&(n||(o=e.layers.slice(),n=!0),o[a]={...i,selection:u})}return n?{...e,layers:o}:e}case 14:{const r=e.imgCtx;if(!r)return e;if(!e.originalImageData)throw new Error("Original image data is not defined");return r.putImageData(e.originalImageData,0,0),e}case 16:{const{key:r,value:o}=t.payload;return{...e,[r]:o}}default:return e}};class hi{points;startPoint;mouseStartPos={x:0,y:0};selectionArea;isDrawing=!1;cwidth;cheight;isAllArea;constructor(){this.points=[],this.startPoint=null,this.mouseStartPos={x:0,y:0},this.selectionArea=null,this.isDrawing=!1,this.cwidth=0,this.cheight=0,this.isAllArea=!1}begin(t){this.isDrawing=!0,this.startPoint=t,this.points=[t],this.selectionArea||(this.selectionArea=new Uint8Array(this.cwidth*this.cheight))}update(t){this.isDrawing&&this.points.push(t)}finish(){this.isDrawing&&(this.points.length<=1&&this.selectAllArea(),this.isDrawing=!1)}reset(){this.points=[],this.startPoint=null,this.selectionArea=null,this.isDrawing=!1,this.isAllArea=!1}loadSelection(t,r){this.points=t,this.startPoint=r}selectAllArea(){this.points=[{x:0,y:0},{x:this.cwidth-1,y:0},{x:this.cwidth-1,y:this.cheight-1},{x:0,y:this.cheight-1}],this.startPoint=this.points[0],this.isAllArea=!0}fillSelectionArea(t){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(const r of t){const o=r.y*this.cwidth+r.x;this.selectionArea[o]=1}}getSelectArea(){if(!(this.points.length<=1)){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(let t=0;t<this.cwidth;t++)for(let r=0;r<this.cheight;r++)if(this.pointInPolygon({x:t,y:r},this.points)){const o=r*this.cwidth+t;this.selectionArea[o]=1}}}getSelectedAreaCoords(){if(!this.selectionArea)return null;const t=this.selectionArea;let r=0;for(let s=0;s<t.length;s++)t[s]===1&&r++;const o=new Uint32Array(r);let n=0;for(let s=0;s<t.length;s++)t[s]===1&&(o[n++]=s);return o}moveSelection(t,r){this.points=this.points.map(o=>({x:o.x+t,y:o.y+r,data:o.data})),this.startPoint={x:this.startPoint.x+t,y:this.startPoint.y+r}}getPointsBoundingBox(){let t=1/0,r=1/0,o=-1/0,n=-1/0;for(const{x:i,y:c}of this.points)i<t&&(t=i),c<r&&(r=c),i>o&&(o=i),c>n&&(n=c);const s=o-t+1,a=n-r+1;return[s,a,t,r]}pointInPolygon(t,r){let o=!1,n=r.length-1;for(let s=0;s<r.length;s++){const a=r[s].x,i=r[s].y,c=r[n].x,d=r[n].y;i>t.y!=d>t.y&&t.x<(c-a)*(t.y-i)/(d-i)+a&&(o=!o),n=s}return o}renderSelection(t,r,o){if(!this.startPoint)return;t.clearRect(0,0,r.width,r.height),t.setLineDash([5,3]),t.strokeStyle=o;const n=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(s,a,i,c)=>`#${a}${a}${i}${i}${c}${c}`).substring(1).match(/.{2}/g)?.map(s=>parseInt(s,16))??[0,0,0];t.fillStyle=`rgb(${n[0]}, ${n[1]}, ${n[2]}, 0.3)`,t.lineWidth=2,t.beginPath();for(let s=0;s<this.points.length;s++){const a=this.points[s];s===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)}t.lineTo(this.startPoint.x,this.startPoint.y),t.fill(),t.stroke(),t.closePath(),t.setLineDash([])}}function fc(e){const{start:t,stop:r}=st(),{state:o,dispatch:n}=ge(),s=G.useContext(Br),a=G.useRef(null),i=G.useRef(null),c=G.useRef(new hi),[d,l]=G.useState([]),[u,f]=G.useState(!1),h=G.useCallback(p=>d.findIndex(y=>y.identifier===p),[d]);return G.useEffect(()=>{if(o.imgBuf.byteLength===0||!a.current)return;const p=a.current,y=p?.getContext("2d",{willReadFrequently:!0});if(!y)return;const _=i.current;if(!_)return;_.querySelectorAll('[id^="drawing-canvas-"]').forEach(M=>{M.remove()}),t();const U=new Blob([o.imgBuf]),P=URL.createObjectURL(U),L=new Image;L.onload=()=>{p.width=L.naturalWidth,p.height=L.naturalHeight,y.drawImage(L,0,0),n({type:Y.UpdateState,payload:{key:"imgCtx",value:y}}),new Uint8Array(L.naturalWidth*L.naturalHeight).fill(1),c.current.cwidth=L.naturalWidth,c.current.cheight=L.naturalHeight,n({type:Y.UpdateState,payload:{key:"originalImageData",value:y.getImageData(0,0,y.canvas.width,y.canvas.height)}}),r()},L.onerror=()=>{r(),console.error("Failed to load image")},L.src=P},[o.imgBuf,n,t,r]),G.useEffect(()=>{const p=i.current;if(!p)return;const y=p.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`);if(!y)return;const _=o.currentLayer?.ctx;if(!_){console.log("drawingCanvasCtx empty in register");return}const b=C=>{const E=Fe(y,C.clientX,C.clientY);c.current.reset(),c.current.begin(E),c.current.renderSelection(_,y,o.currentLayer.color)},U=C=>{if(!c.current.isDrawing)return;const E=Fe(y,C.clientX,C.clientY);c.current.update(E),c.current.renderSelection(_,y,o.currentLayer.color)},P=()=>{c.current.isDrawing&&(c.current.finish(),_.clearRect(0,0,y.width,y.height),c.current.renderSelection(_,y,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:Y.ResetImageCanvas}),c.current.getSelectArea();const{points:C,startPoint:E}=c.current;if(n({type:Y.SetPointsToLayer,payload:{points:C,start:E}}),!a.current?.getContext("2d"))return;const x=c.current.getSelectedAreaCoords();n({type:Y.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:x},withUpdateInitialPresent:!0}});const[,,g,O]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:g,y:O},n({type:Y.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),r()}))},L=C=>{C.preventDefault();const E=C.changedTouches;if(E.length>0){const A=Fe(y,E[0].clientX,E[0].clientY);c.current.reset(),c.current.begin(A),l([E[0]]),c.current.renderSelection(_,y,o.currentLayer.color)}},M=C=>{if(!c.current.isDrawing)return;const E=C.changedTouches;for(let A=0;A<E.length;A++){const T=h(E[A].identifier);if(T>=0){const x=Fe(y,E[A].clientX,E[A].clientY);c.current.update(x),l(g=>{const O=[...g];return O.splice(T,1,E[A]),O})}}c.current.renderSelection(_,y,o.currentLayer.color)},w=C=>{if(!c.current.isDrawing)return;C.preventDefault(),c.current.finish();const E=C.changedTouches;for(let A=0;A<E.length;A++){const T=h(E[A].identifier);T>=0&&l(x=>x.filter((g,O)=>O!==T))}c.current.renderSelection(_,y,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:Y.ResetImageCanvas}),c.current.getSelectArea();const{points:A,startPoint:T}=c.current;if(n({type:Y.SetPointsToLayer,payload:{points:A,start:T}}),!a.current?.getContext("2d"))return;const O=c.current.getSelectedAreaCoords();n({type:Y.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:O},withUpdateInitialPresent:!0}});const[,,j,B]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:j,y:B},n({type:Y.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),r()})},k=C=>{C.preventDefault();const E=C.changedTouches;for(let A=0;A<E.length;A++){const T=h(E[A].identifier);T>=0&&l(x=>x.filter((g,O)=>O!==T))}c.current.finish()},v=()=>{c.current.isDrawing&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",I))},m=C=>{if(!c.current.isDrawing)return;let E=Fe(y,C.clientX,C.clientY);const A=y.width,T=y.height;E={x:Math.max(0,Math.min(A,E.x)),y:Math.max(0,Math.min(T,E.y))},c.current.points.push(E),c.current.renderSelection(_,y,o.currentLayer.color)},I=()=>{c.current.isDrawing&&(document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",I),c.current.finish(),_.clearRect(0,0,y.width,y.height),c.current.renderSelection(_,y,o.currentLayer.color),t(),requestIdleCallback(()=>{n({type:Y.ResetImageCanvas}),c.current.getSelectArea();const{points:C,startPoint:E}=c.current;n({type:Y.SetPointsToLayer,payload:{points:C,start:E}}),a.current?.getContext("2d")&&(n({type:Y.GenerateResult}),r())}))},S=new AbortController;return o.mode==="edit"&&(y.addEventListener("mousedown",b,S),y.addEventListener("mousemove",U,S),y.addEventListener("mouseup",P,S),y.addEventListener("touchstart",L,S),y.addEventListener("touchmove",M,S),y.addEventListener("touchend",w,S),y.addEventListener("touchcancel",k,S),y.addEventListener("mouseout",v,S)),()=>{S.abort()}},[o.selectedLayerIdx,o.currentLayer,o.mode,n,h,t,r,s?.isActive,s?.getCurrentStep,s?.next]),G.useEffect(()=>{const p=i.current;if(!p)return;const y=p.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`);if(!o.currentLayer?.selection)return;const{points:_,start:b}=o.currentLayer.selection;if(c.current.reset(),c.current.loadSelection(_,b),y&&o.currentLayer?.ctx&&(_.length===0&&o.currentLayer.ctx?.clearRect(0,0,y?.width,y?.height),c.current.renderSelection(o.currentLayer.ctx,y,o.currentLayer.color)),o.selectedLayerIdx>=0&&!o.currentLayer?.ctx){const U=i.current;if(!U)return;const P=a.current,L=document.createElement("canvas");P&&(L.width=P.width,L.height=P.height),L.id=`drawing-canvas-${o.selectedLayerIdx}`,Object.assign(L.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),U.appendChild(L);const M=L.getContext("2d");n({type:Y.UpdateLayer,payload:{layerIdx:o.selectedLayerIdx,pselection:{ctx:M}}})}},[o.selectedLayerIdx,o.currentLayer,o.currentLayer?.commands.present,n]),G.useEffect(()=>{const p=i.current;if(!p)return;const y=p.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`),_=o.currentLayer;if(_&&!(!y||!_.ctx)&&o.mode==="move"){const b=_.ctx;if(!b||!y.getContext("2d"))return;const P=I=>{I.preventDefault();const{x:S,y:C}=Fe(y,I.clientX,I.clientY),[E,A,T,x]=c.current.getPointsBoundingBox();yn({drawing:{width:E,height:A,minX:T,minY:x},mouse:{x:S,y:C}})&&(f(!0),c.current.mouseStartPos={x:S,y:C})},L=I=>{u&&(I.preventDefault(),f(!1),t(),requestIdleCallback(()=>{n({type:Y.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:C}=c.current;if(n({type:Y.SetPointsToLayer,payload:{points:S,start:C}}),!a.current?.getContext("2d",{willReadFrequently:!0}))return;const T=c.current.getSelectedAreaCoords();n({type:Y.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:T},withUpdateInitialPresent:!0}}),n({type:Y.GenerateResult}),r()}))},M=I=>{const{x:S,y:C}=Fe(y,I.clientX,I.clientY),E=c.current.mouseStartPos;if(!E||!u)return;const A=S-E.x,T=C-E.y;c.current.moveSelection(A,T),c.current.mouseStartPos={x:S,y:C},c.current.renderSelection(b,y,_.color)},w=I=>{I.preventDefault();const S=I.changedTouches;if(S.length>0){const{x:C,y:E}=Fe(y,S[0].clientX,S[0].clientY),[A,T,x,g]=c.current.getPointsBoundingBox();if(!yn({drawing:{width:A,height:T,minX:x,minY:g},mouse:{x:C,y:E}}))return;f(!0),c.current.mouseStartPos={x:C,y:E}}},k=I=>{I.preventDefault();const S=I.changedTouches;if(S.length===0)return;const{x:C,y:E}=Fe(y,S[0].clientX,S[0].clientY),A=c.current.mouseStartPos;if(!A||!u)return;const T=C-A.x,x=E-A.y;c.current.moveSelection(T,x),c.current.mouseStartPos={x:C,y:E},c.current.renderSelection(b,y,o.currentLayer.color)},v=I=>{u&&(I.preventDefault(),f(!1),t(),requestIdleCallback(()=>{n({type:Y.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:C}=c.current;if(n({type:Y.SetPointsToLayer,payload:{points:S,start:C}}),!a.current?.getContext("2d",{willReadFrequently:!0}))return;const T=c.current.getSelectedAreaCoords();n({type:Y.UpdateLayerSelection,payload:{layerIdx:o.selectedLayerIdx,pselection:{selectionArea:T},withUpdateInitialPresent:!0}}),n({type:Y.GenerateResult}),r()}))},m=new AbortController;return y.addEventListener("mousedown",P,m),y.addEventListener("mouseup",L,m),y.addEventListener("mousemove",M,m),y.addEventListener("touchstart",w,m),y.addEventListener("touchmove",k,m),y.addEventListener("touchend",v,m),()=>{m.abort()}}},[o.mode,o.currentLayer,o.selectedLayerIdx,u,n,t,r]),G.useEffect(()=>{n({type:Y.SelectLayer,payload:o.selectedLayerIdx})},[o.selectedLayerIdx,n]),G.useEffect(()=>{const p=i.current;if(!p)return;const y=p.querySelector(`#drawing-canvas-${o.selectedLayerIdx}`),_=o.currentLayer;_&&(!y||!_.ctx||(o.hideSelectionOverlay?_.ctx.clearRect(0,0,y.width,y.height):c.current.renderSelection(_.ctx,y,o.currentLayer.color)))},[o.hideSelectionOverlay,o.currentLayer,o.selectedLayerIdx]),F.jsx("div",{id:"canvasContainer",ref:i,style:{position:"relative",display:"inline-block",lineHeight:0},...e,children:F.jsx("canvas",{id:"imageCanvas",ref:a,style:{display:"block",maxWidth:"100%",height:"auto"}})})}const pi="modulepreload",gi=function(e){return"/bendor/"+e},bn={},mi=function(t,r,o){let n=Promise.resolve();if(r&&r.length>0){let c=function(d){return Promise.all(d.map(l=>Promise.resolve(l).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");n=c(r.map(d=>{if(d=gi(d),d in bn)return;bn[d]=!0;const l=d.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":pi,l||(f.as="script"),f.crossOrigin="",f.href=d,i&&f.setAttribute("nonce",i),document.head.appendChild(f),l)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return n.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},dc=Ms`
  @font-face {
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    box-sizing: border-box;
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
  }
  
  /* html reset */
  html,
  body,
  div,
  span,
  applet,
  object,
  iframe,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  a,
  abbr,
  acronym,
  address,
  big,
  cite,
  code,
  del,
  dfn,
  em,
  img,
  ins,
  kbd,
  q,
  s,
  samp,
  small,
  strike,
  strong,
  sub,
  sup,
  tt,
  var,
  b,
  u,
  i,
  center,
  dl,
  dt,
  dd,
  ol,
  ul,
  li,
  fieldset,
  form,
  label,
  legend,
  table,
  caption,
  tbody,
  tfoot,
  thead,
  tr,
  th,
  td,
  article,
  aside,
  canvas,
  details,
  embed,
  figure,
  figcaption,
  footer,
  header,
  hgroup,
  menu,
  nav,
  output,
  ruby,
  section,
  summary,
  time,
  mark,
  audio,
  video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    vertical-align: baseline;
  }
  
  /* HTML5 display-role reset for older browsers */
  article,
  aside,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  menu,
  nav,
  section {
    display: block;
  }
  
  body {
    line-height: 1;
    background-repeat: repeat;
    background-image: url("./grid_patterns.png");
  }
  
  ol,
  ul {
    list-style: none;
  }
  
  blockquote,
  q {
    quotes: none;
  }
  
  blockquote:before,
  blockquote:after,
  q:before,
  q:after {
    content: "";
    content: none;
  }
  
  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  button {
    all: unset;
  }

  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  select::-ms-expand {
    display: none;
  }

  .react-colorful__saturation {
    border-radius: 0px !important;
  }

  .react-colorful__hue {
    border-radius: 0px !important;
  }

  .react-colorful__last-control {
    border-radius: 0px !important;
  }

  .onboarding {
    border: 2px solid ${({theme:e})=>e.colors.primary};
    border-radius: 0px;
  }

  .shepherd-modal-overlay-container {
    opacity: 0.6 !important;
  }

  .shepherd-title {
    color: ${({theme:e})=>e.colors.primary};
  }

  .shepherd-element .shepherd-arrow:after {
    content: url('./images/arrow.svg');
    color: #0062f6ff;
    display: inline-block;
  }

  .shepherd-element .shepherd-arrow {
    border-width: 0;
    height: auto;
    width: auto;
  }

  .shepherd-arrow::before {
    display: none;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow {
    bottom: -35px;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow:after {
    transform: rotate(270deg);
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow {
    top: -35px;
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow:after {
    transform: rotate(90deg);
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow {
    right: -35px;
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow:after {
    transform: rotate(180deg);
  }

  .shepherd-element[data-popper-placement^='right'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-right .shepherd-arrow {
    left: -35px;
  }

  .shepherd-button {
    background: #ffffff;
    border-radius: 0;
    color: ${({theme:e})=>e.colors.primary};
    display: flex;
    flex-grow: 1;
    font-size: 1rem;
    justify-content: center;
    margin: 0;
    padding: 0.2;
    text-align: center;
    text-transform: uppercase;
  }

  .shepherd-button:hover {
    color: ${({theme:e})=>e.colors.primary};
    color: #ffffff;
  }

  .shepherd-button.shepherd-button-secondary {
    background: #cad5d5;
  }

  .shepherd-button.shepherd-button-secondary:hover {
    color: #cad5d5;
    color: ${({theme:e})=>e.colors.primary};
  }
`,hc=W.div`
  margin-top: auto;
`,mt=W.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  align-items: center;
`,zt=W.div`
  display: flex;
  justify-content: center;
  width: 100%;
  align-items: center;
  gap: 4px;
`,ao=W.div`
  display: flex;
  flex-direction: ${({direction:e})=>e==="col"?"column":"row"};
  gap: 8px;
`;function yi(e,t){return t.forEach((function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach((function(o){if(o!=="default"&&!(o in e)){var n=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(e,o,n.get?n:{enumerable:!0,get:function(){return r[o]}})}}))})),Object.freeze(e)}function co(e,t){return new Promise((function(r,o){let n;return vi(e).then((function(s){try{return n=s,r(new Blob([t.slice(0,2),n,t.slice(2)],{type:"image/jpeg"}))}catch(a){return o(a)}}),o)}))}const vi=e=>new Promise(((t,r)=>{const o=new FileReader;o.addEventListener("load",(({target:{result:n}})=>{const s=new DataView(n);let a=0;if(s.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const i=s.getUint16(a);if(i===65498)break;const c=s.getUint16(a+2);if(i===65505&&s.getUint32(a+4)===1165519206){const d=a+10;let l;switch(s.getUint16(d)){case 18761:l=!0;break;case 19789:l=!1;break;default:return r("TIFF header contains invalid endian")}if(s.getUint16(d+2,l)!==42)return r("TIFF header contains invalid version");const u=s.getUint32(d+4,l),f=d+u+2+12*s.getUint16(d+u,l);for(let h=d+u+2;h<f;h+=12)if(s.getUint16(h,l)==274){if(s.getUint16(h+2,l)!==3)return r("Orientation data type is invalid");if(s.getUint32(h+4,l)!==1)return r("Orientation data count is invalid");s.setUint16(h+8,1,l);break}return t(n.slice(a,a+2+c))}a+=2+c}return t(new Blob)})),o.readAsArrayBuffer(e)}));var Xt={},xi={get exports(){return Xt},set exports(e){Xt=e}};(function(e){var t,r,o={};xi.exports=o,o.parse=function(n,s){for(var a=o.bin.readUshort,i=o.bin.readUint,c=0,d={},l=new Uint8Array(n),u=l.length-4;i(l,u)!=101010256;)u--;c=u,c+=4;var f=a(l,c+=4);a(l,c+=2);var h=i(l,c+=2),p=i(l,c+=4);c+=4,c=p;for(var y=0;y<f;y++){i(l,c),c+=4,c+=4,c+=4,i(l,c+=4),h=i(l,c+=4);var _=i(l,c+=4),b=a(l,c+=4),U=a(l,c+2),P=a(l,c+4);c+=6;var L=i(l,c+=8);c+=4,c+=b+U+P,o._readLocal(l,L,d,h,_,s)}return d},o._readLocal=function(n,s,a,i,c,d){var l=o.bin.readUshort,u=o.bin.readUint;u(n,s),l(n,s+=4),l(n,s+=2);var f=l(n,s+=2);u(n,s+=2),u(n,s+=4),s+=4;var h=l(n,s+=8),p=l(n,s+=2);s+=2;var y=o.bin.readUTF8(n,s,h);if(s+=h,s+=p,d)a[y]={size:c,csize:i};else{var _=new Uint8Array(n.buffer,s);if(f==0)a[y]=new Uint8Array(_.buffer.slice(s,s+i));else{if(f!=8)throw"unknown compression method: "+f;var b=new Uint8Array(c);o.inflateRaw(_,b),a[y]=b}}},o.inflateRaw=function(n,s){return o.F.inflate(n,s)},o.inflate=function(n,s){return n[0],n[1],o.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),s)},o.deflate=function(n,s){s==null&&(s={level:6});var a=0,i=new Uint8Array(50+Math.floor(1.1*n.length));i[a]=120,i[a+1]=156,a+=2,a=o.F.deflateRaw(n,i,a,s.level);var c=o.adler(n,0,n.length);return i[a+0]=c>>>24&255,i[a+1]=c>>>16&255,i[a+2]=c>>>8&255,i[a+3]=c>>>0&255,new Uint8Array(i.buffer,0,a+4)},o.deflateRaw=function(n,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*n.length)),i=o.F.deflateRaw(n,a,i,s.level);return new Uint8Array(a.buffer,0,i)},o.encode=function(n,s){s==null&&(s=!1);var a=0,i=o.bin.writeUint,c=o.bin.writeUshort,d={};for(var l in n){var u=!o._noNeed(l)&&!s,f=n[l],h=o.crc.crc(f,0,f.length);d[l]={cpr:u,usize:f.length,crc:h,file:u?o.deflateRaw(f):f}}for(var l in d)a+=d[l].file.length+30+46+2*o.bin.sizeUTF8(l);a+=22;var p=new Uint8Array(a),y=0,_=[];for(var l in d){var b=d[l];_.push(y),y=o._writeHeader(p,y,l,b,0)}var U=0,P=y;for(var l in d)b=d[l],_.push(y),y=o._writeHeader(p,y,l,b,1,_[U++]);var L=y-P;return i(p,y,101010256),y+=4,c(p,y+=4,U),c(p,y+=2,U),i(p,y+=2,L),i(p,y+=4,P),y+=4,y+=2,p.buffer},o._noNeed=function(n){var s=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},o._writeHeader=function(n,s,a,i,c,d){var l=o.bin.writeUint,u=o.bin.writeUshort,f=i.file;return l(n,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),u(n,s,20),u(n,s+=2,0),u(n,s+=2,i.cpr?8:0),l(n,s+=2,0),l(n,s+=4,i.crc),l(n,s+=4,f.length),l(n,s+=4,i.usize),u(n,s+=4,o.bin.sizeUTF8(a)),u(n,s+=2,0),s+=2,c==1&&(s+=2,s+=2,l(n,s+=6,d),s+=4),s+=o.bin.writeUTF8(n,s,a),c==0&&(n.set(f,s),s+=f.length),s},o.crc={table:(function(){for(var n=new Uint32Array(256),s=0;s<256;s++){for(var a=s,i=0;i<8;i++)1&a?a=3988292384^a>>>1:a>>>=1;n[s]=a}return n})(),update:function(n,s,a,i){for(var c=0;c<i;c++)n=o.crc.table[255&(n^s[a+c])]^n>>>8;return n},crc:function(n,s,a){return 4294967295^o.crc.update(4294967295,n,s,a)}},o.adler=function(n,s,a){for(var i=1,c=0,d=s,l=s+a;d<l;){for(var u=Math.min(d+5552,l);d<u;)c+=i+=n[d++];i%=65521,c%=65521}return c<<16|i},o.bin={readUshort:function(n,s){return n[s]|n[s+1]<<8},writeUshort:function(n,s,a){n[s]=255&a,n[s+1]=a>>8&255},readUint:function(n,s){return 16777216*n[s+3]+(n[s+2]<<16|n[s+1]<<8|n[s])},writeUint:function(n,s,a){n[s]=255&a,n[s+1]=a>>8&255,n[s+2]=a>>16&255,n[s+3]=a>>24&255},readASCII:function(n,s,a){for(var i="",c=0;c<a;c++)i+=String.fromCharCode(n[s+c]);return i},writeASCII:function(n,s,a){for(var i=0;i<a.length;i++)n[s+i]=a.charCodeAt(i)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,s,a){for(var i,c="",d=0;d<a;d++)c+="%"+o.bin.pad(n[s+d].toString(16));try{i=decodeURIComponent(c)}catch{return o.bin.readASCII(n,s,a)}return i},writeUTF8:function(n,s,a){for(var i=a.length,c=0,d=0;d<i;d++){var l=a.charCodeAt(d);if((4294967168&l)==0)n[s+c]=l,c++;else if((4294965248&l)==0)n[s+c]=192|l>>6,n[s+c+1]=128|l>>0&63,c+=2;else if((4294901760&l)==0)n[s+c]=224|l>>12,n[s+c+1]=128|l>>6&63,n[s+c+2]=128|l>>0&63,c+=3;else{if((4292870144&l)!=0)throw"e";n[s+c]=240|l>>18,n[s+c+1]=128|l>>12&63,n[s+c+2]=128|l>>6&63,n[s+c+3]=128|l>>0&63,c+=4}}return c},sizeUTF8:function(n){for(var s=n.length,a=0,i=0;i<s;i++){var c=n.charCodeAt(i);if((4294967168&c)==0)a++;else if((4294965248&c)==0)a+=2;else if((4294901760&c)==0)a+=3;else{if((4292870144&c)!=0)throw"e";a+=4}}return a}},o.F={},o.F.deflateRaw=function(n,s,a,i){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],d=o.F.U,l=o.F._goodIndex;o.F._hash;var u=o.F._putsE,f=0,h=a<<3,p=0,y=n.length;if(i==0){for(;f<y;)u(s,h,f+(S=Math.min(65535,y-f))==y?1:0),h=o.F._copyExact(n,f,S,s,h+8),f+=S;return h>>>3}var _=d.lits,b=d.strt,U=d.prev,P=0,L=0,M=0,w=0,k=0,v=0;for(y>2&&(b[v=o.F._hash(n,0)]=0),f=0;f<y;f++){if(k=v,f+1<y-2){v=o.F._hash(n,f+1);var m=f+1&32767;U[m]=b[v],b[v]=m}if(p<=f){(P>14e3||L>26697)&&y-f>100&&(p<f&&(_[P]=f-p,P+=2,p=f),h=o.F._writeBlock(f==y-1||p==y?1:0,_,P,w,n,M,f-M,s,h),P=L=w=0,M=f);var I=0;f<y-2&&(I=o.F._bestMatch(n,f,U,k,Math.min(c[2],y-f),c[3]));var S=I>>>16,C=65535&I;if(I!=0){C=65535&I;var E=l(S=I>>>16,d.of0);d.lhst[257+E]++;var A=l(C,d.df0);d.dhst[A]++,w+=d.exb[E]+d.dxb[A],_[P]=S<<23|f-p,_[P+1]=C<<16|E<<8|A,P+=2,p=f+S}else d.lhst[n[f]]++;L++}}for(M==f&&n.length!=0||(p<f&&(_[P]=f-p,P+=2,p=f),h=o.F._writeBlock(1,_,P,w,n,M,f-M,s,h),P=0,L=0,P=L=w=0,M=f);(7&h)!=0;)h++;return h>>>3},o.F._bestMatch=function(n,s,a,i,c,d){var l=32767&s,u=a[l],f=l-u+32768&32767;if(u==l||i!=o.F._hash(n,s-f))return 0;for(var h=0,p=0,y=Math.min(32767,s);f<=y&&--d!=0&&u!=l;){if(h==0||n[s+h]==n[s+h-f]){var _=o.F._howLong(n,s,f);if(_>h){if(p=f,(h=_)>=c)break;f+2<_&&(_=f+2);for(var b=0,U=0;U<_-2;U++){var P=s-f+U+32768&32767,L=P-a[P]+32768&32767;L>b&&(b=L,u=P)}}}f+=(l=u)-(u=a[l])+32768&32767}return h<<16|p},o.F._howLong=function(n,s,a){if(n[s]!=n[s-a]||n[s+1]!=n[s+1-a]||n[s+2]!=n[s+2-a])return 0;var i=s,c=Math.min(n.length,s+258);for(s+=3;s<c&&n[s]==n[s-a];)s++;return s-i},o.F._hash=function(n,s){return(n[s]<<8|n[s+1])+(n[s+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(n,s,a,i,c,d,l,u,f){var h,p,y,_,b,U,P,L,M,w=o.F.U,k=o.F._putsF,v=o.F._putsE;w.lhst[256]++,p=(h=o.F.getTrees())[0],y=h[1],_=h[2],b=h[3],U=h[4],P=h[5],L=h[6],M=h[7];var m=32+((f+3&7)==0?0:8-(f+3&7))+(l<<3),I=i+o.F.contSize(w.fltree,w.lhst)+o.F.contSize(w.fdtree,w.dhst),S=i+o.F.contSize(w.ltree,w.lhst)+o.F.contSize(w.dtree,w.dhst);S+=14+3*P+o.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var C=0;C<286;C++)w.lhst[C]=0;for(C=0;C<30;C++)w.dhst[C]=0;for(C=0;C<19;C++)w.ihst[C]=0;var E=m<I&&m<S?0:I<S?1:2;if(k(u,f,n),k(u,f+1,E),f+=3,E==0){for(;(7&f)!=0;)f++;f=o.F._copyExact(c,d,l,u,f)}else{var A,T;if(E==1&&(A=w.fltree,T=w.fdtree),E==2){o.F.makeCodes(w.ltree,p),o.F.revCodes(w.ltree,p),o.F.makeCodes(w.dtree,y),o.F.revCodes(w.dtree,y),o.F.makeCodes(w.itree,_),o.F.revCodes(w.itree,_),A=w.ltree,T=w.dtree,v(u,f,b-257),v(u,f+=5,U-1),v(u,f+=5,P-4),f+=4;for(var x=0;x<P;x++)v(u,f+3*x,w.itree[1+(w.ordr[x]<<1)]);f+=3*P,f=o.F._codeTiny(L,w.itree,u,f),f=o.F._codeTiny(M,w.itree,u,f)}for(var g=d,O=0;O<a;O+=2){for(var j=s[O],B=j>>>23,R=g+(8388607&j);g<R;)f=o.F._writeLit(c[g++],A,u,f);if(B!=0){var $=s[O+1],z=$>>16,N=$>>8&255,D=255&$;v(u,f=o.F._writeLit(257+N,A,u,f),B-w.of0[N]),f+=w.exb[N],k(u,f=o.F._writeLit(D,T,u,f),z-w.df0[D]),f+=w.dxb[D],g+=B}}f=o.F._writeLit(256,A,u,f)}return f},o.F._copyExact=function(n,s,a,i,c){var d=c>>>3;return i[d]=a,i[d+1]=a>>>8,i[d+2]=255-i[d],i[d+3]=255-i[d+1],d+=4,i.set(new Uint8Array(n.buffer,s,a),d),c+(a+4<<3)},o.F.getTrees=function(){for(var n=o.F.U,s=o.F._hufTree(n.lhst,n.ltree,15),a=o.F._hufTree(n.dhst,n.dtree,15),i=[],c=o.F._lenCodes(n.ltree,i),d=[],l=o.F._lenCodes(n.dtree,d),u=0;u<i.length;u+=2)n.ihst[i[u]]++;for(u=0;u<d.length;u+=2)n.ihst[d[u]]++;for(var f=o.F._hufTree(n.ihst,n.itree,7),h=19;h>4&&n.itree[1+(n.ordr[h-1]<<1)]==0;)h--;return[s,a,f,c,l,h,i,d]},o.F.getSecond=function(n){for(var s=[],a=0;a<n.length;a+=2)s.push(n[a+1]);return s},o.F.nonZero=function(n){for(var s="",a=0;a<n.length;a+=2)n[a+1]!=0&&(s+=(a>>1)+",");return s},o.F.contSize=function(n,s){for(var a=0,i=0;i<s.length;i++)a+=s[i]*n[1+(i<<1)];return a},o.F._codeTiny=function(n,s,a,i){for(var c=0;c<n.length;c+=2){var d=n[c],l=n[c+1];i=o.F._writeLit(d,s,a,i);var u=d==16?2:d==17?3:7;d>15&&(o.F._putsE(a,i,l,u),i+=u)}return i},o.F._lenCodes=function(n,s){for(var a=n.length;a!=2&&n[a-1]==0;)a-=2;for(var i=0;i<a;i+=2){var c=n[i+1],d=i+3<a?n[i+3]:-1,l=i+5<a?n[i+5]:-1,u=i==0?-1:n[i-1];if(c==0&&d==c&&l==c){for(var f=i+5;f+2<a&&n[f+2]==c;)f+=2;(h=Math.min(f+1-i>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),i+=2*h-2}else if(c==u&&d==c&&l==c){for(f=i+5;f+2<a&&n[f+2]==c;)f+=2;var h=Math.min(f+1-i>>>1,6);s.push(16,h-3),i+=2*h-2}else s.push(c,0)}return a>>>1},o.F._hufTree=function(n,s,a){var i=[],c=n.length,d=s.length,l=0;for(l=0;l<d;l+=2)s[l]=0,s[l+1]=0;for(l=0;l<c;l++)n[l]!=0&&i.push({lit:l,f:n[l]});var u=i.length,f=i.slice(0);if(u==0)return 0;if(u==1){var h=i[0].lit;return f=h==0?1:0,s[1+(h<<1)]=1,s[1+(f<<1)]=1,1}i.sort((function(L,M){return L.f-M.f}));var p=i[0],y=i[1],_=0,b=1,U=2;for(i[0]={lit:-1,f:p.f+y.f,l:p,r:y,d:0};b!=u-1;)p=_!=b&&(U==u||i[_].f<i[U].f)?i[_++]:i[U++],y=_!=b&&(U==u||i[_].f<i[U].f)?i[_++]:i[U++],i[b++]={lit:-1,f:p.f+y.f,l:p,r:y};var P=o.F.setDepth(i[b-1],0);for(P>a&&(o.F.restrictDepth(f,a,P),P=a),l=0;l<u;l++)s[1+(f[l].lit<<1)]=f[l].d;return P},o.F.setDepth=function(n,s){return n.lit!=-1?(n.d=s,s):Math.max(o.F.setDepth(n.l,s+1),o.F.setDepth(n.r,s+1))},o.F.restrictDepth=function(n,s,a){var i=0,c=1<<a-s,d=0;for(n.sort((function(u,f){return f.d==u.d?u.f-f.f:f.d-u.d})),i=0;i<n.length&&n[i].d>s;i++){var l=n[i].d;n[i].d=s,d+=c-(1<<a-l)}for(d>>>=a-s;d>0;)(l=n[i].d)<s?(n[i].d++,d-=1<<s-l-1):i++;for(;i>=0;i--)n[i].d==s&&d<0&&(n[i].d--,d++);d!=0&&console.log("debt left")},o.F._goodIndex=function(n,s){var a=0;return s[16|a]<=n&&(a|=16),s[8|a]<=n&&(a|=8),s[4|a]<=n&&(a|=4),s[2|a]<=n&&(a|=2),s[1|a]<=n&&(a|=1),a},o.F._writeLit=function(n,s,a,i){return o.F._putsF(a,i,s[n<<1]),i+s[1+(n<<1)]},o.F.inflate=function(n,s){var a=Uint8Array;if(n[0]==3&&n[1]==0)return s||new a(0);var i=o.F,c=i._bitsF,d=i._bitsE,l=i._decodeTiny,u=i.makeCodes,f=i.codes2map,h=i._get17,p=i.U,y=s==null;y&&(s=new a(n.length>>>2<<3));for(var _,b,U=0,P=0,L=0,M=0,w=0,k=0,v=0,m=0,I=0;U==0;)if(U=c(n,I,1),P=c(n,I+1,2),I+=3,P!=0){if(y&&(s=o.F._check(s,m+(1<<17))),P==1&&(_=p.flmap,b=p.fdmap,k=511,v=31),P==2){L=d(n,I,5)+257,M=d(n,I+5,5)+1,w=d(n,I+10,4)+4,I+=14;for(var S=0;S<38;S+=2)p.itree[S]=0,p.itree[S+1]=0;var C=1;for(S=0;S<w;S++){var E=d(n,I+3*S,3);p.itree[1+(p.ordr[S]<<1)]=E,E>C&&(C=E)}I+=3*w,u(p.itree,C),f(p.itree,C,p.imap),_=p.lmap,b=p.dmap,I=l(p.imap,(1<<C)-1,L+M,n,I,p.ttree);var A=i._copyOut(p.ttree,0,L,p.ltree);k=(1<<A)-1;var T=i._copyOut(p.ttree,L,M,p.dtree);v=(1<<T)-1,u(p.ltree,A),f(p.ltree,A,_),u(p.dtree,T),f(p.dtree,T,b)}for(;;){var x=_[h(n,I)&k];I+=15&x;var g=x>>>4;if(!(g>>>8))s[m++]=g;else{if(g==256)break;var O=m+g-254;if(g>264){var j=p.ldef[g-257];O=m+(j>>>3)+d(n,I,7&j),I+=7&j}var B=b[h(n,I)&v];I+=15&B;var R=B>>>4,$=p.ddef[R],z=($>>>4)+c(n,I,15&$);for(I+=15&$,y&&(s=o.F._check(s,m+(1<<17)));m<O;)s[m]=s[m++-z],s[m]=s[m++-z],s[m]=s[m++-z],s[m]=s[m++-z];m=O}}}else{(7&I)!=0&&(I+=8-(7&I));var N=4+(I>>>3),D=n[N-4]|n[N-3]<<8;y&&(s=o.F._check(s,m+D)),s.set(new a(n.buffer,n.byteOffset+N,D),m),I=N+D<<3,m+=D}return s.length==m?s:s.slice(0,m)},o.F._check=function(n,s){var a=n.length;if(s<=a)return n;var i=new Uint8Array(Math.max(a<<1,s));return i.set(n,0),i},o.F._decodeTiny=function(n,s,a,i,c,d){for(var l=o.F._bitsE,u=o.F._get17,f=0;f<a;){var h=n[u(i,c)&s];c+=15&h;var p=h>>>4;if(p<=15)d[f]=p,f++;else{var y=0,_=0;p==16?(_=3+l(i,c,2),c+=2,y=d[f-1]):p==17?(_=3+l(i,c,3),c+=3):p==18&&(_=11+l(i,c,7),c+=7);for(var b=f+_;f<b;)d[f]=y,f++}}return c},o.F._copyOut=function(n,s,a,i){for(var c=0,d=0,l=i.length>>>1;d<a;){var u=n[d+s];i[d<<1]=0,i[1+(d<<1)]=u,u>c&&(c=u),d++}for(;d<l;)i[d<<1]=0,i[1+(d<<1)]=0,d++;return c},o.F.makeCodes=function(n,s){for(var a,i,c,d,l=o.F.U,u=n.length,f=l.bl_count,h=0;h<=s;h++)f[h]=0;for(h=1;h<u;h+=2)f[n[h]]++;var p=l.next_code;for(a=0,f[0]=0,i=1;i<=s;i++)a=a+f[i-1]<<1,p[i]=a;for(c=0;c<u;c+=2)(d=n[c+1])!=0&&(n[c]=p[d],p[d]++)},o.F.codes2map=function(n,s,a){for(var i=n.length,c=o.F.U.rev15,d=0;d<i;d+=2)if(n[d+1]!=0)for(var l=d>>1,u=n[d+1],f=l<<4|u,h=s-u,p=n[d]<<h,y=p+(1<<h);p!=y;)a[c[p]>>>15-s]=f,p++},o.F.revCodes=function(n,s){for(var a=o.F.U.rev15,i=15-s,c=0;c<n.length;c+=2){var d=n[c]<<s-n[c+1];n[c]=a[d]>>>i}},o.F._putsE=function(n,s,a){a<<=7&s;var i=s>>>3;n[i]|=a,n[i+1]|=a>>>8},o.F._putsF=function(n,s,a){a<<=7&s;var i=s>>>3;n[i]|=a,n[i+1]|=a>>>8,n[i+2]|=a>>>16},o.F._bitsE=function(n,s,a){return(n[s>>>3]|n[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},o.F._bitsF=function(n,s,a){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},o.F._get17=function(n,s){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16)>>>(7&s)},o.F._get25=function(n,s){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16|n[3+(s>>>3)]<<24)>>>(7&s)},o.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var n=o.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,n.rev15[s]=(a>>>16|a<<16)>>>17}function i(c,d,l){for(;d--!=0;)c.push(0,l)}for(s=0;s<32;s++)n.ldef[s]=n.of0[s]<<3|n.exb[s],n.ddef[s]=n.df0[s]<<4|n.dxb[s];i(n.fltree,144,8),i(n.fltree,112,9),i(n.fltree,24,7),i(n.fltree,8,8),o.F.makeCodes(n.fltree,9),o.F.codes2map(n.fltree,9,n.flmap),o.F.revCodes(n.fltree,9),i(n.fdtree,32,5),o.F.makeCodes(n.fdtree,5),o.F.codes2map(n.fdtree,5,n.fdmap),o.F.revCodes(n.fdtree,5),i(n.itree,19,0),i(n.ltree,286,0),i(n.dtree,30,0),i(n.ttree,320,0)})()})();var bi=yi({__proto__:null,default:Xt},[Xt]);const Ue=(function(){var e={nextZero(l,u){for(;l[u]!=0;)u++;return u},readUshort:(l,u)=>l[u]<<8|l[u+1],writeUshort(l,u,f){l[u]=f>>8&255,l[u+1]=255&f},readUint:(l,u)=>16777216*l[u]+(l[u+1]<<16|l[u+2]<<8|l[u+3]),writeUint(l,u,f){l[u]=f>>24&255,l[u+1]=f>>16&255,l[u+2]=f>>8&255,l[u+3]=255&f},readASCII(l,u,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(l[u+p]);return h},writeASCII(l,u,f){for(let h=0;h<f.length;h++)l[u+h]=f.charCodeAt(h)},readBytes(l,u,f){const h=[];for(let p=0;p<f;p++)h.push(l[u+p]);return h},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,u,f){let h,p="";for(let y=0;y<f;y++)p+=`%${e.pad(l[u+y].toString(16))}`;try{h=decodeURIComponent(p)}catch{return e.readASCII(l,u,f)}return h}};function t(l,u,f,h){const p=u*f,y=s(h),_=Math.ceil(u*y/8),b=new Uint8Array(4*p),U=new Uint32Array(b.buffer),{ctype:P}=h,{depth:L}=h,M=e.readUshort;if(P==6){const j=p<<2;if(L==8)for(var w=0;w<j;w+=4)b[w]=l[w],b[w+1]=l[w+1],b[w+2]=l[w+2],b[w+3]=l[w+3];if(L==16)for(w=0;w<j;w++)b[w]=l[w<<1]}else if(P==2){const j=h.tabs.tRNS;if(j==null){if(L==8)for(w=0;w<p;w++){var k=3*w;U[w]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k]}if(L==16)for(w=0;w<p;w++)k=6*w,U[w]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k]}else{var v=j[0];const B=j[1],R=j[2];if(L==8)for(w=0;w<p;w++){var m=w<<2;k=3*w,U[w]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k],l[k]==v&&l[k+1]==B&&l[k+2]==R&&(b[m+3]=0)}if(L==16)for(w=0;w<p;w++)m=w<<2,k=6*w,U[w]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k],M(l,k)==v&&M(l,k+2)==B&&M(l,k+4)==R&&(b[m+3]=0)}}else if(P==3){const j=h.tabs.PLTE,B=h.tabs.tRNS,R=B?B.length:0;if(L==1)for(var I=0;I<f;I++){var S=I*_,C=I*u;for(w=0;w<u;w++){m=C+w<<2;var E=3*(A=l[S+(w>>3)]>>7-((7&w)<<0)&1);b[m]=j[E],b[m+1]=j[E+1],b[m+2]=j[E+2],b[m+3]=A<R?B[A]:255}}if(L==2)for(I=0;I<f;I++)for(S=I*_,C=I*u,w=0;w<u;w++)m=C+w<<2,E=3*(A=l[S+(w>>2)]>>6-((3&w)<<1)&3),b[m]=j[E],b[m+1]=j[E+1],b[m+2]=j[E+2],b[m+3]=A<R?B[A]:255;if(L==4)for(I=0;I<f;I++)for(S=I*_,C=I*u,w=0;w<u;w++)m=C+w<<2,E=3*(A=l[S+(w>>1)]>>4-((1&w)<<2)&15),b[m]=j[E],b[m+1]=j[E+1],b[m+2]=j[E+2],b[m+3]=A<R?B[A]:255;if(L==8)for(w=0;w<p;w++){var A;m=w<<2,E=3*(A=l[w]),b[m]=j[E],b[m+1]=j[E+1],b[m+2]=j[E+2],b[m+3]=A<R?B[A]:255}}else if(P==4){if(L==8)for(w=0;w<p;w++){m=w<<2;var T=l[x=w<<1];b[m]=T,b[m+1]=T,b[m+2]=T,b[m+3]=l[x+1]}if(L==16)for(w=0;w<p;w++){var x;m=w<<2,T=l[x=w<<2],b[m]=T,b[m+1]=T,b[m+2]=T,b[m+3]=l[x+2]}}else if(P==0)for(v=h.tabs.tRNS?h.tabs.tRNS:-1,I=0;I<f;I++){const j=I*_,B=I*u;if(L==1)for(var g=0;g<u;g++){var O=(T=255*(l[j+(g>>>3)]>>>7-(7&g)&1))==255*v?0:255;U[B+g]=O<<24|T<<16|T<<8|T}else if(L==2)for(g=0;g<u;g++)O=(T=85*(l[j+(g>>>2)]>>>6-((3&g)<<1)&3))==85*v?0:255,U[B+g]=O<<24|T<<16|T<<8|T;else if(L==4)for(g=0;g<u;g++)O=(T=17*(l[j+(g>>>1)]>>>4-((1&g)<<2)&15))==17*v?0:255,U[B+g]=O<<24|T<<16|T<<8|T;else if(L==8)for(g=0;g<u;g++)O=(T=l[j+g])==v?0:255,U[B+g]=O<<24|T<<16|T<<8|T;else if(L==16)for(g=0;g<u;g++)T=l[j+(g<<1)],O=M(l,j+(g<<1))==v?0:255,U[B+g]=O<<24|T<<16|T<<8|T}return b}function r(l,u,f,h){const p=s(l),y=Math.ceil(f*p/8),_=new Uint8Array((y+1+l.interlace)*h);return u=l.tabs.CgBI?n(u,_):o(u,_),l.interlace==0?u=a(u,l,0,f,h):l.interlace==1&&(u=(function(U,P){const L=P.width,M=P.height,w=s(P),k=w>>3,v=Math.ceil(L*w/8),m=new Uint8Array(M*v);let I=0;const S=[0,0,4,0,2,0,1],C=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const g=E[T],O=A[T];let j=0,B=0,R=S[T];for(;R<M;)R+=g,B++;let $=C[T];for(;$<L;)$+=O,j++;const z=Math.ceil(j*w/8);a(U,P,I,j,B);let N=0,D=S[T];for(;D<M;){let H=C[T],q=I+N*z<<3;for(;H<L;){var x;if(w==1&&(x=(x=U[q>>3])>>7-(7&q)&1,m[D*v+(H>>3)]|=x<<7-((7&H)<<0)),w==2&&(x=(x=U[q>>3])>>6-(7&q)&3,m[D*v+(H>>2)]|=x<<6-((3&H)<<1)),w==4&&(x=(x=U[q>>3])>>4-(7&q)&15,m[D*v+(H>>1)]|=x<<4-((1&H)<<2)),w>=8){const X=D*v+H*k;for(let V=0;V<k;V++)m[X+V]=U[(q>>3)+V]}q+=w,H+=O}N++,D+=g}j*B!=0&&(I+=B*(1+z)),T+=1}return m})(u,l)),u}function o(l,u){return n(new Uint8Array(l.buffer,2,l.length-6),u)}var n=(function(){const l={H:{}};return l.H.N=function(u,f){const h=Uint8Array;let p,y,_=0,b=0,U=0,P=0,L=0,M=0,w=0,k=0,v=0;if(u[0]==3&&u[1]==0)return f||new h(0);const m=l.H,I=m.b,S=m.e,C=m.R,E=m.n,A=m.A,T=m.Z,x=m.m,g=f==null;for(g&&(f=new h(u.length>>>2<<5));_==0;)if(_=I(u,v,1),b=I(u,v+1,2),v+=3,b!=0){if(g&&(f=l.H.W(f,k+(1<<17))),b==1&&(p=x.J,y=x.h,M=511,w=31),b==2){U=S(u,v,5)+257,P=S(u,v+5,5)+1,L=S(u,v+10,4)+4,v+=14;let j=1;for(var O=0;O<38;O+=2)x.Q[O]=0,x.Q[O+1]=0;for(O=0;O<L;O++){const $=S(u,v+3*O,3);x.Q[1+(x.X[O]<<1)]=$,$>j&&(j=$)}v+=3*L,E(x.Q,j),A(x.Q,j,x.u),p=x.w,y=x.d,v=C(x.u,(1<<j)-1,U+P,u,v,x.v);const B=m.V(x.v,0,U,x.C);M=(1<<B)-1;const R=m.V(x.v,U,P,x.D);w=(1<<R)-1,E(x.C,B),A(x.C,B,p),E(x.D,R),A(x.D,R,y)}for(;;){const j=p[T(u,v)&M];v+=15&j;const B=j>>>4;if(!(B>>>8))f[k++]=B;else{if(B==256)break;{let R=k+B-254;if(B>264){const H=x.q[B-257];R=k+(H>>>3)+S(u,v,7&H),v+=7&H}const $=y[T(u,v)&w];v+=15&$;const z=$>>>4,N=x.c[z],D=(N>>>4)+I(u,v,15&N);for(v+=15&N;k<R;)f[k]=f[k++-D],f[k]=f[k++-D],f[k]=f[k++-D],f[k]=f[k++-D];k=R}}}}else{(7&v)!=0&&(v+=8-(7&v));const j=4+(v>>>3),B=u[j-4]|u[j-3]<<8;g&&(f=l.H.W(f,k+B)),f.set(new h(u.buffer,u.byteOffset+j,B),k),v=j+B<<3,k+=B}return f.length==k?f:f.slice(0,k)},l.H.W=function(u,f){const h=u.length;if(f<=h)return u;const p=new Uint8Array(h<<1);return p.set(u,0),p},l.H.R=function(u,f,h,p,y,_){const b=l.H.e,U=l.H.Z;let P=0;for(;P<h;){const L=u[U(p,y)&f];y+=15&L;const M=L>>>4;if(M<=15)_[P]=M,P++;else{let w=0,k=0;M==16?(k=3+b(p,y,2),y+=2,w=_[P-1]):M==17?(k=3+b(p,y,3),y+=3):M==18&&(k=11+b(p,y,7),y+=7);const v=P+k;for(;P<v;)_[P]=w,P++}}return y},l.H.V=function(u,f,h,p){let y=0,_=0;const b=p.length>>>1;for(;_<h;){const U=u[_+f];p[_<<1]=0,p[1+(_<<1)]=U,U>y&&(y=U),_++}for(;_<b;)p[_<<1]=0,p[1+(_<<1)]=0,_++;return y},l.H.n=function(u,f){const h=l.H.m,p=u.length;let y,_,b,U;const P=h.j;for(var L=0;L<=f;L++)P[L]=0;for(L=1;L<p;L+=2)P[u[L]]++;const M=h.K;for(y=0,P[0]=0,_=1;_<=f;_++)y=y+P[_-1]<<1,M[_]=y;for(b=0;b<p;b+=2)U=u[b+1],U!=0&&(u[b]=M[U],M[U]++)},l.H.A=function(u,f,h){const p=u.length,y=l.H.m.r;for(let _=0;_<p;_+=2)if(u[_+1]!=0){const b=_>>1,U=u[_+1],P=b<<4|U,L=f-U;let M=u[_]<<L;const w=M+(1<<L);for(;M!=w;)h[y[M]>>>15-f]=P,M++}},l.H.l=function(u,f){const h=l.H.m.r,p=15-f;for(let y=0;y<u.length;y+=2){const _=u[y]<<f-u[y+1];u[y]=h[_]>>>p}},l.H.M=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8},l.H.I=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8,u[p+2]|=h>>>16},l.H.e=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},l.H.b=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},l.H.Z=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)},l.H.i=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16|u[3+(f>>>3)]<<24)>>>(7&f)},l.H.m=(function(){const u=Uint16Array,f=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new u(65536),g:new u(32768)}})(),(function(){const u=l.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,u.r[f]=(p>>>16|p<<16)>>>17}function h(p,y,_){for(;y--!=0;)p.push(0,_)}for(f=0;f<32;f++)u.q[f]=u.S[f]<<3|u.T[f],u.c[f]=u.p[f]<<4|u.z[f];h(u._,144,8),h(u._,112,9),h(u._,24,7),h(u._,8,8),l.H.n(u._,9),l.H.A(u._,9,u.J),l.H.l(u._,9),h(u.$,32,5),l.H.n(u.$,5),l.H.A(u.$,5,u.h),l.H.l(u.$,5),h(u.Q,19,0),h(u.C,286,0),h(u.D,30,0),h(u.v,320,0)})(),l.H.N})();function s(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function a(l,u,f,h,p){let y=s(u);const _=Math.ceil(h*y/8);let b,U;y=Math.ceil(y/8);let P=l[f],L=0;if(P>1&&(l[f]=[0,0,1][P-2]),P==3)for(L=y;L<_;L++)l[L+1]=l[L+1]+(l[L+1-y]>>>1)&255;for(let M=0;M<p;M++)if(b=f+M*_,U=b+M+1,P=l[U-1],L=0,P==0)for(;L<_;L++)l[b+L]=l[U+L];else if(P==1){for(;L<y;L++)l[b+L]=l[U+L];for(;L<_;L++)l[b+L]=l[U+L]+l[b+L-y]}else if(P==2)for(;L<_;L++)l[b+L]=l[U+L]+l[b+L-_];else if(P==3){for(;L<y;L++)l[b+L]=l[U+L]+(l[b+L-_]>>>1);for(;L<_;L++)l[b+L]=l[U+L]+(l[b+L-_]+l[b+L-y]>>>1)}else{for(;L<y;L++)l[b+L]=l[U+L]+i(0,l[b+L-_],0);for(;L<_;L++)l[b+L]=l[U+L]+i(l[b+L-y],l[b+L-_],l[b+L-y-_])}return l}function i(l,u,f){const h=l+u-f,p=h-l,y=h-u,_=h-f;return p*p<=y*y&&p*p<=_*_?l:y*y<=_*_?u:f}function c(l,u,f){f.width=e.readUint(l,u),u+=4,f.height=e.readUint(l,u),u+=4,f.depth=l[u],u++,f.ctype=l[u],u++,f.compress=l[u],u++,f.filter=l[u],u++,f.interlace=l[u],u++}function d(l,u,f,h,p,y,_,b,U){const P=Math.min(u,p),L=Math.min(f,y);let M=0,w=0;for(let T=0;T<L;T++)for(let x=0;x<P;x++)if(_>=0&&b>=0?(M=T*u+x<<2,w=(b+T)*p+_+x<<2):(M=(-b+T)*u-_+x<<2,w=T*p+x<<2),U==0)h[w]=l[M],h[w+1]=l[M+1],h[w+2]=l[M+2],h[w+3]=l[M+3];else if(U==1){var k=l[M+3]*.00392156862745098,v=l[M]*k,m=l[M+1]*k,I=l[M+2]*k,S=h[w+3]*(1/255),C=h[w]*S,E=h[w+1]*S,A=h[w+2]*S;const g=1-k,O=k+S*g,j=O==0?0:1/O;h[w+3]=255*O,h[w+0]=(v+C*g)*j,h[w+1]=(m+E*g)*j,h[w+2]=(I+A*g)*j}else if(U==2)k=l[M+3],v=l[M],m=l[M+1],I=l[M+2],S=h[w+3],C=h[w],E=h[w+1],A=h[w+2],k==S&&v==C&&m==E&&I==A?(h[w]=0,h[w+1]=0,h[w+2]=0,h[w+3]=0):(h[w]=v,h[w+1]=m,h[w+2]=I,h[w+3]=k);else if(U==3){if(k=l[M+3],v=l[M],m=l[M+1],I=l[M+2],S=h[w+3],C=h[w],E=h[w+1],A=h[w+2],k==S&&v==C&&m==E&&I==A)continue;if(k<220&&S>20)return!1}return!0}return{decode:function(u){const f=new Uint8Array(u);let h=8;const p=e,y=p.readUshort,_=p.readUint,b={tabs:{},frames:[]},U=new Uint8Array(f.length);let P,L=0,M=0;const w=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(f[k]!=w[k])throw"The input is not a PNG file!";for(;h<f.length;){const T=p.readUint(f,h);h+=4;const x=p.readASCII(f,h,4);if(h+=4,x=="IHDR")c(f,h,b);else if(x=="iCCP"){for(var v=h;f[v]!=0;)v++;p.readASCII(f,h,v-h),f[v+1];const g=f.slice(v+2,h+T);let O=null;try{O=o(g)}catch{O=n(g)}b.tabs[x]=O}else if(x=="CgBI")b.tabs[x]=f.slice(h,h+4);else if(x=="IDAT"){for(k=0;k<T;k++)U[L+k]=f[h+k];L+=T}else if(x=="acTL")b.tabs[x]={num_frames:_(f,h),num_plays:_(f,h+4)},P=new Uint8Array(f.length);else if(x=="fcTL"){M!=0&&((A=b.frames[b.frames.length-1]).data=r(b,P.slice(0,M),A.rect.width,A.rect.height),M=0);const g={x:_(f,h+12),y:_(f,h+16),width:_(f,h+4),height:_(f,h+8)};let O=y(f,h+22);O=y(f,h+20)/(O==0?100:O);const j={rect:g,delay:Math.round(1e3*O),dispose:f[h+24],blend:f[h+25]};b.frames.push(j)}else if(x=="fdAT"){for(k=0;k<T-4;k++)P[M+k]=f[h+k+4];M+=T-4}else if(x=="pHYs")b.tabs[x]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(x=="cHRM")for(b.tabs[x]=[],k=0;k<8;k++)b.tabs[x].push(p.readUint(f,h+4*k));else if(x=="tEXt"||x=="zTXt"){b.tabs[x]==null&&(b.tabs[x]={});var m=p.nextZero(f,h),I=p.readASCII(f,h,m-h),S=h+T-m-1;if(x=="tEXt")E=p.readASCII(f,m+1,S);else{var C=o(f.slice(m+2,m+2+S));E=p.readUTF8(C,0,C.length)}b.tabs[x][I]=E}else if(x=="iTXt"){b.tabs[x]==null&&(b.tabs[x]={}),m=0,v=h,m=p.nextZero(f,v),I=p.readASCII(f,v,m-v);const g=f[v=m+1];var E;f[v+1],v+=2,m=p.nextZero(f,v),p.readASCII(f,v,m-v),v=m+1,m=p.nextZero(f,v),p.readUTF8(f,v,m-v),S=T-((v=m+1)-h),g==0?E=p.readUTF8(f,v,S):(C=o(f.slice(v,v+S)),E=p.readUTF8(C,0,C.length)),b.tabs[x][I]=E}else if(x=="PLTE")b.tabs[x]=p.readBytes(f,h,T);else if(x=="hIST"){const g=b.tabs.PLTE.length/3;for(b.tabs[x]=[],k=0;k<g;k++)b.tabs[x].push(y(f,h+2*k))}else if(x=="tRNS")b.ctype==3?b.tabs[x]=p.readBytes(f,h,T):b.ctype==0?b.tabs[x]=y(f,h):b.ctype==2&&(b.tabs[x]=[y(f,h),y(f,h+2),y(f,h+4)]);else if(x=="gAMA")b.tabs[x]=p.readUint(f,h)/1e5;else if(x=="sRGB")b.tabs[x]=f[h];else if(x=="bKGD")b.ctype==0||b.ctype==4?b.tabs[x]=[y(f,h)]:b.ctype==2||b.ctype==6?b.tabs[x]=[y(f,h),y(f,h+2),y(f,h+4)]:b.ctype==3&&(b.tabs[x]=f[h]);else if(x=="IEND")break;h+=T,p.readUint(f,h),h+=4}var A;return M!=0&&((A=b.frames[b.frames.length-1]).data=r(b,P.slice(0,M),A.rect.width,A.rect.height)),b.data=r(b,U,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(u){const f=u.width,h=u.height;if(u.tabs.acTL==null)return[t(u.data,f,h,u).buffer];const p=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const y=f*h*4,_=new Uint8Array(y),b=new Uint8Array(y),U=new Uint8Array(y);for(let L=0;L<u.frames.length;L++){const M=u.frames[L],w=M.rect.x,k=M.rect.y,v=M.rect.width,m=M.rect.height,I=t(M.data,v,m,u);if(L!=0)for(var P=0;P<y;P++)U[P]=_[P];if(M.blend==0?d(I,v,m,_,f,h,w,k,0):M.blend==1&&d(I,v,m,_,f,h,w,k,1),p.push(_.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)d(b,v,m,_,f,h,w,k,0);else if(M.dispose==2)for(P=0;P<y;P++)_[P]=U[P]}}return p},_paeth:i,_copyTile:d,_bin:e}})();(function(){const{_copyTile:e}=Ue,{_bin:t}=Ue,r=Ue._paeth;var o={table:(function(){const v=new Uint32Array(256);for(let m=0;m<256;m++){let I=m;for(let S=0;S<8;S++)1&I?I=3988292384^I>>>1:I>>>=1;v[m]=I}return v})(),update(v,m,I,S){for(let C=0;C<S;C++)v=o.table[255&(v^m[I+C])]^v>>>8;return v},crc:(v,m,I)=>4294967295^o.update(4294967295,v,m,I)};function n(v,m,I,S){m[I]+=v[0]*S>>4,m[I+1]+=v[1]*S>>4,m[I+2]+=v[2]*S>>4,m[I+3]+=v[3]*S>>4}function s(v){return Math.max(0,Math.min(255,v))}function a(v,m){const I=v[0]-m[0],S=v[1]-m[1],C=v[2]-m[2],E=v[3]-m[3];return I*I+S*S+C*C+E*E}function i(v,m,I,S,C,E,A){A==null&&(A=1);const T=S.length,x=[];for(var g=0;g<T;g++){const D=S[g];x.push([D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255])}for(g=0;g<T;g++){let D=4294967295;for(var O=0,j=0;j<T;j++){var B=a(x[g],x[j]);j!=g&&B<D&&(D=B,O=j)}}const R=new Uint32Array(C.buffer),$=new Int16Array(m*I*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(g=0;g<z.length;g++)z[g]=255*((z[g]+.5)/16-.5);for(let D=0;D<I;D++)for(let H=0;H<m;H++){var N;g=4*(D*m+H),A!=2?N=[s(v[g]+$[g]),s(v[g+1]+$[g+1]),s(v[g+2]+$[g+2]),s(v[g+3]+$[g+3])]:(B=z[4*(3&D)+(3&H)],N=[s(v[g]+B),s(v[g+1]+B),s(v[g+2]+B),s(v[g+3]+B)]),O=0;let q=16777215;for(j=0;j<T;j++){const J=a(N,x[j]);J<q&&(q=J,O=j)}const X=x[O],V=[N[0]-X[0],N[1]-X[1],N[2]-X[2],N[3]-X[3]];A==1&&(H!=m-1&&n(V,$,g+4,7),D!=I-1&&(H!=0&&n(V,$,g+4*m-4,3),n(V,$,g+4*m,5),H!=m-1&&n(V,$,g+4*m+4,1))),E[g>>2]=O,R[g>>2]=S[O]}}function c(v,m,I,S,C){C==null&&(C={});const{crc:E}=o,A=t.writeUint,T=t.writeUshort,x=t.writeASCII;let g=8;const O=v.frames.length>1;let j,B=!1,R=33+(O?20:0);if(C.sRGB!=null&&(R+=13),C.pHYs!=null&&(R+=21),C.iCCP!=null&&(j=pako.deflate(C.iCCP),R+=21+j.length+4),v.ctype==3){for(var $=v.plte.length,z=0;z<$;z++)v.plte[z]>>>24!=255&&(B=!0);R+=8+3*$+4+(B?8+1*$+4:0)}for(var N=0;N<v.frames.length;N++)O&&(R+=38),R+=(X=v.frames[N]).cimg.length+12,N!=0&&(R+=4);R+=12;const D=new Uint8Array(R),H=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)D[z]=H[z];if(A(D,g,13),g+=4,x(D,g,"IHDR"),g+=4,A(D,g,m),g+=4,A(D,g,I),g+=4,D[g]=v.depth,g++,D[g]=v.ctype,g++,D[g]=0,g++,D[g]=0,g++,D[g]=0,g++,A(D,g,E(D,g-17,17)),g+=4,C.sRGB!=null&&(A(D,g,1),g+=4,x(D,g,"sRGB"),g+=4,D[g]=C.sRGB,g++,A(D,g,E(D,g-5,5)),g+=4),C.iCCP!=null){const V=13+j.length;A(D,g,V),g+=4,x(D,g,"iCCP"),g+=4,x(D,g,"ICC profile"),g+=11,g+=2,D.set(j,g),g+=j.length,A(D,g,E(D,g-(V+4),V+4)),g+=4}if(C.pHYs!=null&&(A(D,g,9),g+=4,x(D,g,"pHYs"),g+=4,A(D,g,C.pHYs[0]),g+=4,A(D,g,C.pHYs[1]),g+=4,D[g]=C.pHYs[2],g++,A(D,g,E(D,g-13,13)),g+=4),O&&(A(D,g,8),g+=4,x(D,g,"acTL"),g+=4,A(D,g,v.frames.length),g+=4,A(D,g,C.loop!=null?C.loop:0),g+=4,A(D,g,E(D,g-12,12)),g+=4),v.ctype==3){for(A(D,g,3*($=v.plte.length)),g+=4,x(D,g,"PLTE"),g+=4,z=0;z<$;z++){const V=3*z,J=v.plte[z],ne=255&J,re=J>>>8&255,We=J>>>16&255;D[g+V+0]=ne,D[g+V+1]=re,D[g+V+2]=We}if(g+=3*$,A(D,g,E(D,g-3*$-4,3*$+4)),g+=4,B){for(A(D,g,$),g+=4,x(D,g,"tRNS"),g+=4,z=0;z<$;z++)D[g+z]=v.plte[z]>>>24&255;g+=$,A(D,g,E(D,g-$-4,$+4)),g+=4}}let q=0;for(N=0;N<v.frames.length;N++){var X=v.frames[N];O&&(A(D,g,26),g+=4,x(D,g,"fcTL"),g+=4,A(D,g,q++),g+=4,A(D,g,X.rect.width),g+=4,A(D,g,X.rect.height),g+=4,A(D,g,X.rect.x),g+=4,A(D,g,X.rect.y),g+=4,T(D,g,S[N]),g+=2,T(D,g,1e3),g+=2,D[g]=X.dispose,g++,D[g]=X.blend,g++,A(D,g,E(D,g-30,30)),g+=4);const V=X.cimg;A(D,g,($=V.length)+(N==0?0:4)),g+=4;const J=g;x(D,g,N==0?"IDAT":"fdAT"),g+=4,N!=0&&(A(D,g,q++),g+=4),D.set(V,g),g+=$,A(D,g,E(D,J,g-J)),g+=4}return A(D,g,0),g+=4,x(D,g,"IEND"),g+=4,A(D,g,E(D,g-4,4)),g+=4,D.buffer}function d(v,m,I){for(let S=0;S<v.frames.length;S++){const C=v.frames[S];C.rect.width;const E=C.rect.height,A=new Uint8Array(E*C.bpl+E);C.cimg=h(C.img,E,C.bpp,C.bpl,A,m,I)}}function l(v,m,I,S,C){const E=C[0],A=C[1],T=C[2],x=C[3],g=C[4],O=C[5];let j=6,B=8,R=255;for(var $=0;$<v.length;$++){const ve=new Uint8Array(v[$]);for(var z=ve.length,N=0;N<z;N+=4)R&=ve[N+3]}const D=R!=255,H=(function(ae,oe,me,_e,le,Ie){const ue=[];for(var se=0;se<ae.length;se++){const Ce=new Uint8Array(ae[se]),Te=new Uint32Array(Ce.buffer);var Ae;let Le=0,Ne=0,Me=oe,Qe=me,cr=_e?1:0;if(se!=0){const Ro=Ie||_e||se==1||ue[se-2].dispose!=0?1:2;let lr=0,qr=1e9;for(let bt=0;bt<Ro;bt++){var He=new Uint8Array(ae[se-1-bt]);const Lo=new Uint32Array(ae[se-1-bt]);let Ge=oe,Ye=me,at=-1,wt=-1;for(let Ke=0;Ke<me;Ke++)for(let Ze=0;Ze<oe;Ze++)Te[xe=Ke*oe+Ze]!=Lo[xe]&&(Ze<Ge&&(Ge=Ze),Ze>at&&(at=Ze),Ke<Ye&&(Ye=Ke),Ke>wt&&(wt=Ke));at==-1&&(Ge=Ye=at=wt=0),le&&((1&Ge)==1&&Ge--,(1&Ye)==1&&Ye--);const Vr=(at-Ge+1)*(wt-Ye+1);Vr<qr&&(qr=Vr,lr=bt,Le=Ge,Ne=Ye,Me=at-Ge+1,Qe=wt-Ye+1)}He=new Uint8Array(ae[se-1-lr]),lr==1&&(ue[se-1].dispose=2),Ae=new Uint8Array(Me*Qe*4),e(He,oe,me,Ae,Me,Qe,-Le,-Ne,0),cr=e(Ce,oe,me,Ae,Me,Qe,-Le,-Ne,3)?1:0,cr==1?f(Ce,oe,me,Ae,{x:Le,y:Ne,width:Me,height:Qe}):e(Ce,oe,me,Ae,Me,Qe,-Le,-Ne,0)}else Ae=Ce.slice(0);ue.push({rect:{x:Le,y:Ne,width:Me,height:Qe},img:Ae,blend:cr,dispose:0})}if(_e)for(se=0;se<ue.length;se++){if((Xe=ue[se]).blend==1)continue;const Ce=Xe.rect,Te=ue[se-1].rect,Le=Math.min(Ce.x,Te.x),Ne=Math.min(Ce.y,Te.y),Me={x:Le,y:Ne,width:Math.max(Ce.x+Ce.width,Te.x+Te.width)-Le,height:Math.max(Ce.y+Ce.height,Te.y+Te.height)-Ne};ue[se-1].dispose=1,se-1!=0&&u(ae,oe,me,ue,se-1,Me,le),u(ae,oe,me,ue,se,Me,le)}let Pt=0;if(ae.length!=1)for(var xe=0;xe<ue.length;xe++){var Xe;Pt+=(Xe=ue[xe]).rect.width*Xe.rect.height}return ue})(v,m,I,E,A,T),q={},X=[],V=[];if(S!=0){const ve=[];for(N=0;N<H.length;N++)ve.push(H[N].img.buffer);const ae=(function(le){let Ie=0;for(var ue=0;ue<le.length;ue++)Ie+=le[ue].byteLength;const se=new Uint8Array(Ie);let Ae=0;for(ue=0;ue<le.length;ue++){const He=new Uint8Array(le[ue]),Pt=He.length;for(let xe=0;xe<Pt;xe+=4){let Xe=He[xe],Ce=He[xe+1],Te=He[xe+2];const Le=He[xe+3];Le==0&&(Xe=Ce=Te=0),se[Ae+xe]=Xe,se[Ae+xe+1]=Ce,se[Ae+xe+2]=Te,se[Ae+xe+3]=Le}Ae+=Pt}return se.buffer})(ve),oe=y(ae,S);for(N=0;N<oe.plte.length;N++)X.push(oe.plte[N].est.rgba);let me=0;for(N=0;N<H.length;N++){const _e=(ne=H[N]).img.length;var J=new Uint8Array(oe.inds.buffer,me>>2,_e>>2);V.push(J);const le=new Uint8Array(oe.abuf,me,_e);O&&i(ne.img,ne.rect.width,ne.rect.height,X,le,J),ne.img.set(le),me+=_e}}else for($=0;$<H.length;$++){var ne=H[$];const ve=new Uint32Array(ne.img.buffer);var re=ne.rect.width;for(z=ve.length,J=new Uint8Array(z),V.push(J),N=0;N<z;N++){const ae=ve[N];if(N!=0&&ae==ve[N-1])J[N]=J[N-1];else if(N>re&&ae==ve[N-re])J[N]=J[N-re];else{let oe=q[ae];if(oe==null&&(q[ae]=oe=X.length,X.push(ae),X.length>=300))break;J[N]=oe}}}const We=X.length;for(We<=256&&g==0&&(B=We<=2?1:We<=4?2:We<=16?4:8,B=Math.max(B,x)),$=0;$<H.length;$++){(ne=H[$]).rect.x,ne.rect.y,re=ne.rect.width;const ve=ne.rect.height;let ae=ne.img;new Uint32Array(ae.buffer);let oe=4*re,me=4;if(We<=256&&g==0){oe=Math.ceil(B*re/8);var $e=new Uint8Array(oe*ve);const _e=V[$];for(let le=0;le<ve;le++){N=le*oe;const Ie=le*re;if(B==8)for(var ce=0;ce<re;ce++)$e[N+ce]=_e[Ie+ce];else if(B==4)for(ce=0;ce<re;ce++)$e[N+(ce>>1)]|=_e[Ie+ce]<<4-4*(1&ce);else if(B==2)for(ce=0;ce<re;ce++)$e[N+(ce>>2)]|=_e[Ie+ce]<<6-2*(3&ce);else if(B==1)for(ce=0;ce<re;ce++)$e[N+(ce>>3)]|=_e[Ie+ce]<<7-1*(7&ce)}ae=$e,j=3,me=1}else if(D==0&&H.length==1){$e=new Uint8Array(re*ve*3);const _e=re*ve;for(N=0;N<_e;N++){const le=3*N,Ie=4*N;$e[le]=ae[Ie],$e[le+1]=ae[Ie+1],$e[le+2]=ae[Ie+2]}ae=$e,j=2,me=3,oe=3*re}ne.img=ae,ne.bpl=oe,ne.bpp=me}return{ctype:j,depth:B,plte:X,frames:H}}function u(v,m,I,S,C,E,A){const T=Uint8Array,x=Uint32Array,g=new T(v[C-1]),O=new x(v[C-1]),j=C+1<v.length?new T(v[C+1]):null,B=new T(v[C]),R=new x(B.buffer);let $=m,z=I,N=-1,D=-1;for(let q=0;q<E.height;q++)for(let X=0;X<E.width;X++){const V=E.x+X,J=E.y+q,ne=J*m+V,re=R[ne];re==0||S[C-1].dispose==0&&O[ne]==re&&(j==null||j[4*ne+3]!=0)||(V<$&&($=V),V>N&&(N=V),J<z&&(z=J),J>D&&(D=J))}N==-1&&($=z=N=D=0),A&&((1&$)==1&&$--,(1&z)==1&&z--),E={x:$,y:z,width:N-$+1,height:D-z+1};const H=S[C];H.rect=E,H.blend=1,H.img=new Uint8Array(E.width*E.height*4),S[C-1].dispose==0?(e(g,m,I,H.img,E.width,E.height,-E.x,-E.y,0),f(B,m,I,H.img,E)):e(B,m,I,H.img,E.width,E.height,-E.x,-E.y,0)}function f(v,m,I,S,C){e(v,m,I,S,C.width,C.height,-C.x,-C.y,2)}function h(v,m,I,S,C,E,A){const T=[];let x,g=[0,1,2,3,4];E!=-1?g=[E]:(m*S>5e5||I==1)&&(g=[0]),A&&(x={level:0});const O=bi;for(var j=0;j<g.length;j++){for(let $=0;$<m;$++)p(C,v,$,S,I,g[j]);T.push(O.deflate(C,x))}let B,R=1e9;for(j=0;j<T.length;j++)T[j].length<R&&(B=j,R=T[j].length);return T[B]}function p(v,m,I,S,C,E){const A=I*S;let T=A+I;if(v[T]=E,T++,E==0)if(S<500)for(var x=0;x<S;x++)v[T+x]=m[A+x];else v.set(new Uint8Array(m.buffer,A,S),T);else if(E==1){for(x=0;x<C;x++)v[T+x]=m[A+x];for(x=C;x<S;x++)v[T+x]=m[A+x]-m[A+x-C]+256&255}else if(I==0){for(x=0;x<C;x++)v[T+x]=m[A+x];if(E==2)for(x=C;x<S;x++)v[T+x]=m[A+x];if(E==3)for(x=C;x<S;x++)v[T+x]=m[A+x]-(m[A+x-C]>>1)+256&255;if(E==4)for(x=C;x<S;x++)v[T+x]=m[A+x]-r(m[A+x-C],0,0)+256&255}else{if(E==2)for(x=0;x<S;x++)v[T+x]=m[A+x]+256-m[A+x-S]&255;if(E==3){for(x=0;x<C;x++)v[T+x]=m[A+x]+256-(m[A+x-S]>>1)&255;for(x=C;x<S;x++)v[T+x]=m[A+x]+256-(m[A+x-S]+m[A+x-C]>>1)&255}if(E==4){for(x=0;x<C;x++)v[T+x]=m[A+x]+256-r(0,m[A+x-S],0)&255;for(x=C;x<S;x++)v[T+x]=m[A+x]+256-r(m[A+x-C],m[A+x-S],m[A+x-C-S])&255}}}function y(v,m){const I=new Uint8Array(v),S=I.slice(0),C=new Uint32Array(S.buffer),E=_(S,m),A=E[0],T=E[1],x=I.length,g=new Uint8Array(x>>2);let O;if(I.length<2e7)for(var j=0;j<x;j+=4)O=b(A,B=I[j]*(1/255),R=I[j+1]*(1/255),$=I[j+2]*(1/255),z=I[j+3]*(1/255)),g[j>>2]=O.ind,C[j>>2]=O.est.rgba;else for(j=0;j<x;j+=4){var B=I[j]*.00392156862745098,R=I[j+1]*(1/255),$=I[j+2]*(1/255),z=I[j+3]*(1/255);for(O=A;O.left;)O=U(O.est,B,R,$,z)<=0?O.left:O.right;g[j>>2]=O.ind,C[j>>2]=O.est.rgba}return{abuf:S.buffer,inds:g,plte:T}}function _(v,m,I){I==null&&(I=1e-4);const S=new Uint32Array(v.buffer),C={i0:0,i1:v.length,bst:null,est:null,tdst:0,left:null,right:null};C.bst=M(v,C.i0,C.i1),C.est=w(C.bst);const E=[C];for(;E.length<m;){let T=0,x=0;for(var A=0;A<E.length;A++)E[A].est.L>T&&(T=E[A].est.L,x=A);if(T<I)break;const g=E[x],O=P(v,S,g.i0,g.i1,g.est.e,g.est.eMq255);if(g.i0>=O||g.i1<=O){g.est.L=0;continue}const j={i0:g.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};j.bst=M(v,j.i0,j.i1),j.est=w(j.bst);const B={i0:O,i1:g.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:g.bst.N-j.bst.N},A=0;A<16;A++)B.bst.R[A]=g.bst.R[A]-j.bst.R[A];for(A=0;A<4;A++)B.bst.m[A]=g.bst.m[A]-j.bst.m[A];B.est=w(B.bst),g.left=j,g.right=B,E[x]=j,E.push(B)}for(E.sort(((T,x)=>x.bst.N-T.bst.N)),A=0;A<E.length;A++)E[A].ind=A;return[C,E]}function b(v,m,I,S,C){if(v.left==null)return v.tdst=(function(j,B,R,$,z){const N=B-j[0],D=R-j[1],H=$-j[2],q=z-j[3];return N*N+D*D+H*H+q*q})(v.est.q,m,I,S,C),v;const E=U(v.est,m,I,S,C);let A=v.left,T=v.right;E>0&&(A=v.right,T=v.left);const x=b(A,m,I,S,C);if(x.tdst<=E*E)return x;const g=b(T,m,I,S,C);return g.tdst<x.tdst?g:x}function U(v,m,I,S,C){const{e:E}=v;return E[0]*m+E[1]*I+E[2]*S+E[3]*C-v.eMq}function P(v,m,I,S,C,E){for(S-=4;I<S;){for(;L(v,I,C)<=E;)I+=4;for(;L(v,S,C)>E;)S-=4;if(I>=S)break;const A=m[I>>2];m[I>>2]=m[S>>2],m[S>>2]=A,I+=4,S-=4}for(;L(v,I,C)>E;)I-=4;return I+4}function L(v,m,I){return v[m]*I[0]+v[m+1]*I[1]+v[m+2]*I[2]+v[m+3]*I[3]}function M(v,m,I){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,0,0,0],E=I-m>>2;for(let A=m;A<I;A+=4){const T=v[A]*.00392156862745098,x=v[A+1]*(1/255),g=v[A+2]*(1/255),O=v[A+3]*(1/255);C[0]+=T,C[1]+=x,C[2]+=g,C[3]+=O,S[0]+=T*T,S[1]+=T*x,S[2]+=T*g,S[3]+=T*O,S[5]+=x*x,S[6]+=x*g,S[7]+=x*O,S[10]+=g*g,S[11]+=g*O,S[15]+=O*O}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:C,N:E}}function w(v){const{R:m}=v,{m:I}=v,{N:S}=v,C=I[0],E=I[1],A=I[2],T=I[3],x=S==0?0:1/S,g=[m[0]-C*C*x,m[1]-C*E*x,m[2]-C*A*x,m[3]-C*T*x,m[4]-E*C*x,m[5]-E*E*x,m[6]-E*A*x,m[7]-E*T*x,m[8]-A*C*x,m[9]-A*E*x,m[10]-A*A*x,m[11]-A*T*x,m[12]-T*C*x,m[13]-T*E*x,m[14]-T*A*x,m[15]-T*T*x],O=g,j=k;let B=[Math.random(),Math.random(),Math.random(),Math.random()],R=0,$=0;if(S!=0)for(let N=0;N<16&&(B=j.multVec(O,B),$=Math.sqrt(j.dot(B,B)),B=j.sml(1/$,B),!(N!=0&&Math.abs($-R)<1e-9));N++)R=$;const z=[C*x,E*x,A*x,T*x];return{Cov:g,q:z,e:B,L:R,eMq255:j.dot(j.sml(255,z),B),eMq:j.dot(B,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var k={multVec:(v,m)=>[v[0]*m[0]+v[1]*m[1]+v[2]*m[2]+v[3]*m[3],v[4]*m[0]+v[5]*m[1]+v[6]*m[2]+v[7]*m[3],v[8]*m[0]+v[9]*m[1]+v[10]*m[2]+v[11]*m[3],v[12]*m[0]+v[13]*m[1]+v[14]*m[2]+v[15]*m[3]],dot:(v,m)=>v[0]*m[0]+v[1]*m[1]+v[2]*m[2]+v[3]*m[3],sml:(v,m)=>[v*m[0],v*m[1],v*m[2],v*m[3]]};Ue.encode=function(m,I,S,C,E,A,T){C==null&&(C=0),T==null&&(T=!1);const x=l(m,I,S,C,[!1,!1,!1,0,T,!1]);return d(x,-1),c(x,I,S,E,A)},Ue.encodeLL=function(m,I,S,C,E,A,T,x){const g={ctype:0+(C==1?0:2)+(E==0?0:4),depth:A,frames:[]},O=(C+E)*A,j=O*I;for(let B=0;B<m.length;B++)g.frames.push({rect:{x:0,y:0,width:I,height:S},img:new Uint8Array(m[B]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(j/8)});return d(g,0,!0),c(g,I,S,T,x)},Ue.encode.compress=l,Ue.encode.dither=i,Ue.quantize=y,Ue.quantize.getKDtree=_,Ue.quantize.getNearest=b})();const lo={toArrayBuffer(e,t){const r=e.width,o=e.height,n=r<<2,s=e.getContext("2d").getImageData(0,0,r,o),a=new Uint32Array(s.data.buffer),i=(32*r+31)/32<<2,c=i*o,d=122+c,l=new ArrayBuffer(d),u=new DataView(l),f=1<<20;let h,p,y,_,b=f,U=0,P=0,L=0;function M(v){u.setUint16(P,v,!0),P+=2}function w(v){u.setUint32(P,v,!0),P+=4}function k(v){P+=v}M(19778),w(d),k(4),w(122),w(108),w(r),w(-o>>>0),M(1),M(32),w(3),w(c),w(2835),w(2835),k(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),(function v(){for(;U<o&&b>0;){for(_=122+U*i,h=0;h<n;)b--,p=a[L++],y=p>>>24,u.setUint32(_+h,p<<8|y),h+=4;U++}L<a.length?(b=f,setTimeout(v,lo._dly)):t(l)})()},toBlob(e,t){this.toArrayBuffer(e,(r=>{t(new Blob([r],{type:"image/bmp"}))}))},_dly:9};var Se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},wi={[Se.CHROME]:16384,[Se.FIREFOX]:11180,[Se.DESKTOP_SAFARI]:16384,[Se.IE]:8192,[Se.IOS]:4096,[Se.ETC]:8192};const zr=typeof window<"u",uo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qt=zr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),_i=(zr||uo)&&(Qt&&Qt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),fo=(zr||uo)&&(Qt&&Qt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Hr(e,t,r=Date.now()){return new Promise((o=>{const n=e.split(","),s=n[0].match(/:(.*?);/)[1],a=globalThis.atob(n[1]);let i=a.length;const c=new Uint8Array(i);for(;i--;)c[i]=a.charCodeAt(i);const d=new Blob([c],{type:s});d.name=t,d.lastModified=r,o(d)}))}function ho(e){return new Promise(((t,r)=>{const o=new fo;o.onload=()=>t(o.result),o.onerror=n=>r(n),o.readAsDataURL(e)}))}function po(e){return new Promise(((t,r)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n=>r(n),o.src=e}))}function et(){if(et.cachedResult!==void 0)return et.cachedResult;let e=Se.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Se.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Se.IOS:/Safari/i.test(t)?e=Se.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Se.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Se.IE),et.cachedResult=e,et.cachedResult}function go(e,t){const r=et(),o=wi[r];let n=e,s=t,a=n*s;const i=n>s?s/n:n/s;for(;a>o*o;){const c=(o+n)/2,d=(o+s)/2;c<d?(s=d,n=d*i):(s=c*i,n=c),a=n*s}return{width:n,height:s}}function sr(e,t){let r,o;try{if(r=new OffscreenCanvas(e,t),o=r.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),o=r.getContext("2d")}return r.width=e,r.height=t,[r,o]}function mo(e,t){const{width:r,height:o}=go(e.width,e.height),[n,s]=sr(r,o);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,n.width,n.height)),s.drawImage(e,0,0,n.width,n.height),n}function Ht(){return Ht.cachedResult!==void 0||(Ht.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ht.cachedResult}function Kt(e,t={}){return new Promise((function(r,o){let n,s;var a=function(){try{return s=mo(n,t.fileType||e.type),r([n,s])}catch(c){return o(c)}},i=function(c){try{var d=function(l){try{throw l}catch(u){return o(u)}};try{let l;return ho(e).then((function(u){try{return l=u,po(l).then((function(f){try{return n=f,(function(){try{return a()}catch(h){return o(h)}})()}catch(h){return d(h)}}),d)}catch(f){return d(f)}}),d)}catch(l){d(l)}}catch(l){return o(l)}};try{if(Ht()||[Se.DESKTOP_SAFARI,Se.MOBILE_SAFARI].includes(et()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(c){try{return n=c,a()}catch{return i()}}),i)}catch{i()}}))}function Zt(e,t,r,o,n=1){return new Promise((function(s,a){let i;if(t==="image/png"){let d,l,u;return d=e.getContext("2d"),{data:l}=d.getImageData(0,0,e.width,e.height),u=Ue.encode([l.buffer],e.width,e.height,4096*n),i=new Blob([u],{type:t}),i.name=r,i.lastModified=o,c.call(this)}{let d=function(){return c.call(this)};if(t==="image/bmp")return new Promise((l=>lo.toBlob(e,l))).then((function(l){try{return i=l,i.name=r,i.lastModified=o,d.call(this)}catch(u){return a(u)}}).bind(this),a);{let l=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:n}).then((function(u){try{return i=u,i.name=r,i.lastModified=o,l.call(this)}catch(f){return a(f)}}).bind(this),a);{let u;return u=e.toDataURL(t,n),Hr(u,r,o).then((function(f){try{return i=f,l.call(this)}catch(h){return a(h)}}).bind(this),a)}}}function c(){return s(i)}}))}function Oe(e){e.width=0,e.height=0}function ft(){return new Promise((function(e,t){let r,o,n,s;return ft.cachedResult!==void 0?e(ft.cachedResult):Hr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(a){try{return r=a,Kt(r).then((function(i){try{return o=i[1],Zt(o,r.type,r.name,r.lastModified).then((function(c){try{return n=c,Oe(o),Kt(n).then((function(d){try{return s=d[0],ft.cachedResult=s.width===1&&s.height===2,e(ft.cachedResult)}catch(l){return t(l)}}),t)}catch(d){return t(d)}}),t)}catch(c){return t(c)}}),t)}catch(i){return t(i)}}),t)}))}function yo(e){return new Promise(((t,r)=>{const o=new fo;o.onload=n=>{const s=new DataView(n.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const a=s.byteLength;let i=2;for(;i<a;){if(s.getUint16(i+2,!1)<=8)return t(-1);const c=s.getUint16(i,!1);if(i+=2,c==65505){if(s.getUint32(i+=2,!1)!=1165519206)return t(-1);const d=s.getUint16(i+=6,!1)==18761;i+=s.getUint32(i+4,d);const l=s.getUint16(i,d);i+=2;for(let u=0;u<l;u++)if(s.getUint16(i+12*u,d)==274)return t(s.getUint16(i+12*u+8,d))}else{if((65280&c)!=65280)break;i+=s.getUint16(i,!1)}}return t(-1)},o.onerror=n=>r(n),o.readAsArrayBuffer(e)}))}function vo(e,t){const{width:r}=e,{height:o}=e,{maxWidthOrHeight:n}=t;let s,a=e;return isFinite(n)&&(r>n||o>n)&&([a,s]=sr(r,o),r>o?(a.width=n,a.height=o/r*n):(a.width=r/o*n,a.height=n),s.drawImage(e,0,0,a.width,a.height),Oe(e)),a}function xo(e,t){const{width:r}=e,{height:o}=e,[n,s]=sr(r,o);switch(t>4&&t<9?(n.width=o,n.height=r):(n.width=r,n.height=o),t){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,o);break;case 4:s.transform(1,0,0,-1,0,o);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,o,0);break;case 7:s.transform(0,-1,-1,0,o,r);break;case 8:s.transform(0,-1,1,0,0,r)}return s.drawImage(e,0,0,r,o),Oe(e),n}function wn(e,t,r=0){return new Promise((function(o,n){let s,a,i,c,d,l,u,f,h,p,y,_,b,U,P,L,M,w,k,v;function m(S=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=S,t.onProgress(Math.min(s,100))}function I(S){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(S,s),100),t.onProgress(s)}return s=r,a=t.maxIteration||10,i=1024*t.maxSizeMB*1024,m(),Kt(e,t).then((function(S){try{return[,c]=S,m(),d=vo(c,t),m(),new Promise((function(C,E){var A;if(!(A=t.exifOrientation))return yo(e).then((function(x){try{return A=x,T.call(this)}catch(g){return E(g)}}).bind(this),E);function T(){return C(A)}return T.call(this)})).then((function(C){try{return l=C,m(),ft().then((function(E){try{return u=E?d:xo(d,l),m(),f=t.initialQuality||1,h=t.fileType||e.type,Zt(u,h,e.name,e.lastModified,f).then((function(A){try{{let x=function(){if(a--&&(P>i||P>b)){let O,j;return O=v?.95*k.width:k.width,j=v?.95*k.height:k.height,[M,w]=sr(O,j),w.drawImage(k,0,0,O,j),f*=h==="image/png"?.85:.95,Zt(M,h,e.name,e.lastModified,f).then((function(B){try{return L=B,Oe(k),k=M,P=L.size,I(Math.min(99,Math.floor((U-P)/(U-i)*100))),x}catch(R){return n(R)}}),n)}return[1]},g=function(){return Oe(k),Oe(M),Oe(d),Oe(u),Oe(c),I(100),o(L)};if(p=A,m(),y=p.size>i,_=p.size>e.size,!y&&!_)return I(100),o(p);var T;return b=e.size,U=p.size,P=U,k=u,v=!t.alwaysKeepResolution&&y,(T=(function(O){for(;O;){if(O.then)return void O.then(T,n);try{if(O.pop){if(O.length)return O.pop()?g.call(this):O;O=x}else O=O.call(this)}catch(j){return n(j)}}}).bind(this))(x)}}catch(x){return n(x)}}).bind(this),n)}catch(A){return n(A)}}).bind(this),n)}catch(E){return n(E)}}).bind(this),n)}catch(C){return n(C)}}).bind(this),n)}))}const Ci=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let br;function Si(e,t){return new Promise(((r,o)=>{br||(br=(function(a){const i=[];return i.push(a),URL.createObjectURL(new Blob(i))})(Ci));const n=new Worker(br);n.addEventListener("message",(function(a){if(t.signal&&t.signal.aborted)n.terminate();else if(a.data.progress===void 0){if(a.data.error)return o(new Error(a.data.error)),void n.terminate();r(a.data.file),n.terminate()}else t.onProgress(a.data.progress)})),n.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",(()=>{o(t.signal.reason),n.terminate()})),n.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function we(e,t){return new Promise((function(r,o){let n,s,a,i,c,d;if(n={...t},a=0,{onProgress:i}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=h=>{a=h,typeof i=="function"&&i(a)},!(e instanceof Blob||e instanceof _i))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return wn(e,n).then((function(h){try{return s=h,f.call(this)}catch(p){return o(p)}}).bind(this),o);var l=(function(){try{return f.call(this)}catch(h){return o(h)}}).bind(this),u=function(h){try{return wn(e,n).then((function(p){try{return s=p,l()}catch(y){return o(y)}}),o)}catch(p){return o(p)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Si(e,n).then((function(h){try{return s=h,l()}catch{return u()}}),u)}catch{u()}function f(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{n.preserveExif&&e.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===e.type)&&(s=co(e,s))}catch{}return r(s)}}))}we.getDataUrlFromFile=ho,we.getFilefromDataUrl=Hr,we.loadImage=po,we.drawImageInCanvas=mo,we.drawFileInCanvas=Kt,we.canvasToFile=Zt,we.getExifOrientation=yo,we.handleMaxWidthOrHeight=vo,we.followExifOrientation=xo,we.cleanupCanvasMemory=Oe,we.isAutoOrientationInBrowser=ft,we.approximateBelowMaximumCanvasSizeOfBrowser=go,we.copyExifWithoutOrientation=co,we.getBrowserName=et,we.version="2.0.2";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ai=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),_n=e=>{const t=Ai(e);return t.charAt(0).toUpperCase()+t.slice(1)},bo=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim(),Ei=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ri={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=G.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:n="",children:s,iconNode:a,...i},c)=>G.createElement("svg",{ref:c,...Ri,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:bo("lucide",n),...!s&&!Ei(i)&&{"aria-hidden":"true"},...i},[...a.map(([d,l])=>G.createElement(d,l)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const r=G.forwardRef(({className:o,...n},s)=>G.createElement(Li,{ref:s,iconNode:t,className:bo(`lucide-${Ii(_n(e))}`,`lucide-${e}`,o),...n}));return r.displayName=_n(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pi=it("copy",ki);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ui=it("download",Ti);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],$i=it("move-down",ji);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Di=it("move-up",Mi);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Ni=it("redo",Oi);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bi=it("trash",Fi);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Hi=it("undo",zi),rt=W.button`
  text-align: center;
  padding: 8px;
  cursor: ${({variant:e})=>e==="disabled"?"not-allowed":"pointer"};
  border: none;
  font-size: 16px;

  width: ${({$full:e})=>e?"100%":"auto"};
  box-sizing: border-box;

  border: ${({theme:e,variant:t})=>{switch(t){case"outline":return`1px solid ${e.colors.primary}`}}};
  
  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.white;case"disabled":return e.colors.white;case"outline":return e.colors.primaryText;default:return e.colors.white}}};
  
  background-color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.warning;case"disabled":return e.colors.disabled;case"outline":return e.colors.white;default:return e.colors.primary}}};
  
  opacity: ${({variant:e})=>e==="disabled"?.6:1};
  pointer-events: ${({variant:e})=>e==="disabled"?"none":"auto"};
  
  @media (max-width: 768px) {
    margin-top: 0;
  }
  
  &:hover {
    opacity: ${({variant:e})=>e==="disabled"?.6:.9};
    background-color: ${({theme:e,variant:t})=>{switch(t){case"outline":return e.colors.primary}}};

  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"outline":return e.colors.white}}};
  }
`,pc=W.h1`
  font-size: 36px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;W.h2`
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;W.h3`
  font-size: 24px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;const Gi=W.h4`
  font-size: 20px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
  margin-bottom: 12px;
`,wo=W.h5`
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,Re=W.p`
  font-size: ${({size:e="medium"})=>{switch(e){case"small":return"14px";case"large":return"18px";default:return"16px"}}};
  font-weight: 400;
  line-height: 1.5;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,gc=W(Re).attrs({as:"p"})`
  font-size: 12px;
  margin-bottom: 16px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,yt=W(Re).attrs({as:"label"})`
  font-weight: 500;
  display: block;
  margin-bottom: 4px;
  color: ${({theme:e})=>e.colors.white};
  background-color: ${({theme:e})=>e.colors.primary};
  width: fit-content;
  margin-bottom: 4px;
`;W(Re).attrs({as:"span"})`
  font-size: 12px;
  opacity: 0.7;
`;const mc=W.a`
  font-size: 12px;
  color: ${({theme:e})=>e.colors.primary};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,Gr=G.forwardRef((e,t)=>{const r=de.c(32);let o,n,s,a,i,c;if(r[0]!==e){const{id:L,label:M,min:w,max:k,refresh:v,defaultValue:m,...I}=e;n=L,s=M,i=w,a=k,o=m,c=I,r[0]=e,r[1]=o,r[2]=n,r[3]=s,r[4]=a,r[5]=i,r[6]=c}else o=r[1],n=r[2],s=r[3],a=r[4],i=r[5],c=r[6];const{loading:d}=st(),[l,u]=G.useState(o??c.value??i??0);let f,h;r[7]!==c.value?(f=()=>{c.value!==void 0&&u(c.value)},h=[c.value],r[7]=c.value,r[8]=f,r[9]=h):(f=r[8],h=r[9]),G.useEffect(f,h);let p;r[10]!==n||r[11]!==s?(p=F.jsx(yt,{htmlFor:n,children:s}),r[10]=n,r[11]=s,r[12]=p):p=r[12];let y;r[13]!==l?(y=F.jsx(Vi,{children:l}),r[13]=l,r[14]=y):y=r[14];let _;r[15]!==p||r[16]!==y?(_=F.jsxs(Yi,{children:[p,y]}),r[15]=p,r[16]=y,r[17]=_):_=r[17];let b;r[18]!==c?(b=L=>{u(parseFloat(L.target.value)),c.onChange?.(L)},r[18]=c,r[19]=b):b=r[19];let U;r[20]!==o||r[21]!==n||r[22]!==d||r[23]!==a||r[24]!==i||r[25]!==t||r[26]!==c||r[27]!==b?(U=F.jsx(Wi,{onChange:b,disabled:d,ref:t,id:n,type:"range",min:i,max:a,defaultValue:o,...c}),r[20]=o,r[21]=n,r[22]=d,r[23]=a,r[24]=i,r[25]=t,r[26]=c,r[27]=b,r[28]=U):U=r[28];let P;return r[29]!==_||r[30]!==U?(P=F.jsxs(qi,{children:[_,U]}),r[29]=_,r[30]=U,r[31]=P):P=r[31],P});Gr.displayName="Slider";const Yi=W.div`
    display: flex;
    justify-content: space-between;
    width: 100%;
    align-items: center;
`,qi=W.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  color: #333;
  flex-wrap: wrap;
  height: 56px;
  align-content: end;
`,Vi=W.span`
  padding: 0;
  border: none;
  height: 16px;
  max-width: 48px;
  color: #333;
  text-align: end;
  background-color: transparent;
  -moz-appearance: textfield;
  -webkit-appearance: textfield;
  appearance: textfield;

  &::-webkit-inner-spin-button,
  &::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &:focus {
    border-radius: 0;
    outline: none;
    font-weight: 700;
    border-bottom: 1px solid #333;
    margin-bottom: -1px;
  }
`,Wi=W.input`
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  height: 24px;
  background: transparent;
  outline: none;
  margin: 2px 0 0;
  flex-basis: 100%;
  position: relative;
  cursor: pointer;

  &:before {
    content: "";
    position: absolute;
    top: 14px;
    left: 0;
    right: 0;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: height 0.2s ease, opacity 0.2s ease;
    pointer-events: none;
  }

  &:focus:before,
  &:hover:before {
    height: 1px;
    opacity: 1;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    border-left: 1px solid #333;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: #f9f8f5;
    margin-top: -4px;
    position: relative;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-webkit-slider-thumb,
  &:hover::-webkit-slider-thumb {
    opacity: 1;
  }

  &::-moz-range-track {
    width: 100%;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-track,
  &:hover::-moz-range-track {
    opacity: 1;
  }

  &::-moz-range-thumb {
    border: none;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-thumb,
  &:hover::-moz-range-thumb {
    opacity: 1;
  }
`,Xi=()=>{const{state:e}=ge(),{start:t,stop:r}=st(),[o,n]=G.useState(!1),s=G.useRef(null),a=async i=>{if(!e.imgCtx)return;if(!e.ftype){console.error("uploaded image don't have a FileType");return}const c=e.ftype;n(!0),t();const d=await new Promise(b=>{e.imgCtx.canvas.toBlob(U=>{const P=new File([U],`out.${c.ext}`,{type:c.mime});b(P)},c.mime,i)});i===100&&(i=0);const f={maxSizeMB:d.size/(1024*1024)*i/100/1024,maxWidthOrHeight:void 0,useWebWorker:!0,alwaysKeepResolution:!0,initialQuality:i/100},h=await we(d,f),p=await zs(await h.arrayBuffer()),y=URL.createObjectURL(h),_=document.createElement("a");_.href=y,_.download=`${p}.gif`,_.click(),URL.revokeObjectURL(y),r(),n(!1)};return F.jsxs(ao,{direction:"col",children:[F.jsx(Gr,{id:"imageQuality",label:"Quality",ref:s,type:"range",step:1,min:10,max:100,defaultValue:100}),F.jsx(rt,{variant:`${o?"disabled":"primary"}`,disabled:o,$full:!0,type:"button",onClick:()=>a(Number(s.current?.value)),children:o?"Exporting...":F.jsxs(zt,{children:[F.jsx(Ui,{size:15}),F.jsx("span",{children:"Export"})]})})]})},Qi=G.lazy(()=>mi(()=>import("./gif-export-CxD40RrK.js"),[])),yc=()=>{const e=de.c(22),{state:t}=ge(),[r,o]=G.useState("Image");if(!t.imgCtx){let M;return e[0]===Symbol.for("react.memo_cache_sentinel")?(M=F.jsx("div",{}),e[0]=M):M=e[0],M}let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=M=>{o(M)},e[1]=n):n=e[1];const s=n;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=F.jsx(wo,{style:{marginBottom:"12px"},children:"Export"}),e[2]=a):a=e[2];let i,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(i={marginBottom:"12px"},c=F.jsx(Re,{variant:"secondary",size:"small",children:"Output Format"}),e[3]=i,e[4]=c):(i=e[3],c=e[4]);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={cursor:"pointer"},e[5]=d):d=e[5];const l=r==="Image"?"primary":"secondary";let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s("Image"),e[6]=u):u=e[6];let f;e[7]!==l?(f=F.jsx(Re,{style:d,size:"small",variant:l,onClick:u,children:"Image"}),e[7]=l,e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=F.jsx("span",{children:"/"}),e[9]=h):h=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p={cursor:"pointer"},e[10]=p):p=e[10];const y=r==="GIF"?"primary":"secondary";let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=()=>s("GIF"),e[11]=_):_=e[11];let b;e[12]!==y?(b=F.jsx(Re,{style:p,size:"small",variant:y,onClick:_,children:"GIF"}),e[12]=y,e[13]=b):b=e[13];let U;e[14]!==b||e[15]!==f?(U=F.jsxs(mt,{style:i,children:[c,F.jsxs(Zi,{children:[f,h,b]})]}),e[14]=b,e[15]=f,e[16]=U):U=e[16];let P;e[17]!==r?(P=F.jsx(G.Suspense,{fallback:"Loading...",children:r==="Image"?F.jsx(Xi,{}):F.jsx(Qi,{})}),e[17]=r,e[18]=P):P=e[18];let L;return e[19]!==U||e[20]!==P?(L=F.jsxs(Ki,{id:"exportContainer",children:[a,U,P]}),e[19]=U,e[20]=P,e[21]=L):L=e[21],L},Ki=W.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,Zi=W.div`
  display: flex;
  align-items: center;
  gap: 0 12px;
`,Cn=e=>{const t=de.c(8);let r;t[0]!==e?({...r}=e,t[0]=e,t[1]=r):r=t[1];const o=G.useRef(null);let n;t[2]!==r?(n=d=>{r.onClick&&r?.onClick(d);const l=o.current;l&&(l.checked=!l.checked)},t[2]=r,t[3]=n):n=t[3];const s=n;let a,i;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=F.jsx(ea,{ref:o,type:"checkbox"}),i=F.jsx(ta,{}),t[4]=a,t[5]=i):(a=t[4],i=t[5]);let c;return t[6]!==s?(c=F.jsxs(Ji,{onClick:s,children:[a,i]}),t[6]=s,t[7]=c):c=t[7],c},Ji=W.div`
  position: relative;
  display: inline-block;
  width: 60px;
  height: 24px;
`,ea=W.input`
  display: none;
  
  &:checked + label {
    background-color: ${({theme:e})=>e.colors.primary};
  }
  
  &:checked + label::before {
    transform: translateX(26px);
  }
`,ta=W.label`
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .3s;
  
  &::before {
    position: absolute;
    content: "";
    height: 20px;
    width: 30px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s;
  }
`,vc=()=>{const e=de.c(16),{dispatch:t,state:r}=ge();let o;e[0]!==t||e[1]!==r.mode?(o=()=>{let h;r.mode==="edit"?h="move":h="edit",t({type:Y.UpdateState,payload:{key:"mode",value:h}})},e[0]=t,e[1]=r.mode,e[2]=o):o=e[2];const n=o;let s;e[3]!==t||e[4]!==r.hideSelectionOverlay?(s=()=>{t({type:Y.UpdateState,payload:{key:"hideSelectionOverlay",value:!r.hideSelectionOverlay}})},e[3]=t,e[4]=r.hideSelectionOverlay,e[5]=s):s=e[5];const a=s;let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=F.jsx(wo,{style:{marginBottom:"12px"},children:"Global Configurations"}),e[6]=i):i=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=F.jsx(Re,{size:"small",variant:"secondary",children:"Enable move mode"}),e[7]=c):c=e[7];let d;e[8]!==n?(d=F.jsxs(mt,{children:[c,F.jsx(Cn,{onClick:n})]}),e[8]=n,e[9]=d):d=e[9];let l;e[10]===Symbol.for("react.memo_cache_sentinel")?(l=F.jsx(Re,{size:"small",variant:"secondary",children:"Hide Selection Overlay"}),e[10]=l):l=e[10];let u;e[11]!==a?(u=F.jsxs(mt,{children:[l,F.jsx(Cn,{onClick:a})]}),e[11]=a,e[12]=u):u=e[12];let f;return e[13]!==d||e[14]!==u?(f=F.jsxs(ra,{children:[i,F.jsxs(ao,{direction:"col",children:[d,u]})]}),e[13]=d,e[14]=u,e[15]=f):f=e[15],f},ra=W.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`;function xc(){const e=de.c(35),{loading:t,start:r,stop:o}=st(),{state:n,dispatch:s}=ge(),{selectedLayerIdx:a,imgCtx:i,layers:c}=n,d=G.useContext(Br);let l;e[0]!==s||e[1]!==i||e[2]!==t||e[3]!==d?(l=()=>{!t&&i&&s({type:Y.CreateNewLayer}),d?.isActive()&&d.getCurrentStep()?.id==="addLayer"&&d.next()},e[0]=s,e[1]=i,e[2]=t,e[3]=d,e[4]=l):l=e[4];const u=l;let f;e[5]!==s?(f=S=>{s({type:Y.SelectLayer,payload:S})},e[5]=s,e[6]=f):f=e[6];const h=f;let p;e[7]!==s||e[8]!==r||e[9]!==o?(p=(S,C)=>{r(),s({type:Y.MoveLayer,payload:{direction:S,layerIdx:C}}),s({type:Y.ResetImageCanvas}),s({type:Y.GenerateResult}),o()},e[7]=s,e[8]=r,e[9]=o,e[10]=p):p=e[10];const y=p;let _;e[11]!==s?(_=()=>{s({type:Y.ResetImageCanvas}),s({type:Y.GenerateResult,payload:{refreshIdx:0}})},e[11]=s,e[12]=_):_=e[12];const b=_;let U;e[13]!==s?(U=S=>{s({type:Y.DuplicateLayer,payload:S}),s({type:Y.ResetImageCanvas}),s({type:Y.GenerateResult,payload:{refreshIdx:S}})},e[13]=s,e[14]=U):U=e[14];const P=U;let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L=F.jsx(yt,{children:"Layers"}),e[15]=L):L=e[15];let M;e[16]!==c.length||e[17]!==b?(M=c.length>0&&F.jsx(Re,{onClick:b,variant:"secondary",style:{cursor:"pointer"},children:"Refresh"}),e[16]=c.length,e[17]=b,e[18]=M):M=e[18];let w;e[19]!==M?(w=F.jsxs(mt,{children:[L,M]}),e[19]=M,e[20]=w):w=e[20];let k;e[21]!==c||e[22]!==P||e[23]!==y||e[24]!==h||e[25]!==a?(k=c.length>0?c.map((S,C)=>F.jsxs(sa,{id:`${C}`,children:[F.jsxs(Re,{variant:"secondary",onClick:()=>h(C),style:{cursor:"pointer"},children:[F.jsx("span",{children:a===C?"<*> ":"< > "}),io[S.selection.filter]]}),F.jsxs(ia,{children:[F.jsx(wr,{onClick:()=>y("up",C),children:F.jsx(Di,{size:16})}),F.jsx(wr,{onClick:()=>y("down",C),children:F.jsx($i,{size:16})}),F.jsx(wr,{children:F.jsx(Pi,{size:16,onClick:()=>P(C)})})]})]},`layers-${S.color}`)):F.jsx(aa,{children:"<empty>"}),e[21]=c,e[22]=P,e[23]=y,e[24]=h,e[25]=a,e[26]=k):k=e[26];let v;e[27]!==k?(v=F.jsx(oa,{children:k}),e[27]=k,e[28]=v):v=e[28];let m;e[29]!==u?(m=F.jsx(rt,{id:"addNewLayer",variant:"outline",type:"button",$full:!0,onClick:u,children:"+ Add new layer"}),e[29]=u,e[30]=m):m=e[30];let I;return e[31]!==v||e[32]!==m||e[33]!==w?(I=F.jsxs(na,{children:[w,v,m]}),e[31]=v,e[32]=m,e[33]=w,e[34]=I):I=e[34],I}const na=W.div`
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 1280px) {
    flex: none;
    min-height: fit-content;
    overflow-y: hidden;
  }
`,oa=W.ul`
  margin-bottom: 8px;
  overflow-y: auto;
  flex: 1; 
  min-height: 0;

  @media (max-width: 1280px) {
    flex: none;
    min-height: auto;
  }
`,sa=W.li`
  display: flex;
  justify-content: space-between;
  margin-left: 12px;
`,ia=W.div`
  display: flex;
  align-items: center;
  justify-items: center;
  gap: 4px;
`,wr=W.span`
  cursor: pointer;
`,aa=W.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
`,ca={min:0,max:2},la={min:0,max:1},ua={min:0,max:1},fa={min:2,max:12},da={min:1,max:100},ha=["Vibrance","Red","Green","Blue"],pa=["Vertical","Horizontal"],ga={min:1,max:100},ma={min:-100,max:0},_r={min:1,max:20,step:1},ya={BRIGHTNESS_RANGE:{min:0,max:2}};function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function ir(e,t){if(e==null)return{};var r,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t.indexOf(r=s[o])>=0||(n[r]=e[r]);return n}function Lt(e){var t=G.useRef(e),r=G.useRef(function(o){t.current&&t.current(o)});return t.current=e,r.current}var kt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},It=function(e){return"touches"in e},Tr=function(e){return e&&e.ownerDocument.defaultView||self},Sn=function(e,t,r){var o=e.getBoundingClientRect(),n=It(t)?(function(s,a){for(var i=0;i<s.length;i++)if(s[i].identifier===a)return s[i];return s[0]})(t.touches,r):t;return{left:kt((n.pageX-(o.left+Tr(e).pageXOffset))/o.width),top:kt((n.pageY-(o.top+Tr(e).pageYOffset))/o.height)}},In=function(e){!It(e)&&e.preventDefault()},_o=te.memo(function(e){var t=e.onMove,r=e.onKey,o=ir(e,["onMove","onKey"]),n=G.useRef(null),s=Lt(t),a=Lt(r),i=G.useRef(null),c=G.useRef(!1),d=G.useMemo(function(){var h=function(_){In(_),(It(_)?_.touches.length>0:_.buttons>0)&&n.current?s(Sn(n.current,_,i.current)):y(!1)},p=function(){return y(!1)};function y(_){var b=c.current,U=Tr(n.current),P=_?U.addEventListener:U.removeEventListener;P(b?"touchmove":"mousemove",h),P(b?"touchend":"mouseup",p)}return[function(_){var b=_.nativeEvent,U=n.current;if(U&&(In(b),!(function(L,M){return M&&!It(L)})(b,c.current)&&U)){if(It(b)){c.current=!0;var P=b.changedTouches||[];P.length&&(i.current=P[0].identifier)}U.focus(),s(Sn(U,b,i.current)),y(!0)}},function(_){var b=_.which||_.keyCode;b<37||b>40||(_.preventDefault(),a({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},y]},[a,s]),l=d[0],u=d[1],f=d[2];return G.useEffect(function(){return f},[f]),te.createElement("div",xt({},o,{onTouchStart:l,onMouseDown:l,className:"react-colorful__interactive",ref:n,onKeyDown:u,tabIndex:0,role:"slider"}))}),Yr=function(e){return e.filter(Boolean).join(" ")},Co=function(e){var t=e.color,r=e.left,o=e.top,n=o===void 0?.5:o,s=Yr(["react-colorful__pointer",e.className]);return te.createElement("div",{className:s,style:{top:100*n+"%",left:100*r+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},ye=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},va=function(e){return Ca(Ur(e))},Ur=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?ye(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?ye(parseInt(e.substring(6,8),16)/255,2):1}},xa=function(e){return _a(wa(e))},ba=function(e){var t=e.s,r=e.v,o=e.a,n=(200-t)*r/100;return{h:ye(e.h),s:ye(n>0&&n<200?t*r/100/(n<=100?n:200-n)*100:0),l:ye(n/2),a:ye(o,2)}},jr=function(e){var t=ba(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},wa=function(e){var t=e.h,r=e.s,o=e.v,n=e.a;t=t/360*6,r/=100,o/=100;var s=Math.floor(t),a=o*(1-r),i=o*(1-(t-s)*r),c=o*(1-(1-t+s)*r),d=s%6;return{r:ye(255*[o,i,a,a,c,o][d]),g:ye(255*[c,o,o,i,a,a][d]),b:ye(255*[a,a,c,o,o,i][d]),a:ye(n,2)}},Mt=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},_a=function(e){var t=e.r,r=e.g,o=e.b,n=e.a,s=n<1?Mt(ye(255*n)):"";return"#"+Mt(t)+Mt(r)+Mt(o)+s},Ca=function(e){var t=e.r,r=e.g,o=e.b,n=e.a,s=Math.max(t,r,o),a=s-Math.min(t,r,o),i=a?s===t?(r-o)/a:s===r?2+(o-t)/a:4+(t-r)/a:0;return{h:ye(60*(i<0?i+6:i)),s:ye(s?a/s*100:0),v:ye(s/255*100),a:n}},Sa=te.memo(function(e){var t=e.hue,r=e.onChange,o=Yr(["react-colorful__hue",e.className]);return te.createElement("div",{className:o},te.createElement(_o,{onMove:function(n){r({h:360*n.left})},onKey:function(n){r({h:kt(t+360*n.left,0,360)})},"aria-label":"Hue","aria-valuenow":ye(t),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(Co,{className:"react-colorful__hue-pointer",left:t/360,color:jr({h:t,s:100,v:100,a:1})})))}),Ia=te.memo(function(e){var t=e.hsva,r=e.onChange,o={backgroundColor:jr({h:t.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:o},te.createElement(_o,{onMove:function(n){r({s:100*n.left,v:100-100*n.top})},onKey:function(n){r({s:kt(t.s+100*n.left,0,100),v:kt(t.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ye(t.s)+"%, Brightness "+ye(t.v)+"%"},te.createElement(Co,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:jr(t)})))}),So=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},Aa=function(e,t){return e.toLowerCase()===t.toLowerCase()||So(Ur(e),Ur(t))};function Ea(e,t,r){var o=Lt(r),n=G.useState(function(){return e.toHsva(t)}),s=n[0],a=n[1],i=G.useRef({color:t,hsva:s});G.useEffect(function(){if(!e.equal(t,i.current.color)){var d=e.toHsva(t);i.current={hsva:d,color:t},a(d)}},[t,e]),G.useEffect(function(){var d;So(s,i.current.hsva)||e.equal(d=e.fromHsva(s),i.current.color)||(i.current={hsva:s,color:d},o(d))},[s,e,o]);var c=G.useCallback(function(d){a(function(l){return Object.assign({},l,d)})},[]);return[s,c]}var Ra=typeof window<"u"?G.useLayoutEffect:G.useEffect,La=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},An=new Map,ka=function(e){Ra(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!An.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,An.set(t,r);var o=La();o&&r.setAttribute("nonce",o),t.head.appendChild(r)}},[])},Pa=function(e){var t=e.className,r=e.colorModel,o=e.color,n=o===void 0?r.defaultColor:o,s=e.onChange,a=ir(e,["className","colorModel","color","onChange"]),i=G.useRef(null);ka(i);var c=Ea(r,n,s),d=c[0],l=c[1],u=Yr(["react-colorful",t]);return te.createElement("div",xt({},a,{ref:i,className:u}),te.createElement(Ia,{hsva:d,onChange:l}),te.createElement(Sa,{hue:d.h,onChange:l,className:"react-colorful__last-control"}))},Ta={defaultColor:"000",toHsva:va,fromHsva:function(e){return xa({h:e.h,s:e.s,v:e.v,a:1})},equal:Aa},Ua=function(e){return te.createElement(Pa,xt({},e,{colorModel:Ta}))},ja=/^#?([0-9A-F]{3,8})$/i,$a=function(e){var t=e.color,r=t===void 0?"":t,o=e.onChange,n=e.onBlur,s=e.escape,a=e.validate,i=e.format,c=e.process,d=ir(e,["color","onChange","onBlur","escape","validate","format","process"]),l=G.useState(function(){return s(r)}),u=l[0],f=l[1],h=Lt(o),p=Lt(n),y=G.useCallback(function(b){var U=s(b.target.value);f(U),a(U)&&h(c?c(U):U)},[s,c,a,h]),_=G.useCallback(function(b){a(b.target.value)||f(s(r)),p(b)},[r,s,a,p]);return G.useEffect(function(){f(s(r))},[r,s]),te.createElement("input",xt({},d,{value:i?i(u):u,spellCheck:"false",onChange:y,onBlur:_}))},En=function(e){return"#"+e},Ma=function(e){var t=e.prefixed,r=e.alpha,o=ir(e,["prefixed","alpha"]),n=G.useCallback(function(a){return a.replace(/([^0-9A-F]+)/gi,"").substring(0,r?8:6)},[r]),s=G.useCallback(function(a){return(function(i,c){var d=ja.exec(i),l=d?d[1].length:0;return l===3||l===6||!!c&&l===4||!!c&&l===8})(a,r)},[r]);return te.createElement($a,xt({},o,{escape:n,format:t?En:void 0,process:En,validate:s}))},Io=$o();const Ao=W.select`
    padding: 8px;
    border: ${({theme:e})=>`solid 1px ${e.colors.primary}`};
    width: ${({$full:e})=>e?"100%":"auto"};
    background-color: white;
`,ze=e=>{const t=de.c(25);let r,o,n,s,a,i,c;t[0]!==e?({label:s,id:n,min:i,max:a,configKey:r,defaultValue:o,...c}=e,t[0]=e,t[1]=r,t[2]=o,t[3]=n,t[4]=s,t[5]=a,t[6]=i,t[7]=c):(r=t[1],o=t[2],n=t[3],s=t[4],a=t[5],i=t[6],c=t[7]);const{loading:d,start:l,stop:u}=st(),{state:f,dispatch:h}=ge(),p=G.useRef(null);let y;t[8]!==r||t[9]!==o||t[10]!==h||t[11]!==l||t[12]!==f.selectedLayerIdx||t[13]!==u?(y=()=>{Io.flushSync(()=>{l()}),h({type:Y.ResetImageCanvas});const P=parseFloat(p.current?.value??o.toString());h({type:Y.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[r]:Math.abs(P)}},withUpdateInitialPresent:!1}}),h({type:Y.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[8]=r,t[9]=o,t[10]=h,t[11]=l,t[12]=f.selectedLayerIdx,t[13]=u,t[14]=y):y=t[14];const _=y,b=c.step??.01;let U;return t[15]!==o||t[16]!==n||t[17]!==s||t[18]!==d||t[19]!==a||t[20]!==i||t[21]!==_||t[22]!==c||t[23]!==b?(U=F.jsx(Gr,{label:s,disabled:d,ref:p,onMouseUp:_,onTouchEnd:_,id:n,type:"range",min:i,max:a,step:b,defaultValue:o,...c}),t[15]=o,t[16]=n,t[17]=s,t[18]=d,t[19]=a,t[20]=i,t[21]=_,t[22]=c,t[23]=b,t[24]=U):U=t[24],U},Eo=e=>{const t=de.c(38),{label:r,id:o,items:n,configKey:s,defaultValue:a,renderItem:i,getItemValue:c}=e,{loading:d,start:l,stop:u}=st(),{state:f,dispatch:h}=ge(),[p,y]=G.useState(a);let _;t[0]!==s||t[1]!==h||t[2]!==c||t[3]!==n||t[4]!==l||t[5]!==f.selectedLayerIdx||t[6]!==u?(_=S=>{const C=parseInt(S.target.value,10),E=n[C];Io.flushSync(()=>{l()}),y(E),h({type:Y.ResetImageCanvas});const A=c?c(E):E;h({type:Y.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[s]:A}},withUpdateInitialPresent:!1}}),h({type:Y.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[0]=s,t[1]=h,t[2]=c,t[3]=n,t[4]=l,t[5]=f.selectedLayerIdx,t[6]=u,t[7]=_):_=t[7];const b=_;let U;if(t[8]!==c||t[9]!==n||t[10]!==p){let S;t[12]!==c||t[13]!==p?(S=C=>{const E=c?c(C):C,A=c?c(p):p;return E===A},t[12]=c,t[13]=p,t[14]=S):S=t[14],U=n.findIndex(S),t[8]=c,t[9]=n,t[10]=p,t[11]=U}else U=t[11];const P=U;let L;t[15]!==o||t[16]!==r?(L=F.jsx(yt,{htmlFor:o,children:r}),t[15]=o,t[16]=r,t[17]=L):L=t[17];const M=d?"not-allowed":"pointer",w=d?.5:1;let k;t[18]!==M||t[19]!==w?(k={cursor:M,opacity:w},t[18]=M,t[19]=w,t[20]=k):k=t[20];let v;if(t[21]!==n||t[22]!==i||t[23]!==P){let S;t[25]!==i||t[26]!==P?(S=(C,E)=>F.jsx("option",{value:E,children:i?i(C,E===P):String(C)},`${C}-${E+1}`),t[25]=i,t[26]=P,t[27]=S):S=t[27],v=n.map(S),t[21]=n,t[22]=i,t[23]=P,t[24]=v}else v=t[24];let m;t[28]!==o||t[29]!==d||t[30]!==b||t[31]!==P||t[32]!==k||t[33]!==v?(m=F.jsx(Ao,{$full:!0,id:o,value:P,onChange:b,disabled:d,style:k,children:v}),t[28]=o,t[29]=d,t[30]=b,t[31]=P,t[32]=k,t[33]=v,t[34]=m):m=t[34];let I;return t[35]!==L||t[36]!==m?(I=F.jsxs("div",{children:[L,m]}),t[35]=L,t[36]=m,t[37]=I):I=t[37],I},Da=W.div`
  margin-top: 24px;
`,ar=W.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,Rn=[{highlightsColor:"#6aff7f",shadowsColor:"#00007e"},{highlightsColor:"#f8be3d",shadowsColor:"#682218"},{highlightsColor:"#01dbfe",shadowsColor:"#7f01d3"},{highlightsColor:"#fbf019",shadowsColor:"#01ab6d"},{highlightsColor:"#fbcd20",shadowsColor:"#ff5d77"},{highlightsColor:"#dc4379",shadowsColor:"#11245e"},{highlightsColor:"#ffffff",shadowsColor:"#91cff8"},{highlightsColor:"#ffefb3",shadowsColor:"#290900"},{highlightsColor:"#acd49d",shadowsColor:"#602457"},{highlightsColor:"#f00e2e",shadowsColor:"#0a0505"},{highlightsColor:"#defcfe",shadowsColor:"#8682d9"},{highlightsColor:"#fdd9e2",shadowsColor:"#65b7d6"},{highlightsColor:"#01ab6d",shadowsColor:"#241a5f"},{highlightsColor:"#ff9738",shadowsColor:"#36200c"},{highlightsColor:"#dfb233",shadowsColor:"#2f0781"}],Oa=()=>{const e=de.c(47),{state:t,dispatch:r}=ge(),[o,n]=G.useState("#ffffff"),[s,a]=G.useState(!1),[i,c]=G.useState("highlightsColor"),[d,l]=G.useState(0),u=G.useRef(null),{BRIGHTNESS_RANGE:f}=ya,p=(t.currentLayer?.selection).config;let y;e[0]!==r||e[1]!==t.selectedLayerIdx?(y=g=>{r({type:Y.UpdateLayerSelection,payload:{layerIdx:t.selectedLayerIdx,pselection:{config:{highlightsColor:g.highlightsColor,shadowsColor:g.shadowsColor}},withUpdateInitialPresent:!1}}),r({type:Y.ResetImageCanvas}),r({type:Y.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},e[0]=r,e[1]=t.selectedLayerIdx,e[2]=y):y=e[2];const _=y;let b;e[3]!==_?(b=g=>{a(!1),c("highlightsColor"),l(g),_(Rn[g])},e[3]=_,e[4]=b):b=e[4];const U=b;let P,L,M,w,k;if(e[5]!==o||e[6]!==p.highlightsColor||e[7]!==p.shadowsColor||e[8]!==i||e[9]!==_){M=()=>{u.current||(u.current=k());const{highlightsColor:j,shadowsColor:B}=u.current;_({highlightsColor:j,shadowsColor:B}),a(!0),n(j)};let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=j=>{n(j)},e[15]=g):g=e[15],P=g,w=()=>{const j=o,B={highlightsColor:i==="highlightsColor"?j:p.highlightsColor,shadowsColor:i==="shadowsColor"?j:p.shadowsColor};u.current=B,_(B)};let O;e[16]!==p.highlightsColor||e[17]!==p.shadowsColor?(O=j=>{c(j);let B;j==="highlightsColor"?B=p.highlightsColor:B=p.shadowsColor,n(B)},e[16]=p.highlightsColor,e[17]=p.shadowsColor,e[18]=O):O=e[18],L=O,k=Ba,e[5]=o,e[6]=p.highlightsColor,e[7]=p.shadowsColor,e[8]=i,e[9]=_,e[10]=P,e[11]=L,e[12]=M,e[13]=w,e[14]=k}else P=e[10],L=e[11],M=e[12],w=e[13],k=e[14];let v;e[19]!==i||e[20]!==k||e[21]!==_?(v=()=>{u.current=k();let g;i==="highlightsColor"?g=u.current.highlightsColor:g=u.current.shadowsColor,n(g),_(u.current)},e[19]=i,e[20]=k,e[21]=_,e[22]=v):v=e[22];const m=v;let I;e[23]!==p.brightness?(I=F.jsx(ze,{label:"Brightness",id:"brightnessIntensity",min:f.min,max:f.max,configKey:"brightness",defaultValue:p.brightness,refresh:!0}),e[23]=p.brightness,e[24]=I):I=e[24];let S;e[25]===Symbol.for("react.memo_cache_sentinel")?(S=F.jsx(yt,{children:"Color Presets"}),e[25]=S):S=e[25];let C;e[26]!==U||e[27]!==d?(C=Rn.map((g,O)=>F.jsx(Ln,{preset:g,onClick:()=>U(O),selected:d===O},O)),e[26]=U,e[27]=d,e[28]=C):C=e[28];let E;e[29]!==M||e[30]!==s?(E=F.jsx(Ln,{onClick:M,selected:s,children:"Custom"}),e[29]=M,e[30]=s,e[31]=E):E=e[31];let A;e[32]!==C||e[33]!==E?(A=F.jsxs(Fa,{children:[C,E]}),e[32]=C,e[33]=E,e[34]=A):A=e[34];let T;e[35]!==o||e[36]!==i||e[37]!==P||e[38]!==L||e[39]!==w||e[40]!==m||e[41]!==s?(T=s&&F.jsxs(G.Fragment,{children:[F.jsxs(mt,{children:[F.jsx(yt,{variant:"primary",children:"Custom Tone"}),F.jsx(Re,{onClick:m,variant:"secondary",size:"small",style:{cursor:"pointer"},children:"Randomize"})]}),F.jsxs(mt,{children:[F.jsx(Re,{onClick:()=>L("highlightsColor"),style:{cursor:"pointer"},size:"small",variant:i==="highlightsColor"?"primary":"secondary",children:"Highlights"}),F.jsx(Re,{onClick:()=>L("shadowsColor"),style:{cursor:"pointer"},size:"small",variant:i==="shadowsColor"?"primary":"secondary",children:"Shadows"})]}),F.jsx(Ua,{color:o,onChange:g=>P(g),onMouseUp:w,onTouchEnd:w}),F.jsx(Ma,{color:o,onChange:g=>P(g)})]}),e[35]=o,e[36]=i,e[37]=P,e[38]=L,e[39]=w,e[40]=m,e[41]=s,e[42]=T):T=e[42];let x;return e[43]!==I||e[44]!==A||e[45]!==T?(x=F.jsxs(Na,{children:[I,S,A,T]}),e[43]=I,e[44]=A,e[45]=T,e[46]=x):x=e[46],x},Na=W.div`
  display: flex;
  flex: 1;
  min-height: 0;
  overflow-y: hidden;
  flex-direction: column;
  gap: 12px;
`,Fa=W.div`
  display: grid;
  gap: 8px;
  grid-template-columns: 1fr 1fr;
  margin-bottom: 12px;
`,Ln=W.div`
  height: 90px;
  cursor: pointer;
  text-align: center;
  align-items: center;
  justify-content: center;
  display: flex;
  border: 1px solid ${({theme:e,selected:t})=>t?e.colors.primary:"black"};
  ${e=>e.preset?`
    background: linear-gradient(
      to right,
      ${e.preset.shadowsColor} 0%,
      ${e.preset.shadowsColor} 50%,
      ${e.preset.highlightsColor} 50%,
      ${e.preset.highlightsColor} 100%
    );
  `:"background: transparent;"}
  position: relative;
  
  ${({theme:e,selected:t})=>t&&`
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: ${e.colors.primary};
      opacity: 0.4;
      pointer-events: none;
    }
  `}
`;function Ba(){const e=Wt(),t=Wt();return{highlightsColor:e,shadowsColor:t}}const za=()=>{const e=de.c(2),{state:t}=ge(),{min:r,max:o}=la,s=(t.currentLayer?.selection).config;let a;return e[0]!==s.intensity?(a=F.jsx(ze,{label:"Intensity",id:"grayscaleIntensity",min:r,max:o,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=a):a=e[1],a},Ha=()=>{const e=de.c(2),{state:t}=ge(),{min:r,max:o}=ca,s=(t.currentLayer?.selection).config;let a;return e[0]!==s.intensity?(a=F.jsx(ze,{label:"Intensity",id:"brightnessIntensity",min:r,max:o,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=a):a=e[1],a},Ga=()=>{const e=de.c(2),{state:t}=ge(),{min:r,max:o}=ua,s=(t.currentLayer?.selection).config;let a;return e[0]!==s.blend?(a=F.jsx(ze,{label:"Blend Intensity",id:"blendIntensity",min:r,max:o,configKey:"blend",defaultValue:s.blend}),e[0]=s.blend,e[1]=a):a=e[1],a},Ya=()=>{const e=de.c(8),{state:t,dispatch:r}=ge(),{min:o,max:n}=fa,a=(t.currentLayer?.selection).config;let i;e[0]!==a.intensity?(i=F.jsx(ze,{label:"Intensity",id:"distortionIntensity",min:o,max:n,configKey:"intensity",defaultValue:a.intensity,refresh:!0}),e[0]=a.intensity,e[1]=i):i=e[1];let c;e[2]!==r||e[3]!==t.selectedLayerIdx?(c=F.jsx(rt,{variant:"outline",type:"button",onClick:()=>{r({type:Y.ResetImageCanvas}),r({type:Y.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Pattern"}),e[2]=r,e[3]=t.selectedLayerIdx,e[4]=c):c=e[4];let d;return e[5]!==i||e[6]!==c?(d=F.jsxs(ar,{children:[i,c]}),e[5]=i,e[6]=c,e[7]=d):d=e[7],d},qa=()=>{const e=de.c(3),{state:t}=ge(),{min:r,max:o}=da,s=(t.currentLayer?.selection).config;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=F.jsx(Eo,{label:"RGB Shift Effect",id:"rgb-shift-effect",items:ha,configKey:"effect",defaultValue:"Vibrance",getItemValue:Za}),e[0]=a):a=e[0];let i;return e[1]!==s.intensity?(i=F.jsxs(ar,{children:[a,F.jsx(ze,{label:"Intensity",id:"rgbShiftIntensity",min:r,max:o,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=i):i=e[2],i},Va=()=>{const e=de.c(3),{state:t}=ge(),{min:r,max:o}=ga,s=(t.currentLayer?.selection).config;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=F.jsx(Eo,{label:"Sort Direction",id:"pixelSortDirection",items:pa,configKey:"direction",defaultValue:"Vertical",getItemValue:Ja,refresh:!0}),e[0]=a):a=e[0];let i;return e[1]!==s.intensity?(i=F.jsxs(ar,{children:[a,F.jsx(ze,{label:"Intensity",id:"pixelSortIntensity",min:r,max:o,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=i):i=e[2],i},Wa=()=>{const e=de.c(2),{state:t}=ge(),{min:r,max:o}=ma,s=(t.currentLayer?.selection).config;let a;return e[0]!==s.intensity?(a=F.jsx(ze,{label:"Intensity",id:"sliceDistortionIntensity",min:r,max:o,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=a):a=e[1],a},Xa=()=>{const e=de.c(8),{state:t,dispatch:r}=ge(),n=(t.currentLayer?.selection).config;let s;e[0]!==n.intensity?(s=F.jsx(ze,{label:"Distortion",id:"sliceDistortionIntensity",min:_r.min,max:_r.max,step:_r.step,configKey:"intensity",defaultValue:n.intensity,refresh:!0}),e[0]=n.intensity,e[1]=s):s=e[1];let a;e[2]!==r||e[3]!==t.selectedLayerIdx?(a=F.jsx(rt,{variant:"outline",type:"button",onClick:()=>{r({type:Y.ResetImageCanvas}),r({type:Y.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Patterns"}),e[2]=r,e[3]=t.selectedLayerIdx,e[4]=a):a=e[4];let i;return e[5]!==s||e[6]!==a?(i=F.jsxs(ar,{children:[s,a]}),e[5]=s,e[6]=a,e[7]=i):i=e[7],i},Qa=e=>{const t=de.c(11);if(!e){let r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx("div",{}),t[0]=r):r=t[0],r}switch(e){case K.None:{let r;return t[1]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx("div",{}),t[1]=r):r=t[1],r}case K.RGBShift:{let r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(qa,{}),t[2]=r):r=t[2],r}case K.Grayscale:{let r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(za,{}),t[3]=r):r=t[3],r}case K.Brightness:{let r;return t[4]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Ha,{}),t[4]=r):r=t[4],r}case K.AsSound:{let r;return t[5]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Ga,{}),t[5]=r):r=t[5],r}case K.FractalPixelSort:{let r;return t[6]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Ya,{}),t[6]=r):r=t[6],r}case K.PixelSort:{let r;return t[7]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Va,{}),t[7]=r):r=t[7],r}case K.Slice:{let r;return t[8]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Wa,{}),t[8]=r):r=t[8],r}case K.OffsetPixelSort:{let r;return t[9]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Xa,{}),t[9]=r):r=t[9],r}case K.Duotone:{let r;return t[10]===Symbol.for("react.memo_cache_sentinel")?(r=F.jsx(Oa,{}),t[10]=r):r=t[10],r}}};function Ka(){const e=de.c(4),{state:t}=ge(),r=t.currentLayer?.selection.filter;let o;e[0]!==r?(o=Qa(r),e[0]=r,e[1]=o):o=e[1];let n;return e[2]!==o?(n=F.jsx(Da,{children:o}),e[2]=o,e[3]=n):n=e[3],n}function Za(e){return e}function Ja(e){return e}const bc=()=>{const e=de.c(46),{state:t,dispatch:r}=ge(),{selectedLayerIdx:o,currentLayer:n}=t,{start:s,stop:a}=st(),i=G.useContext(Br);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=Object.keys(K),e[0]=c):c=e[0];const d=c;let l;e[1]!==r||e[2]!==s||e[3]!==a||e[4]!==i?(l=(j,B)=>{s(),r({type:Y.UpdateLayerSelection,payload:{layerIdx:j,pselection:{filter:B},withUpdateInitialPresent:!1}}),i?.isActive()&&i.getCurrentStep()?.id==="chooseEffect"&&i.next(),a()},e[1]=r,e[2]=s,e[3]=a,e[4]=i,e[5]=l):l=e[5];const u=l;let f;e[6]!==r||e[7]!==o||e[8]!==s||e[9]!==a?(f=()=>{s(),r({type:Y.DeleteLayer,payload:o}),r({type:Y.ResetImageCanvas}),r({type:Y.GenerateResult}),a()},e[6]=r,e[7]=o,e[8]=s,e[9]=a,e[10]=f):f=e[10];const h=f;let p;e[11]!==r?(p=()=>{r({type:Y.ResetImageCanvas}),r({type:Y.GenerateResult})},e[11]=r,e[12]=p):p=e[12];const y=p;let _;e[13]!==r||e[14]!==y?(_=j=>{r({type:Y.DoLayerAction,payload:j}),y()},e[13]=r,e[14]=y,e[15]=_):_=e[15];const b=_;let U,P;e[16]===Symbol.for("react.memo_cache_sentinel")?(U=F.jsx(Gi,{style:{marginBottom:"12px"},children:"Layer Configurations"}),P=F.jsx(yt,{children:"Filter"}),e[16]=U,e[17]=P):(U=e[16],P=e[17]);let L;e[18]!==u||e[19]!==o?(L=j=>u(o,j.target.value),e[18]=u,e[19]=o,e[20]=L):L=e[20];const M=n?.selection.filter;let w;e[21]===Symbol.for("react.memo_cache_sentinel")?(w=d.map(rc),e[21]=w):w=e[21];let k;e[22]!==L||e[23]!==M?(k=F.jsx(Ao,{id:"filterList",$full:!0,onChange:L,value:M,children:w}),e[22]=L,e[23]=M,e[24]=k):k=e[24];let v;e[25]===Symbol.for("react.memo_cache_sentinel")?(v=F.jsx(Ka,{}),e[25]=v):v=e[25];let m;e[26]===Symbol.for("react.memo_cache_sentinel")?(m=F.jsxs(zt,{children:[F.jsx(Bi,{size:16}),F.jsx("span",{children:"Delete Layer"})]}),e[26]=m):m=e[26];let I;e[27]!==h?(I=F.jsx(rt,{$full:!0,variant:"warning",onClick:h,children:m}),e[27]=h,e[28]=I):I=e[28];let S;e[29]!==b?(S=()=>b("undo"),e[29]=b,e[30]=S):S=e[30];let C;e[31]===Symbol.for("react.memo_cache_sentinel")?(C=F.jsxs(zt,{children:[F.jsx(Hi,{size:16}),F.jsx("span",{children:"Undo"})]}),e[31]=C):C=e[31];let E;e[32]!==S?(E=F.jsx(rt,{variant:"outline",type:"button",onClick:S,children:C}),e[32]=S,e[33]=E):E=e[33];let A;e[34]!==b?(A=()=>b("redo"),e[34]=b,e[35]=A):A=e[35];let T;e[36]===Symbol.for("react.memo_cache_sentinel")?(T=F.jsxs(zt,{children:[F.jsx(Ni,{size:16}),F.jsx("span",{children:"Redo"})]}),e[36]=T):T=e[36];let x;e[37]!==A?(x=F.jsx(rt,{variant:"outline",type:"button",onClick:A,children:T}),e[37]=A,e[38]=x):x=e[38];let g;e[39]!==I||e[40]!==E||e[41]!==x?(g=F.jsxs(tc,{children:[I,E,x]}),e[39]=I,e[40]=E,e[41]=x,e[42]=g):g=e[42];let O;return e[43]!==k||e[44]!==g?(O=F.jsxs(ec,{children:[U,P,k,v,g]}),e[43]=k,e[44]=g,e[45]=O):O=e[45],O},ec=W.div`
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  @media (max-width: 1280px) {
    border-top: solid black 1px;
    border-top-style: dashed;
    flex: none;
    min-height: auto;
  }
`,tc=W.div`
    margin-top: 12px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 4px;

    & > *:first-child {
        grid-column: span 2;
    }
`;function rc(e){return F.jsx("option",{value:e,children:io[e]},`filter-${e}`)}const wc=G.forwardRef((e,t)=>{const r=de.c(26);let o,n;r[0]!==e?({onChange:o,...n}=e,r[0]=e,r[1]=o,r[2]=n):(o=r[1],n=r[2]);const s=G.useRef(null),[a,i]=G.useState(!1);let c;r[3]!==t?(c=()=>{t&&"current"in t&&t.current&&t.current.click()},r[3]=t,r[4]=c):c=r[4];const d=c;let l;r[5]===Symbol.for("react.memo_cache_sentinel")?(l=m=>{m.preventDefault(),m.stopPropagation(),i(!0)},r[5]=l):l=r[5];const u=l;let f;r[6]===Symbol.for("react.memo_cache_sentinel")?(f=m=>{m.preventDefault(),m.stopPropagation(),i(!1)},r[6]=f):f=r[6];const h=f;let p;r[7]!==o||r[8]!==t?(p=m=>{if(t&&"current"in t&&t.current){const I=new DataTransfer;if(I.items.add(m),t.current.files=I.files,o){const S=new Event("change",{bubbles:!0});Object.defineProperty(S,"target",{writable:!1,value:t.current}),o(S)}}},r[7]=o,r[8]=t,r[9]=p):p=r[9];const y=p;let _;r[10]!==y||r[11]!==t?(_=m=>{m.preventDefault(),m.stopPropagation(),i(!1);const I=m.dataTransfer.files;I&&I.length>0&&t&&"current"in t&&t.current&&y(I[0])},r[10]=y,r[11]=t,r[12]=_):_=r[12];const b=_,U=a?"active":"";let P,L;r[13]===Symbol.for("react.memo_cache_sentinel")?(P=F.jsx(sc,{children:F.jsx("i",{className:"fas fa-images"})}),L=F.jsx(kn,{children:"Drag & Drop"}),r[13]=P,r[14]=L):(P=r[13],L=r[14]);let M;r[15]===Symbol.for("react.memo_cache_sentinel")?(M=F.jsxs(kn,{children:["or ",F.jsx(ac,{children:"browse"})]}),r[15]=M):M=r[15];let w;r[16]!==o||r[17]!==t||r[18]!==n?(w=F.jsx(cc,{ref:t,type:"file",accept:"image/*",onChange:o,...n}),r[16]=o,r[17]=t,r[18]=n,r[19]=w):w=r[19];let k;r[20]===Symbol.for("react.memo_cache_sentinel")?(k=F.jsx(ic,{children:"Supports: JPEG, JPG, PNG"}),r[20]=k):k=r[20];let v;return r[21]!==d||r[22]!==b||r[23]!==w||r[24]!==U?(v=F.jsx(nc,{ref:s,children:F.jsxs(oc,{className:U,onDragOver:u,onDragLeave:h,onDrop:b,onClick:d,children:[P,L,M,w,k]})}),r[21]=d,r[22]=b,r[23]=w,r[24]=U,r[25]=v):v=r[25],v}),nc=W.div`
  max-width: 650px;
  width: 100%;
  padding: 30px;
  background: #fff;
`,oc=W.div`
  cursor: pointer;
  height: 400px;
  border: 1px dashed #9da2ac;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  margin: 10px auto;

  &.active {
    border: 1px solid ${({theme:e})=>e.colors.primary};
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`,sc=W.div`
  font-size: 50px;
  color: ${({theme:e})=>e.colors.primary};
`,kn=W.span`
  font-size: 20px;
  font-weight: 500;
  color: #34495e;
`,ic=W.span`
  font-size: 12px;
  color: gray;
  margin: 10px 0 15px 0;
`,ac=W.span`
  font-size: 20px;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.primary};
`,cc=W.input`
  display: none;
`;export{rt as B,fc as C,Ui as D,yc as E,ao as F,vc as G,pc as H,Ns as L,gc as P,Gr as S,wc as U,mi as _,st as a,zt as b,Y as c,$r as d,$o as e,ko as f,zs as g,de as h,W as i,F as j,Br as k,xc as l,bc as m,mc as n,hc as o,no as p,Fs as q,G as r,uc as s,lc as t,ge as u,dc as v};

function us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lr={exports:{}},un={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo;function _i(){if(fo)return un;fo=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,s){var i=null;if(s!==void 0&&(i=""+s),o.key!==void 0&&(i=""+o.key),"key"in o){s={};for(var a in o)a!=="key"&&(s[a]=o[a])}else s=o;return o=s.ref,{$$typeof:e,type:r,key:i,ref:o!==void 0?o:null,props:s}}return un.Fragment=t,un.jsx=n,un.jsxs=n,un}var ho;function Si(){return ho||(ho=1,lr.exports=_i()),lr.exports}var z=Si(),ur={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po;function Ci(){if(po)return te;po=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),f=Symbol.iterator;function h(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function v(I,P,H){this.props=I,this.context=P,this.refs=b,this.updater=H||p}v.prototype.isReactComponent={},v.prototype.setState=function(I,P){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,P,"setState")},v.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=v.prototype;function T(I,P,H){this.props=I,this.context=P,this.refs=b,this.updater=H||p}var R=T.prototype=new O;R.constructor=T,g(R,v.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function _(){}var k={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function y(I,P,H){var N=H.ref;return{$$typeof:e,type:I,key:P,ref:N!==void 0?N:null,props:H}}function E(I,P){return y(I.type,P,I.props)}function A(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function S(I){var P={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(H){return P[H]})}var L=/\/+/g;function C(I,P){return typeof I=="object"&&I!==null&&I.key!=null?S(""+I.key):P.toString(36)}function D(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(_,_):(I.status="pending",I.then(function(P){I.status==="pending"&&(I.status="fulfilled",I.value=P)},function(P){I.status==="pending"&&(I.status="rejected",I.reason=P)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function w(I,P,H,N,j){var G=typeof I;(G==="undefined"||G==="boolean")&&(I=null);var W=!1;if(I===null)W=!0;else switch(G){case"bigint":case"string":case"number":W=!0;break;case"object":switch(I.$$typeof){case e:case t:W=!0;break;case l:return W=I._init,w(W(I._payload),P,H,N,j)}}if(W)return j=j(I),W=N===""?"."+C(I,0):N,M(j)?(H="",W!=null&&(H=W.replace(L,"$&/")+"/"),w(j,P,H,"",function(ee){return ee})):j!=null&&(A(j)&&(j=E(j,H+(j.key==null||I&&I.key===j.key?"":(""+j.key).replace(L,"$&/")+"/")+W)),P.push(j)),1;W=0;var Z=N===""?".":N+":";if(M(I))for(var Y=0;Y<I.length;Y++)N=I[Y],G=Z+C(N,Y),W+=w(N,P,H,G,j);else if(Y=h(I),typeof Y=="function")for(I=Y.call(I),Y=0;!(N=I.next()).done;)N=N.value,G=Z+C(N,Y++),W+=w(N,P,H,G,j);else if(G==="object"){if(typeof I.then=="function")return w(D(I),P,H,N,j);throw P=String(I),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return W}function m(I,P,H){if(I==null)return I;var N=[],j=0;return w(I,N,"","",function(G){return P.call(H,G,j++)}),N}function U(I){if(I._status===-1){var P=I._result;P=P(),P.then(function(H){(I._status===0||I._status===-1)&&(I._status=1,I._result=H)},function(H){(I._status===0||I._status===-1)&&(I._status=2,I._result=H)}),I._status===-1&&(I._status=0,I._result=P)}if(I._status===1)return I._result.default;throw I._result}var $=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},F={map:m,forEach:function(I,P,H){m(I,function(){P.apply(this,arguments)},H)},count:function(I){var P=0;return m(I,function(){P++}),P},toArray:function(I){return m(I,function(P){return P})||[]},only:function(I){if(!A(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return te.Activity=u,te.Children=F,te.Component=v,te.Fragment=n,te.Profiler=o,te.PureComponent=T,te.StrictMode=r,te.Suspense=c,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,te.__COMPILER_RUNTIME={__proto__:null,c:function(I){return k.H.useMemoCache(I)}},te.cache=function(I){return function(){return I.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(I,P,H){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var N=g({},I.props),j=I.key;if(P!=null)for(G in P.key!==void 0&&(j=""+P.key),P)!x.call(P,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&P.ref===void 0||(N[G]=P[G]);var G=arguments.length-2;if(G===1)N.children=H;else if(1<G){for(var W=Array(G),Z=0;Z<G;Z++)W[Z]=arguments[Z+2];N.children=W}return y(I.type,j,N)},te.createContext=function(I){return I={$$typeof:i,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},te.createElement=function(I,P,H){var N,j={},G=null;if(P!=null)for(N in P.key!==void 0&&(G=""+P.key),P)x.call(P,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(j[N]=P[N]);var W=arguments.length-2;if(W===1)j.children=H;else if(1<W){for(var Z=Array(W),Y=0;Y<W;Y++)Z[Y]=arguments[Y+2];j.children=Z}if(I&&I.defaultProps)for(N in W=I.defaultProps,W)j[N]===void 0&&(j[N]=W[N]);return y(I,G,j)},te.createRef=function(){return{current:null}},te.forwardRef=function(I){return{$$typeof:a,render:I}},te.isValidElement=A,te.lazy=function(I){return{$$typeof:l,_payload:{_status:-1,_result:I},_init:U}},te.memo=function(I,P){return{$$typeof:d,type:I,compare:P===void 0?null:P}},te.startTransition=function(I){var P=k.T,H={};k.T=H;try{var N=I(),j=k.S;j!==null&&j(H,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(_,$)}catch(G){$(G)}finally{P!==null&&H.types!==null&&(P.types=H.types),k.T=P}},te.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},te.use=function(I){return k.H.use(I)},te.useActionState=function(I,P,H){return k.H.useActionState(I,P,H)},te.useCallback=function(I,P){return k.H.useCallback(I,P)},te.useContext=function(I){return k.H.useContext(I)},te.useDebugValue=function(){},te.useDeferredValue=function(I,P){return k.H.useDeferredValue(I,P)},te.useEffect=function(I,P){return k.H.useEffect(I,P)},te.useEffectEvent=function(I){return k.H.useEffectEvent(I)},te.useId=function(){return k.H.useId()},te.useImperativeHandle=function(I,P,H){return k.H.useImperativeHandle(I,P,H)},te.useInsertionEffect=function(I,P){return k.H.useInsertionEffect(I,P)},te.useLayoutEffect=function(I,P){return k.H.useLayoutEffect(I,P)},te.useMemo=function(I,P){return k.H.useMemo(I,P)},te.useOptimistic=function(I,P){return k.H.useOptimistic(I,P)},te.useReducer=function(I,P,H){return k.H.useReducer(I,P,H)},te.useRef=function(I){return k.H.useRef(I)},te.useState=function(I){return k.H.useState(I)},te.useSyncExternalStore=function(I,P,H){return k.H.useSyncExternalStore(I,P,H)},te.useTransition=function(){return k.H.useTransition()},te.version="19.2.0",te}var go;function Gr(){return go||(go=1,ur.exports=Ci()),ur.exports}var fr={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo;function Ai(){if(mo)return Be;mo=1;var e=Gr();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)d+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(c,d,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:u==null?null:""+u,children:c,containerInfo:d,implementation:l}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Be.createPortal=function(c,d){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(c,d,null,l)},Be.flushSync=function(c){var d=i.T,l=r.p;try{if(i.T=null,r.p=2,c)return c()}finally{i.T=d,r.p=l,r.d.f()}},Be.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Be.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Be.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var l=d.as,u=a(l,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,h=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;l==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:u,integrity:f,fetchPriority:h}):l==="script"&&r.d.X(c,{crossOrigin:u,integrity:f,fetchPriority:h,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Be.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var l=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Be.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var l=d.as,u=a(l,d.crossOrigin);r.d.L(c,l,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Be.preloadModule=function(c,d){if(typeof c=="string")if(d){var l=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:l,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Be.requestFormReset=function(c){r.d.r(c)},Be.unstable_batchedUpdates=function(c,d){return c(d)},Be.useFormState=function(c,d,l){return i.H.useFormState(c,d,l)},Be.useFormStatus=function(){return i.H.useHostTransitionStatus()},Be.version="19.2.0",Be}var yo;function Ei(){if(yo)return fr.exports;yo=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fr.exports=Ai(),fr.exports}var Me=function(){return Me=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Me.apply(this,arguments)};function pn(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var B=Gr();const ae=us(B);var we="-ms-",dn="-moz-",he="-webkit-",fs="comm",Vn="rule",qr="decl",Ii="@import",ds="@keyframes",Ri="@layer",hs=Math.abs,Wr=String.fromCharCode,Ir=Object.assign;function Li(e,t){return De(e,0)^45?(((t<<2^De(e,0))<<2^De(e,1))<<2^De(e,2))<<2^De(e,3):0}function ps(e){return e.trim()}function Ct(e,t){return(e=t.exec(e))?e[0]:e}function se(e,t,n){return e.replace(t,n)}function Ln(e,t,n){return e.indexOf(t,n)}function De(e,t){return e.charCodeAt(t)|0}function Qt(e,t,n){return e.slice(t,n)}function gt(e){return e.length}function gs(e){return e.length}function fn(e,t){return t.push(e),e}function ki(e,t){return e.map(t).join("")}function vo(e,t){return e.filter(function(n){return!Ct(n,t)})}var Xn=1,Zt=1,ms=0,st=0,Re=0,sn="";function Kn(e,t,n,r,o,s,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:s,line:Xn,column:Zt,length:i,return:"",siblings:a}}function It(e,t){return Ir(Kn("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function qt(e){for(;e.root;)e=It(e.root,{children:[e]});fn(e,e.siblings)}function Ti(){return Re}function Oi(){return Re=st>0?De(sn,--st):0,Zt--,Re===10&&(Zt=1,Xn--),Re}function ct(){return Re=st<ms?De(sn,st++):0,Zt++,Re===10&&(Zt=1,Xn++),Re}function Dt(){return De(sn,st)}function kn(){return st}function Qn(e,t){return Qt(sn,e,t)}function Rr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pi(e){return Xn=Zt=1,ms=gt(sn=e),st=0,[]}function $i(e){return sn="",e}function dr(e){return ps(Qn(st-1,Lr(e===91?e+2:e===40?e+1:e)))}function Di(e){for(;(Re=Dt())&&Re<33;)ct();return Rr(e)>2||Rr(Re)>3?"":" "}function Mi(e,t){for(;--t&&ct()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return Qn(e,kn()+(t<6&&Dt()==32&&ct()==32))}function Lr(e){for(;ct();)switch(Re){case e:return st;case 34:case 39:e!==34&&e!==39&&Lr(Re);break;case 40:e===41&&Lr(e);break;case 92:ct();break}return st}function ji(e,t){for(;ct()&&e+Re!==57;)if(e+Re===84&&Dt()===47)break;return"/*"+Qn(t,st-1)+"*"+Wr(e===47?e:ct())}function Ui(e){for(;!Rr(Dt());)ct();return Qn(e,st)}function Ni(e){return $i(Tn("",null,null,null,[""],e=Pi(e),0,[0],e))}function Tn(e,t,n,r,o,s,i,a,c){for(var d=0,l=0,u=i,f=0,h=0,p=0,g=1,b=1,v=1,O=0,T="",R=o,M=s,_=r,k=T;b;)switch(p=O,O=ct()){case 40:if(p!=108&&De(k,u-1)==58){Ln(k+=se(dr(O),"&","&\f"),"&\f",hs(d?a[d-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:k+=dr(O);break;case 9:case 10:case 13:case 32:k+=Di(p);break;case 92:k+=Mi(kn()-1,7);continue;case 47:switch(Dt()){case 42:case 47:fn(Fi(ji(ct(),kn()),t,n,c),c);break;default:k+="/"}break;case 123*g:a[d++]=gt(k)*v;case 125*g:case 59:case 0:switch(O){case 0:case 125:b=0;case 59+l:v==-1&&(k=se(k,/\f/g,"")),h>0&&gt(k)-u&&fn(h>32?xo(k+";",r,n,u-1,c):xo(se(k," ","")+";",r,n,u-2,c),c);break;case 59:k+=";";default:if(fn(_=wo(k,t,n,d,l,o,a,T,R=[],M=[],u,s),s),O===123)if(l===0)Tn(k,t,_,_,R,s,u,a,M);else switch(f===99&&De(k,3)===110?100:f){case 100:case 108:case 109:case 115:Tn(e,_,_,r&&fn(wo(e,_,_,0,0,o,a,T,o,R=[],u,M),M),o,M,u,a,r?R:M);break;default:Tn(k,_,_,_,[""],M,0,a,M)}}d=l=h=0,g=v=1,T=k="",u=i;break;case 58:u=1+gt(k),h=p;default:if(g<1){if(O==123)--g;else if(O==125&&g++==0&&Oi()==125)continue}switch(k+=Wr(O),O*g){case 38:v=l>0?1:(k+="\f",-1);break;case 44:a[d++]=(gt(k)-1)*v,v=1;break;case 64:Dt()===45&&(k+=dr(ct())),f=Dt(),l=u=gt(T=k+=Ui(kn())),O++;break;case 45:p===45&&gt(k)==2&&(g=0)}}return s}function wo(e,t,n,r,o,s,i,a,c,d,l,u){for(var f=o-1,h=o===0?s:[""],p=gs(h),g=0,b=0,v=0;g<r;++g)for(var O=0,T=Qt(e,f+1,f=hs(b=i[g])),R=e;O<p;++O)(R=ps(b>0?h[O]+" "+T:se(T,/&\f/g,h[O])))&&(c[v++]=R);return Kn(e,t,n,o===0?Vn:a,c,d,l,u)}function Fi(e,t,n,r){return Kn(e,t,n,fs,Wr(Ti()),Qt(e,2,-2),0,r)}function xo(e,t,n,r,o){return Kn(e,t,n,qr,Qt(e,0,r),Qt(e,r+1,-1),r,o)}function ys(e,t,n){switch(Li(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 4789:return dn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+dn+e+we+e+e;case 5936:switch(De(e,t+11)){case 114:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+we+se(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return he+e+we+e+e;case 6165:return he+e+we+"flex-"+e+e;case 5187:return he+e+se(e,/(\w+).+(:[^]+)/,he+"box-$1$2"+we+"flex-$1$2")+e;case 5443:return he+e+we+"flex-item-"+se(e,/flex-|-self/g,"")+(Ct(e,/flex-|baseline/)?"":we+"grid-row-"+se(e,/flex-|-self/g,""))+e;case 4675:return he+e+we+"flex-line-pack"+se(e,/align-content|flex-|-self/g,"")+e;case 5548:return he+e+we+se(e,"shrink","negative")+e;case 5292:return he+e+we+se(e,"basis","preferred-size")+e;case 6060:return he+"box-"+se(e,"-grow","")+he+e+we+se(e,"grow","positive")+e;case 4554:return he+se(e,/([^-])(transform)/g,"$1"+he+"$2")+e;case 6187:return se(se(se(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return se(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return se(se(e,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+we+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4200:if(!Ct(e,/flex-|baseline/))return we+"grid-column-align"+Qt(e,t)+e;break;case 2592:case 3360:return we+se(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,Ct(r.props,/grid-\w+-end/)})?~Ln(e+(n=n[t].value),"span",0)?e:we+se(e,"-start","")+e+we+"grid-row-span:"+(~Ln(n,"span",0)?Ct(n,/\d+/):+Ct(n,/\d+/)-+Ct(e,/\d+/))+";":we+se(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Ct(r.props,/grid-\w+-start/)})?e:we+se(se(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return se(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gt(e)-1-t>6)switch(De(e,t+1)){case 109:if(De(e,t+4)!==45)break;case 102:return se(e,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+dn+(De(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ln(e,"stretch",0)?ys(se(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return se(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,s,i,a,c,d){return we+o+":"+s+d+(i?we+o+"-span:"+(a?c:+c-+s)+d:"")+e});case 4949:if(De(e,t+6)===121)return se(e,":",":"+he)+e;break;case 6444:switch(De(e,De(e,14)===45?18:11)){case 120:return se(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+he+(De(e,14)===45?"inline-":"")+"box$3$1"+he+"$2$3$1"+we+"$2box$3")+e;case 100:return se(e,":",":"+we)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(e,"scroll-","scroll-snap-")+e}return e}function Mn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Bi(e,t,n,r){switch(e.type){case Ri:if(e.children.length)break;case Ii:case qr:return e.return=e.return||e.value;case fs:return"";case ds:return e.return=e.value+"{"+Mn(e.children,r)+"}";case Vn:if(!gt(e.value=e.props.join(",")))return""}return gt(n=Mn(e.children,r))?e.return=e.value+"{"+n+"}":""}function zi(e){var t=gs(e);return function(n,r,o,s){for(var i="",a=0;a<t;a++)i+=e[a](n,r,o,s)||"";return i}}function Hi(e){return function(t){t.root||(t=t.return)&&e(t)}}function Gi(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case qr:e.return=ys(e.value,e.length,n);return;case ds:return Mn([It(e,{value:se(e.value,"@","@"+he)})],r);case Vn:if(e.length)return ki(n=e.props,function(o){switch(Ct(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qt(It(e,{props:[se(o,/:(read-\w+)/,":"+dn+"$1")]})),qt(It(e,{props:[o]})),Ir(e,{props:vo(n,r)});break;case"::placeholder":qt(It(e,{props:[se(o,/:(plac\w+)/,":"+he+"input-$1")]})),qt(It(e,{props:[se(o,/:(plac\w+)/,":"+dn+"$1")]})),qt(It(e,{props:[se(o,/:(plac\w+)/,we+"input-$1")]})),qt(It(e,{props:[o]})),Ir(e,{props:vo(n,r)});break}return""})}}var qi={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ze={},Jt=typeof process<"u"&&Ze!==void 0&&(Ze.REACT_APP_SC_ATTR||Ze.SC_ATTR)||"data-styled",vs="active",ws="data-styled-version",Zn="6.1.19",Yr=`/*!sc*/
`,jn=typeof window<"u"&&typeof document<"u",Wi=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ze!==void 0&&Ze.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ze.REACT_APP_SC_DISABLE_SPEEDY!==""?Ze.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ze.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ze!==void 0&&Ze.SC_DISABLE_SPEEDY!==void 0&&Ze.SC_DISABLE_SPEEDY!==""&&Ze.SC_DISABLE_SPEEDY!=="false"&&Ze.SC_DISABLE_SPEEDY),Yi={},Jn=Object.freeze([]),en=Object.freeze({});function xs(e,t,n){return n===void 0&&(n=en),e.theme!==n.theme&&e.theme||t||n.theme}var bs=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Vi=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Xi=/(^-|-$)/g;function bo(e){return e.replace(Vi,"-").replace(Xi,"")}var Ki=/(a)(d)/gi,Sn=52,_o=function(e){return String.fromCharCode(e+(e>25?39:97))};function kr(e){var t,n="";for(t=Math.abs(e);t>Sn;t=t/Sn|0)n=_o(t%Sn)+n;return(_o(t%Sn)+n).replace(Ki,"$1-$2")}var hr,_s=5381,Vt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ss=function(e){return Vt(_s,e)};function Cs(e){return kr(Ss(e)>>>0)}function Qi(e){return e.displayName||e.name||"Component"}function pr(e){return typeof e=="string"&&!0}var As=typeof Symbol=="function"&&Symbol.for,Es=As?Symbol.for("react.memo"):60115,Zi=As?Symbol.for("react.forward_ref"):60112,Ji={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ea={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Is={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ta=((hr={})[Zi]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hr[Es]=Is,hr);function So(e){return("type"in(t=e)&&t.type.$$typeof)===Es?Is:"$$typeof"in e?ta[e.$$typeof]:Ji;var t}var na=Object.defineProperty,ra=Object.getOwnPropertyNames,Co=Object.getOwnPropertySymbols,oa=Object.getOwnPropertyDescriptor,sa=Object.getPrototypeOf,Ao=Object.prototype;function Rs(e,t,n){if(typeof t!="string"){if(Ao){var r=sa(t);r&&r!==Ao&&Rs(e,r,n)}var o=ra(t);Co&&(o=o.concat(Co(t)));for(var s=So(e),i=So(t),a=0;a<o.length;++a){var c=o[a];if(!(c in ea||n&&n[c]||i&&c in i||s&&c in s)){var d=oa(t,c);try{na(e,c,d)}catch{}}}}return e}function Ut(e){return typeof e=="function"}function Vr(e){return typeof e=="object"&&"styledComponentId"in e}function Pt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Tr(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function gn(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Or(e,t,n){if(n===void 0&&(n=!1),!n&&!gn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Or(e[r],t[r]);else if(gn(t))for(var r in t)e[r]=Or(e[r],t[r]);return e}function Xr(e,t){Object.defineProperty(e,"toString",{value:t})}function Nt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ia=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,s=o;t>=s;)if((s<<=1)<0)throw Nt(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var i=o;i<s;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(t+1),c=(i=0,n.length);i<c;i++)this.tag.insertRule(a,n[i])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var s=r;s<o;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),s=o+r,i=o;i<s;i++)n+="".concat(this.tag.getRule(i)).concat(Yr);return n},e})(),On=new Map,Un=new Map,Pn=1,Cn=function(e){if(On.has(e))return On.get(e);for(;Un.has(Pn);)Pn++;var t=Pn++;return On.set(e,t),Un.set(t,e),t},aa=function(e,t){Pn=t+1,On.set(e,t),Un.set(t,e)},ca="style[".concat(Jt,"][").concat(ws,'="').concat(Zn,'"]'),la=new RegExp("^".concat(Jt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ua=function(e,t,n){for(var r,o=n.split(","),s=0,i=o.length;s<i;s++)(r=o[s])&&e.registerName(t,r)},fa=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Yr),o=[],s=0,i=r.length;s<i;s++){var a=r[s].trim();if(a){var c=a.match(la);if(c){var d=0|parseInt(c[1],10),l=c[2];d!==0&&(aa(l,d),ua(e,l,c[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(a)}}},Eo=function(e){for(var t=document.querySelectorAll(ca),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Jt)!==vs&&(fa(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function da(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ls=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=(function(a){var c=Array.from(a.querySelectorAll("style[".concat(Jt,"]")));return c[c.length-1]})(n),s=o!==void 0?o.nextSibling:null;r.setAttribute(Jt,vs),r.setAttribute(ws,Zn);var i=da();return i&&r.setAttribute("nonce",i),n.insertBefore(r,s),r},ha=(function(){function e(t){this.element=Ls(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,s=r.length;o<s;o++){var i=r[o];if(i.ownerNode===n)return i}throw Nt(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e})(),pa=(function(){function e(t){this.element=Ls(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),ga=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),Io=jn,ma={isServer:!jn,useCSSOMInjection:!Wi},Nn=(function(){function e(t,n,r){t===void 0&&(t=en),n===void 0&&(n={});var o=this;this.options=Me(Me({},ma),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&jn&&Io&&(Io=!1,Eo(this)),Xr(this,function(){return(function(s){for(var i=s.getTag(),a=i.length,c="",d=function(u){var f=(function(v){return Un.get(v)})(u);if(f===void 0)return"continue";var h=s.names.get(f),p=i.getGroup(u);if(h===void 0||!h.size||p.length===0)return"continue";var g="".concat(Jt,".g").concat(u,'[id="').concat(f,'"]'),b="";h!==void 0&&h.forEach(function(v){v.length>0&&(b+="".concat(v,","))}),c+="".concat(p).concat(g,'{content:"').concat(b,'"}').concat(Yr)},l=0;l<a;l++)d(l);return c})(o)})}return e.registerId=function(t){return Cn(t)},e.prototype.rehydrate=function(){!this.server&&jn&&Eo(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Me(Me({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new ga(o):r?new ha(o):new pa(o)})(this.options),new ia(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Cn(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Cn(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Cn(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),ya=/&/g,va=/^\s*\/\/.*$/gm;function ks(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ks(n.children,t)),n})}function wa(e){var t,n,r,o=en,s=o.options,i=s===void 0?en:s,a=o.plugins,c=a===void 0?Jn:a,d=function(f,h,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(t):f},l=c.slice();l.push(function(f){f.type===Vn&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(ya,n).replace(r,d))}),i.prefix&&l.push(Gi),l.push(Bi);var u=function(f,h,p,g){h===void 0&&(h=""),p===void 0&&(p=""),g===void 0&&(g="&"),t=g,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var b=f.replace(va,""),v=Ni(p||h?"".concat(p," ").concat(h," { ").concat(b," }"):b);i.namespace&&(v=ks(v,i.namespace));var O=[];return Mn(v,zi(l.concat(Hi(function(T){return O.push(T)})))),O};return u.hash=c.length?c.reduce(function(f,h){return h.name||Nt(15),Vt(f,h.name)},_s).toString():"",u}var xa=new Nn,Pr=wa(),Ts=ae.createContext({shouldForwardProp:void 0,styleSheet:xa,stylis:Pr});Ts.Consumer;ae.createContext(void 0);function $r(){return B.useContext(Ts)}var ba=(function(){function e(t,n){var r=this;this.inject=function(o,s){s===void 0&&(s=Pr);var i=r.name+s.hash;o.hasNameForId(r.id,i)||o.insertRules(r.id,i,s(r.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Xr(this,function(){throw Nt(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Pr),this.name+t.hash},e})(),_a=function(e){return e>="A"&&e<="Z"};function Ro(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;_a(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Os=function(e){return e==null||e===!1||e===""},Ps=function(e){var t,n,r=[];for(var o in e){var s=e[o];e.hasOwnProperty(o)&&!Os(s)&&(Array.isArray(s)&&s.isCss||Ut(s)?r.push("".concat(Ro(o),":"),s,";"):gn(s)?r.push.apply(r,pn(pn(["".concat(o," {")],Ps(s),!1),["}"],!1)):r.push("".concat(Ro(o),": ").concat((t=o,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in qi||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Lt(e,t,n,r){if(Os(e))return[];if(Vr(e))return[".".concat(e.styledComponentId)];if(Ut(e)){if(!Ut(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var o=e(t);return Lt(o,t,n,r)}var s;return e instanceof ba?n?(e.inject(n,r),[e.getName(r)]):[e]:gn(e)?Ps(e):Array.isArray(e)?Array.prototype.concat.apply(Jn,e.map(function(i){return Lt(i,t,n,r)})):[e.toString()]}function $s(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ut(n)&&!Vr(n))return!1}return!0}var Sa=Ss(Zn),Ca=(function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&$s(t),this.componentId=n,this.baseHash=Vt(Sa,n),this.baseStyle=r,Nn.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Pt(o,this.staticRulesId);else{var s=Tr(Lt(this.rules,t,n,r)),i=kr(Vt(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,i)){var a=r(s,".".concat(i),void 0,this.componentId);n.insertRules(this.componentId,i,a)}o=Pt(o,i),this.staticRulesId=i}else{for(var c=Vt(this.baseHash,r.hash),d="",l=0;l<this.rules.length;l++){var u=this.rules[l];if(typeof u=="string")d+=u;else if(u){var f=Tr(Lt(u,t,n,r));c=Vt(c,f+l),d+=f}}if(d){var h=kr(c>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(d,".".concat(h),void 0,this.componentId)),o=Pt(o,h)}}return o},e})(),mn=ae.createContext(void 0);mn.Consumer;function of(e){var t=ae.useContext(mn),n=B.useMemo(function(){return(function(r,o){if(!r)throw Nt(14);if(Ut(r)){var s=r(o);return s}if(Array.isArray(r)||typeof r!="object")throw Nt(8);return o?Me(Me({},o),r):r})(e.theme,t)},[e.theme,t]);return e.children?ae.createElement(mn.Provider,{value:n},e.children):null}var gr={};function Aa(e,t,n){var r=Vr(e),o=e,s=!pr(e),i=t.attrs,a=i===void 0?Jn:i,c=t.componentId,d=c===void 0?(function(R,M){var _=typeof R!="string"?"sc":bo(R);gr[_]=(gr[_]||0)+1;var k="".concat(_,"-").concat(Cs(Zn+_+gr[_]));return M?"".concat(M,"-").concat(k):k})(t.displayName,t.parentComponentId):c,l=t.displayName,u=l===void 0?(function(R){return pr(R)?"styled.".concat(R):"Styled(".concat(Qi(R),")")})(e):l,f=t.displayName&&t.componentId?"".concat(bo(t.displayName),"-").concat(t.componentId):t.componentId||d,h=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,p=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;p=function(R,M){return g(R,M)&&b(R,M)}}else p=g}var v=new Ca(n,f,r?o.componentStyle:void 0);function O(R,M){return(function(_,k,x){var y=_.attrs,E=_.componentStyle,A=_.defaultProps,S=_.foldedComponentIds,L=_.styledComponentId,C=_.target,D=ae.useContext(mn),w=$r(),m=_.shouldForwardProp||w.shouldForwardProp,U=xs(k,D,A)||en,$=(function(j,G,W){for(var Z,Y=Me(Me({},G),{className:void 0,theme:W}),ee=0;ee<j.length;ee+=1){var le=Ut(Z=j[ee])?Z(Y):Z;for(var oe in le)Y[oe]=oe==="className"?Pt(Y[oe],le[oe]):oe==="style"?Me(Me({},Y[oe]),le[oe]):le[oe]}return G.className&&(Y.className=Pt(Y.className,G.className)),Y})(y,k,U),F=$.as||C,I={};for(var P in $)$[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&$.theme===U||(P==="forwardedAs"?I.as=$.forwardedAs:m&&!m(P,F)||(I[P]=$[P]));var H=(function(j,G){var W=$r(),Z=j.generateAndInjectStyles(G,W.styleSheet,W.stylis);return Z})(E,$),N=Pt(S,L);return H&&(N+=" "+H),$.className&&(N+=" "+$.className),I[pr(F)&&!bs.has(F)?"class":"className"]=N,x&&(I.ref=x),B.createElement(F,I)})(T,R,M)}O.displayName=u;var T=ae.forwardRef(O);return T.attrs=h,T.componentStyle=v,T.displayName=u,T.shouldForwardProp=p,T.foldedComponentIds=r?Pt(o.foldedComponentIds,o.styledComponentId):"",T.styledComponentId=f,T.target=r?o.target:e,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=r?(function(M){for(var _=[],k=1;k<arguments.length;k++)_[k-1]=arguments[k];for(var x=0,y=_;x<y.length;x++)Or(M,y[x],!0);return M})({},o.defaultProps,R):R}}),Xr(T,function(){return".".concat(T.styledComponentId)}),s&&Rs(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function Lo(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var ko=function(e){return Object.assign(e,{isCss:!0})};function Ds(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ut(e)||gn(e))return ko(Lt(Lo(Jn,pn([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Lt(r):ko(Lt(Lo(r,t)))}function Dr(e,t,n){if(n===void 0&&(n=en),!t)throw Nt(1,t);var r=function(o){for(var s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return e(t,n,Ds.apply(void 0,pn([o],s,!1)))};return r.attrs=function(o){return Dr(e,t,Me(Me({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Dr(e,t,Me(Me({},n),o))},r}var Ms=function(e){return Dr(Aa,e)},J=Ms;bs.forEach(function(e){J[e]=Ms(e)});var Ea=(function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=$s(t),Nn.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var s=o(Tr(Lt(this.rules,n,r,o)),""),i=this.componentId+t;r.insertRules(i,i,s)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&Nn.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e})();function Ia(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ds.apply(void 0,pn([e],t,!1)),o="sc-global-".concat(Cs(JSON.stringify(r))),s=new Ea(r,o),i=function(c){var d=$r(),l=ae.useContext(mn),u=ae.useRef(d.styleSheet.allocateGSInstance(o)).current;return d.styleSheet.server&&a(u,c,d.styleSheet,l,d.stylis),ae.useLayoutEffect(function(){if(!d.styleSheet.server)return a(u,c,d.styleSheet,l,d.stylis),function(){return s.removeStyles(u,d.styleSheet)}},[u,c,d.styleSheet,l,d.stylis]),null};function a(c,d,l,u,f){if(s.isStatic)s.renderStyles(c,Yi,l,f);else{var h=Me(Me({},d),{theme:xs(d,u,i.defaultProps)});s.renderStyles(c,h,l,f)}}return ae.memo(i)}var mr={exports:{}},yr={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To;function Ra(){if(To)return yr;To=1;var e=Gr().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return yr.c=function(t){return e.H.useMemoCache(t)},yr}var Oo;function La(){return Oo||(Oo=1,mr.exports=Ra()),mr.exports}var Le=La();const ka=B.createContext({loading:!1,start:()=>{},stop:()=>{}}),zt=()=>B.useContext(ka),js={ftype:void 0,imgBuf:new ArrayBuffer,imgCtx:null,originalImageData:null,layers:[],currentLayer:void 0,selectedLayerIdx:-1,mode:"edit",hideSelectionOverlay:!1},Ta=B.createContext({state:js,dispatch:()=>{}}),je=()=>B.useContext(Ta),Kr=B.createContext(null);var ne=(e=>(e.None="None",e.PixelSort="PixelSort",e.AsSound="AsSound",e.FractalPixelSort="FractalPixelSort",e.Brightness="Brightness",e.RGBShift="RGBShift",e.Grayscale="Grayscale",e.Slice="Slice",e.OffsetPixelSort="OffsetPixelSort",e.Duotone="Duotone",e))(ne||{});class Oa{past;present;future;constructor(t){this.past=[],this.present=t,this.future=[]}canUndo(){return this.past.length!==0}canRedo(){return this.future.length!==0}undo(){if(this.past.length===0)return this;const t=this.past[this.past.length-1],n=this.past.slice(0,this.past.length-1),r=this.present;return this.past=n,this.present=t,this.future=[r,...this.future],this}redo(){if(this.future.length===0)return this;const t=this.future[0],n=this.future.slice(1);return this.past=[...this.past,this.present],this.present=t,this.future=n,this}set(t){return this.past=[...this.past,this.present],this.present=t,this.future=[],this}reset(t){return this.past=[],this.present=t,this.future=[],this}}const Pa=async e=>{const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("").substring(0,12)},Fn=()=>`# ${(Math.random()*16777215<<0).toString(16).padStart(6,"0")}`,Po=44100,$a=1e-4,vr={r:{min:30,max:500,offset:60},g:{min:500,max:2e3,offset:250},b:{min:2e3,max:1e4,offset:1e3}},Da=e=>{const[t,n,r,o]=e;return[t/255,n/255,r/255,o]},Ma=e=>e.map(t=>{const{value:n,range:r}=t,{offset:o,min:s,max:i}=r;return o+n*(i-s)}),ja=(e,t,n,r)=>{const o=Math.floor(e.length/3)*Math.floor(r*n),s=new Float32Array(o);let i=0;for(let a=0;a<e.length;a+=3){const[c,d,l]=[e[a],e[a+1],e[a+2]],[u,f,h]=[t[a],t[a+1],t[a+2]];for(let p=0;p<r*n;p++){const g=p/r,b=(u*Math.sin(2*Math.PI*c*g)+f*Math.sin(2*Math.PI*d*g)+h*Math.sin(2*Math.PI*l*g))/3;s[i++]=b}}return s},Ua=e=>{const t=new Float32Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];const s=2**4;r=Math.round(r*s)/s,Math.random()<.1&&(r=n>0?t[n-1]:r),r=Math.max(-1,Math.min(1,r*2.5)),r+=(Math.random()-.5)*.15;const a=255;r=Math.sign(r)*Math.log(1+a*Math.abs(r))/Math.log(1+a),t[n]=r}return t},Na=(e,t)=>{const i=t*1,a=e.length*1,c=new ArrayBuffer(44+a),d=new DataView(c);An(d,0,"RIFF"),d.setUint32(4,36+a,!0),An(d,8,"WAVE"),An(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,7,!0),d.setUint16(22,1,!0),d.setUint32(24,t,!0),d.setUint32(28,i,!0),d.setUint16(32,1,!0),d.setUint16(34,8,!0),An(d,36,"data"),d.setUint32(40,a,!0);const l=44;for(let u=0;u<e.length;u++){const f=Math.max(-1,Math.min(1,e[u]));d.setUint8(l+u,f*127+128|0)}return new Uint8Array(c)},An=(e,t,n)=>{for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},Fa=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,{width:o,height:s}=e.canvas,i=e.getImageData(0,0,o,s),a=i.data;new Uint8Array(o*s).fill(1);let d;return r.config.cache.length===0?d=Ba(a,n,o,s):d=r.config.cache,za(a,d,n,r.config.blend),e.putImageData(i,0,0),{updatedSelection:{...t.selection,config:{...r.config,cache:d}}}},Ba=(e,t,n,r)=>{const o=[],s=[];for(let u=0;u<t.length;u++){const f=t[u]*4,h=Da(new Uint8Array([e[f],e[f+1],e[f+2]]));Ma([{value:h[0],range:vr.r},{value:h[1],range:vr.g},{value:h[2],range:vr.b}]).forEach(p=>{s.push(p)}),o.push(h[0],h[1],h[2])}const i=ja(o,s,$a,Po);if(!i)return new Uint8ClampedArray;const a=Ua(i),c=Na(a,Po),d=new Uint8ClampedArray(n*r*4),l=c.length;for(let u=0;u<d.length;u+=l){const f=d.length-u;f>=l?d.set(c,u):d.set(c.subarray(0,f),u)}return d},za=(e,t,n,r)=>{for(let o=0;o<n.length;o++){const s=n[o]*4;e[s]=e[s]*(1-r)+t[s]*r,e[s+1]=e[s+1]*(1-r)+t[s+1]*r,e[s+2]=e[s+2]*(1-r)+t[s+2]*r}};class ot{channel;startingIdx;constructor(t,n=0){if(t.length!==4)for(let r=t.length;r<4;r++)t[r]=0;t.forEach(r=>{if(!Number.isInteger(r))throw new Error("value must be an integer");if(r<0||r>255)throw new Error("value range must be within 0..255")}),this.channel=t,this.startingIdx=n}get red(){return this.channel[0]}get green(){return this.channel[1]}get blue(){return this.channel[2]}get alpha(){return this.channel[3]}normalizeRGBValue=t=>Math.min(255,Math.max(0,t));brightness(){const t=this.red/255,n=this.green/255,r=this.blue/255;let o,s;return o=t,s=t,n>o&&(o=n),r>o&&(o=r),n<s&&(s=n),r<s&&(s=r),(o+s)/2}}const St=(e,t,n)=>{const r=e.getBoundingClientRect(),o=e.width/r.width,s=e.height/r.height;return{x:Math.round((t-r.left)*o),y:Math.round((n-r.top)*s)}},$o=e=>{const{drawing:{width:t,height:n,minX:r,minY:o},mouse:s}=e;return s.x>=r&&s.x<=r+t&&s.y>=o&&s.y<=o+n},Do=e=>{const t=e.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},Us=(e,t,n)=>{for(let r=0;r<t.length;r++){const o=t[r]*4,{red:s,blue:i,green:a}=new ot(e.slice(o,o+4));e[o]=s*n,e[o+1]=a*n,e[o+2]=i*n}},Ns=(e,t,n)=>{for(let r=0;r<t.length;r++){const o=t[r]*4,{red:s,blue:i,green:a}=new ot(e.slice(o,o+4)),c=Math.round((.299*s+.587*a+.114*i)*1);e[o]=s*(1-n)+c*n,e[o+1]=a*(1-n)+c*n,e[o+2]=i*(1-n)+c*n}},Ha=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;return Us(s,n,r.config.intensity),e.putImageData(o,0,0),{updatedSelection:t.selection}},Ga=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,{width:o,height:s}=e.canvas,i=e.getImageData(0,0,o,s),a=i.data;Us(a,n,r.config.brightness),Ns(a,n,1);const c=Do(r.config.highlightsColor);for(let l=0;l<n.length;l++){const u=n[l]*4;a[u]=a[u]*c.r/255,a[u+1]=a[u+1]*c.g/255,a[u+2]=a[u+2]*c.b/255}const d=Do(r.config.shadowsColor);for(let l=0;l<n.length;l++){const u=n[l]*4;a[u]=Math.max(a[u],d.r),a[u+1]=Math.max(a[u+1],d.g),a[u+2]=Math.max(a[u+2],d.b)}return e.putImageData(i,0,0),{updatedSelection:t.selection}},qa=({imageCanvas:e,layer:t,selectionArea:n,refresh:r})=>{const o=t.selection;let s;return o.config.cache.length===0||r?s=Wa(e,o.config.intensity):s=o.config.cache,Va(e,s,n),{updatedSelection:{...t.selection,config:{...o.config,cache:s}}}},Wa=(e,t)=>{const n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=new Uint8ClampedArray(n.data);for(let c=r.length-1;c>0;c--)r[c*t%r.length]<r[c]&&(r[c]=r[c*t%r.length]);const o=e.canvas.width,s=e.canvas.height,i=Math.round(Math.random()*(o-10)+10),a=Math.round(Math.random()*(o-10)+i);for(let c=0;c<s;c++)for(let d=0;d<o;d++){const l=(d+c*o)*4,{red:u,blue:f,green:h}=new ot(r.slice(l,l+4)),p=Math.floor(Math.random()*2);Ya(r,l,i,a,p,u,h,f)}return r},Ya=(e,t,n,r,o,s,i,a)=>{if(o===0){if(t+n+1>e.length-1)return;r%3===0?(e[t]=a,e[t+n]=s,e[t+n+1]=i):r%3===1?(e[t]=s,e[t+n]=a,e[t+n+1]=i):(e[t]=s,e[t+n]=a)}else{if(t-n<0)return;r%3===0?(e[t]=a,e[t-n]=i,e[t-n+1]=s):r%3===1?(e[t+1]=a,e[t-n]=a):(e[t]=i,e[t-n]=a,e[t-n+1]=s)}},Va=(e,t,n)=>{const r=e.getImageData(0,0,e.canvas.width,e.canvas.height),o=r.data;for(let s=0;s<n.length;s++){const i=n[s]*4,{red:a,blue:c,green:d}=new ot(t.slice(i,i+4));o[i]=a,o[i+1]=c,o[i+2]=d}e.putImageData(r,0,0)},Xa=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;return Ns(s,n,r.config.intensity),e.putImageData(o,0,0),{updatedSelection:t.selection}},Ka=({layer:e,imageCanvas:t,selectionArea:n,refresh:r})=>{const o=e.selection,s=t.canvas.width,i=t.canvas.height,a=o.config.intensity;let c;if(o.config.cache.length===0||r){const u=document.createElement("canvas");u.width=s,u.height=i;const f=u.getContext("2d");f.drawImage(t.canvas,0,0);const h=document.createElement("canvas");h.width=s,h.height=i;const p=h.getContext("2d");p.drawImage(t.canvas,0,0);const g=a*a/100*s;for(let y=0;y<a*2;y++){const E=Wt(0,i),A=Math.min(Wt(1,Math.floor(i/4)),i-E),S=Wt(-g,g);if(S!==0)if(S<0){const L=-S;f.drawImage(h,L,E,s+S,A,0,E,s+S,A),f.drawImage(h,0,E,L,A,s+S,E,L,A)}else S>0&&(f.drawImage(h,0,E,s,A,S,E,s,A),f.drawImage(h,s-S,E,S,A,0,E,S,A))}const b=f.getImageData(0,0,s,i),v=b.data,T=p.getImageData(0,0,s,i).data,R=Wt(0,2),M=Wt(-a*2,a*2),_=Wt(-a*2,a*2);for(let y=0;y<i;y++)for(let E=0;E<s;E++){const A=M+E,S=_+y;if(A<0||A>=s||S<0||S>=i)continue;const L=(A+S*s)*4,C=(E+y*s)*4,D=new ot(T.slice(C,C+4)),w=new ot(v.slice(L,L+4));let m;R===0?m={red:D.red,green:w.green,blue:w.blue,alpha:w.alpha}:R===1?m={red:w.red,green:D.green,blue:w.blue,alpha:w.alpha}:m={red:w.red,green:w.green,blue:D.blue,alpha:w.alpha},!(L<0||L+4>v.length)&&(v[L]=m.red,v[L+1]=m.green,v[L+2]=m.blue,v[L+3]=m.alpha)}f.putImageData(b,0,0),c=f.getImageData(0,0,s,i).data}else c=o.config.cache;const d=t.getImageData(0,0,s,i),l=d.data;for(let u=0;u<n.length;u++){const f=n[u]*4,{red:h,green:p,blue:g,alpha:b}=new ot(c.slice(f,f+4));l[f]=h,l[f+1]=p,l[f+2]=g,l[f+3]=b}return t.putImageData(d,0,0),{updatedSelection:{...e.selection,config:{...o.config,cache:c}}}},Wt=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,Qa=({imageCanvas:e,layer:t,selectionArea:n,refresh:r})=>{const o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data,i=e.canvas.width,a=e.canvas.height,c=t.selection,d=c.config.intensity,l=c.config.direction;let u;c.config.cache.length===0||r?(u=new Uint8ClampedArray(s.length),u.set(s),l==="Vertical"?Za(u,i,a,d):Ja(u,i,a,d)):u=c.config.cache;for(let f=0;f<n.length;f++){const h=n[f]*4,{red:p,green:g,blue:b}=new ot(u.slice(h,h+4));s[h]=p,s[h+1]=g,s[h+2]=b}return e.putImageData(o,0,0),{updatedSelection:c}},Za=(e,t,n,r)=>{for(let o=0;o<t;o++){let s=[],i=!0,a=-1;for(let c=0;c<n;c++){const d=(c*t+o)*4,l=new ot(e.slice(d,d+4));if(l.brightness()>r/100){if(!i&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=((u+a)*t+o)*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],i=!0}}else i&&(a=c,i=!1),s.push({color:l,y:c})}if(!i&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=((c+a)*t+o)*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},Ja=(e,t,n,r)=>{for(let o=0;o<n;o++){let s=[],i=!0,a=-1;for(let c=0;c<t;c++){const d=(o*t+c)*4,l=new ot(e.slice(d,d+4));if(l.brightness()>r/100){if(!i&&s.length>0){s.sort((u,f)=>{const h=u.color.brightness(),p=f.color.brightness();return h-p});for(let u=0;u<s.length;u++){const f=(o*t+(u+a))*4;e[f]=s[u].color.red,e[f+1]=s[u].color.green,e[f+2]=s[u].color.blue}s=[],i=!0}}else i&&(a=c,i=!1),s.push({color:l,y:o})}if(!i&&s.length>0){s.sort((c,d)=>{const l=c.color.brightness(),u=d.color.brightness();return l-u});for(let c=0;c<s.length;c++){const d=(o*t+(c+a))*4;e[d]=s[c].color.red,e[d+1]=s[c].color.green,e[d+2]=s[c].color.blue}}}},ec=({imageCanvas:e,layer:t,selectionArea:n})=>{const r=t.selection,o=e.getImageData(0,0,e.canvas.width,e.canvas.height),s=o.data;for(let i=0;i<n.length;i++){const a=n[i]*4,{red:c,blue:d,green:l,normalizeRGBValue:u}=new ot(s.slice(a,a+4),a),f=r.config.intensity;if(r.config.effect==="Vibrance"){const h=Math.max(c,l,d),p=(c+l+d)/3,g=Math.abs(h-p)*2/255*-f/100;c!==h&&(s[a]=c+(h-c)*g),l!==h&&(s[a+1]=l+(h-l)*g),d!==h&&(s[a+2]=d+(h-d)*g)}else r.config.effect==="Red"?(s[a]=u(c+f),s[a+1]=u(l-f),s[a+2]=u(d-f)):r.config.effect==="Green"?(s[a]=u(c-f),s[a+1]=u(l+f),s[a+2]=u(d-f)):r.config.effect==="Blue"&&(s[a]=u(c-f),s[a+1]=u(l-f),s[a+2]=u(d+f))}return e.putImageData(o,0,0),{updatedSelection:t.selection}},tc=({layer:e,imageCanvas:t,selectionArea:n})=>{const r=e.selection,o=t.getImageData(0,0,t.canvas.width,t.canvas.height),s=o.data,i=t.canvas.width,a=t.canvas.height,c=r.config.intensity/10;let d=-1;const l=new Uint8ClampedArray(s.length);l.set(s);for(let u=0;u<i;u++){Math.random()>.95&&(d=Math.floor(((1-c)*Math.random()+c)*a)),Math.random()>.95&&(d=0);for(let f=0;f<a;f++){const h=(f*i+u)*4;let p=f+d;p>a-1&&(p=p-a);const g=(u+p*i)*4;for(let b=0;b<4;b++)g+b<0||g+b>l.length||(l[g+b]=l[h+b])}}for(let u=0;u<n.length;u++){const f=n[u]*4,{red:h,green:p,blue:g}=new ot(l.slice(f,f+4));s[f]=h,s[f+1]=p,s[f+2]=g}return t.putImageData(o,0,0),{updatedSelection:e.selection}},nc=({layer:e})=>({updatedSelection:e.selection}),Fs={[ne.AsSound]:"Data-as-Sound",[ne.FractalPixelSort]:"Fractal Pixel Sort",[ne.Brightness]:"Brightness",[ne.Grayscale]:"Grayscale",[ne.RGBShift]:"RGB Shift",[ne.None]:"No Filter",[ne.PixelSort]:"Pixel Sort",[ne.Slice]:"Slice",[ne.OffsetPixelSort]:"Offset Pixel Sort",[ne.Duotone]:"Duotone Filter"},rc={[ne.AsSound]:Fa,[ne.FractalPixelSort]:qa,[ne.Brightness]:Ha,[ne.Grayscale]:Xa,[ne.RGBShift]:ec,[ne.None]:nc,[ne.PixelSort]:Qa,[ne.Slice]:tc,[ne.OffsetPixelSort]:Ka,[ne.Duotone]:Ga};var X=(e=>(e[e.SetOriginalAreaData=0]="SetOriginalAreaData",e[e.CreateNewLayer=1]="CreateNewLayer",e[e.SetPointsToLayer=2]="SetPointsToLayer",e[e.SelectLayer=3]="SelectLayer",e[e.GetSelectedLayerPoint=4]="GetSelectedLayerPoint",e[e.ClearLayers=5]="ClearLayers",e[e.DoLayerAction=6]="DoLayerAction",e[e.UndoLayer=7]="UndoLayer",e[e.RedoLayer=8]="RedoLayer",e[e.UpdateLayer=9]="UpdateLayer",e[e.UpdateLayerSelection=10]="UpdateLayerSelection",e[e.DeleteLayer=11]="DeleteLayer",e[e.MoveLayer=12]="MoveLayer",e[e.DuplicateLayer=13]="DuplicateLayer",e[e.ResetImageCanvas=14]="ResetImageCanvas",e[e.GenerateResult=15]="GenerateResult",e[e.UpdateState=16]="UpdateState",e))(X||{});function En(e,t){return t>=0&&t<e}const Mo=e=>({[ne.None]:{_empty:!0},[ne.AsSound]:{blend:.5,cache:new Uint8ClampedArray},[ne.FractalPixelSort]:{intensity:6,cache:new Uint8ClampedArray},[ne.Brightness]:{intensity:1},[ne.RGBShift]:{intensity:5,effect:"Vibrance"},[ne.Grayscale]:{intensity:1},[ne.PixelSort]:{cache:new Uint8ClampedArray,intensity:1,direction:"Vertical"},[ne.Slice]:{intensity:-100},[ne.OffsetPixelSort]:{intensity:1,cache:new Uint8ClampedArray},[ne.Duotone]:{brightness:1,contrast:1,highlightsColor:"#ffefb3",shadowsColor:"#290900"}})[e],sf=(e,t)=>{switch(t.type){case 1:{const n={points:[],start:{x:0,y:0},filter:ne.None,config:Mo(ne.None),selectionArea:new Uint32Array},r={selection:n,ctx:null,color:Fn(),commands:new Oa(n)},o=[...e.layers,r],s=o.length-1;return{...e,layers:o,selectedLayerIdx:s,currentLayer:o[s]}}case 2:{const n=e.selectedLayerIdx;if(!En(e.layers.length,n))return e;const r=e.layers.slice(),o=r[n],i={...o.selection,start:t.payload.start,points:t.payload.points},a={...o,selection:i,commands:o.commands.set(i)};return r[n]=a,{...e,layers:r}}case 3:{const n=t.payload;if(!En(e.layers.length,n))return{...e};for(let r=0;r<e.layers.length;r++){const o=e.layers[r].ctx;if(!o)continue;const s=Number(o.canvas.id.replace("drawing-canvas-",""));n===s?(o.canvas.classList.add("active"),o.canvas.style.pointerEvents="auto"):(o.clearRect(0,0,o.canvas.width,o.canvas.height),o.canvas.classList.remove("active"),o.canvas.style.pointerEvents="none")}return{...e,selectedLayerIdx:n,currentLayer:e.layers[n]}}case 9:{if(!En(e.layers.length,e.selectedLayerIdx))return e;const n=e.layers.map(o=>({...o}));n[t.payload.layerIdx]={...n[t.payload.layerIdx],...t.payload.pselection};const r=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:n,currentLayer:r?n[t.payload.layerIdx]:e.currentLayer}}case 10:{const{layerIdx:n,pselection:r,withUpdateInitialPresent:o}=t.payload;if(!En(e.layers.length,e.selectedLayerIdx))return e;const s=e.layers.slice(),i=s[n],a=i.selection,c=r.filter??a.filter,d=r.filter&&r.filter!==a.filter?Mo(c):{...a.config,...r.config||{}},l={...a,...r,filter:c,config:d},u={...i,selection:l};o?u.commands.present={...i.selection}:u.commands=i.commands.set(l),s[n]=u;const f=n===e.selectedLayerIdx;return{...e,layers:s,currentLayer:f?u:e.currentLayer}}case 5:return{...js,imgCtx:null,originalImageData:null};case 6:{const n=e.layers.map(o=>({...o})),r=n[e.selectedLayerIdx];if(t.payload==="undo"){if(!r.commands.canUndo())return e;r.commands=r.commands.undo()}else{if(!r.commands.canRedo())return console.log("cant redo"),e;r.commands=r.commands.redo()}return r.selection=r.commands.present,{...e,layers:n,currentLayer:r}}case 11:{let n=t.payload;const r=e.layers[n];r?.ctx?.canvas&&r.ctx.canvas.remove();const o=[...e.layers].filter((s,i)=>i!==n);for(let s=0;s<o.length;s++){const i=o[s].ctx;i?.canvas&&(i.canvas.id=`drawing-canvas-${s}`)}return o.length===0?n=-1:n>=o.length&&(n=o.length-1),{...e,layers:o,selectedLayerIdx:n,currentLayer:o[n]}}case 12:{const n=t.payload.layerIdx,r=t.payload.direction==="up"?n-1:n+1;if(r<0||r>=e.layers.length)return e;const o=e.layers.map(d=>({...d})),[s]=o.splice(n,1);o.splice(r,0,s);const i=o[r].ctx,a=o[n].ctx;o[r]={...o[r],ctx:a},o[n]={...o[n],ctx:i};const c=t.payload.layerIdx===e.selectedLayerIdx;return{...e,layers:o,selectedLayerIdx:c?r:e.selectedLayerIdx,currentLayer:c?o[r]:e.currentLayer}}case 13:{const n=document.getElementById("canvasContainer");if(!n)throw new Error("could not find #canvasContainer");const r=e.layers[t.payload],o=document.createElement("canvas");if(!r.ctx)throw new Error("currDuplicatedLayer has no canvas context");o.width=r.ctx.canvas.width,o.height=r.ctx.canvas.height;const s=o.getContext("2d");s.drawImage(r.ctx.canvas,0,0);const i={...r,color:Fn(),ctx:s},a=[...e.layers];if(a.splice(t.payload+1,0,i),!i.ctx)throw new Error("duplicatedLayer has no canvas context");const c=t.payload+2,d=a[c]?.ctx?.canvas;Object.assign(i.ctx.canvas.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),d?n.insertBefore(i.ctx.canvas,d):n.appendChild(i.ctx.canvas);let l=e.selectedLayerIdx;t.payload<l&&l++;for(let u=t.payload+1;u<a.length;u++){const f=a[u];if(!f.ctx?.canvas)continue;const h=f.ctx.canvas,p=f.ctx;h.id=`drawing-canvas-${u}`,u===l?(h.classList.add("active"),h.style.pointerEvents="auto"):(p.clearRect(0,0,h.width,h.height),h.classList.remove("active"),h.style.pointerEvents="none")}return{...e,layers:a,selectedLayerIdx:l,currentLayer:a[l]}}case 15:{const n=e.imgCtx;if(!n)return e;let r=e.layers,o=!1,s=!1;t.payload?.refreshIdx===-1&&(s=!0);for(let i=0;i<e.layers.length;i++){const a=e.layers[i],{filter:c,selectionArea:d}=a.selection;if(!d)continue;const l=rc[c];if(!l)continue;t.payload?.refreshIdx===i&&(s=!0);const{updatedSelection:u}=l({imageCanvas:n,layer:{...a,selection:{...a.selection}},selectionArea:d,refresh:s??t.payload?.refreshIdx===i});u!==a.selection&&(o||(r=e.layers.slice(),o=!0),r[i]={...a,selection:u})}return o?{...e,layers:r}:e}case 14:{const n=e.imgCtx;if(!n)return e;if(!e.originalImageData)throw new Error("Original image data is not defined");return n.putImageData(e.originalImageData,0,0),e}case 16:{const{key:n,value:r}=t.payload;return{...e,[n]:r}}default:return e}};class oc{points;startPoint;mouseStartPos={x:0,y:0};selectionArea;isDrawing=!1;cwidth;cheight;isAllArea;constructor(){this.points=[],this.startPoint=null,this.mouseStartPos={x:0,y:0},this.selectionArea=null,this.isDrawing=!1,this.cwidth=0,this.cheight=0,this.isAllArea=!1}begin(t){this.isDrawing=!0,this.startPoint=t,this.points=[t],this.selectionArea||(this.selectionArea=new Uint8Array(this.cwidth*this.cheight))}update(t){this.isDrawing&&this.points.push(t)}finish(){this.isDrawing&&(this.points.length<=1&&this.selectAllArea(),this.isDrawing=!1)}reset(){this.points=[],this.startPoint=null,this.selectionArea=null,this.isDrawing=!1,this.isAllArea=!1}loadSelection(t,n){this.points=t,this.startPoint=n}selectAllArea(){this.points=[{x:0,y:0},{x:this.cwidth-1,y:0},{x:this.cwidth-1,y:this.cheight-1},{x:0,y:this.cheight-1}],this.startPoint=this.points[0],this.isAllArea=!0}fillSelectionArea(t){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(const n of t){const r=n.y*this.cwidth+n.x;this.selectionArea[r]=1}}getSelectArea(){if(!(this.points.length<=1)){this.selectionArea=new Uint8Array(this.cwidth*this.cheight);for(let t=0;t<this.cwidth;t++)for(let n=0;n<this.cheight;n++)if(this.pointInPolygon({x:t,y:n},this.points)){const r=n*this.cwidth+t;this.selectionArea[r]=1}}}getSelectedAreaCoords(){if(!this.selectionArea)return null;const t=this.selectionArea;let n=0;for(let s=0;s<t.length;s++)t[s]===1&&n++;const r=new Uint32Array(n);let o=0;for(let s=0;s<t.length;s++)t[s]===1&&(r[o++]=s);return r}moveSelection(t,n){this.points=this.points.map(r=>({x:r.x+t,y:r.y+n,data:r.data})),this.startPoint={x:this.startPoint.x+t,y:this.startPoint.y+n}}getPointsBoundingBox(){let t=1/0,n=1/0,r=-1/0,o=-1/0;for(const{x:a,y:c}of this.points)a<t&&(t=a),c<n&&(n=c),a>r&&(r=a),c>o&&(o=c);const s=r-t+1,i=o-n+1;return[s,i,t,n]}pointInPolygon(t,n){let r=!1,o=n.length-1;for(let s=0;s<n.length;s++){const i=n[s].x,a=n[s].y,c=n[o].x,d=n[o].y;a>t.y!=d>t.y&&t.x<(c-i)*(t.y-a)/(d-a)+i&&(r=!r),o=s}return r}renderSelection(t,n,r){if(!this.startPoint)return;t.clearRect(0,0,n.width,n.height),t.setLineDash([5,3]),t.strokeStyle=r;const o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(s,i,a,c)=>`#${i}${i}${a}${a}${c}${c}`).substring(1).match(/.{2}/g)?.map(s=>parseInt(s,16))??[0,0,0];t.fillStyle=`rgb(${o[0]}, ${o[1]}, ${o[2]}, 0.3)`,t.lineWidth=2,t.beginPath();for(let s=0;s<this.points.length;s++){const i=this.points[s];s===0?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}t.lineTo(this.startPoint.x,this.startPoint.y),t.fill(),t.stroke(),t.closePath(),t.setLineDash([])}}function af(e){const{start:t,stop:n}=zt(),{state:r,dispatch:o}=je(),s=B.useContext(Kr),i=B.useRef(null),a=B.useRef(null),c=B.useRef(new oc),[d,l]=B.useState([]),[u,f]=B.useState(!1),h=B.useCallback(p=>d.findIndex(g=>g.identifier===p),[d]);return B.useEffect(()=>{if(r.imgBuf.byteLength===0||!i.current)return;const p=i.current,g=p?.getContext("2d",{willReadFrequently:!0});if(!g)return;const b=a.current;if(!b)return;b.querySelectorAll('[id^="drawing-canvas-"]').forEach(M=>{M.remove()}),t();const O=new Blob([r.imgBuf]),T=URL.createObjectURL(O),R=new Image;R.onload=()=>{p.width=R.naturalWidth,p.height=R.naturalHeight,g.drawImage(R,0,0),o({type:X.UpdateState,payload:{key:"imgCtx",value:g}}),new Uint8Array(R.naturalWidth*R.naturalHeight).fill(1),c.current.cwidth=R.naturalWidth,c.current.cheight=R.naturalHeight,o({type:X.UpdateState,payload:{key:"originalImageData",value:g.getImageData(0,0,g.canvas.width,g.canvas.height)}}),n()},R.onerror=()=>{n(),console.error("Failed to load image")},R.src=T},[r.imgBuf,o,t,n]),B.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`);if(!g)return;const b=r.currentLayer?.ctx;if(!b){console.log("drawingCanvasCtx empty in register");return}const v=S=>{const L=St(g,S.clientX,S.clientY);c.current.reset(),c.current.begin(L),c.current.renderSelection(b,g,r.currentLayer.color)},O=S=>{if(!c.current.isDrawing)return;const L=St(g,S.clientX,S.clientY);c.current.update(L),c.current.renderSelection(b,g,r.currentLayer.color)},T=()=>{c.current.isDrawing&&(c.current.finish(),b.clearRect(0,0,g.width,g.height),c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:L}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:S,start:L}}),!i.current?.getContext("2d"))return;const w=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:w},withUpdateInitialPresent:!0}});const[,,m,U]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:m,y:U},o({type:X.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),n()}))},R=S=>{S.preventDefault();const L=S.changedTouches;if(L.length>0){const C=St(g,L[0].clientX,L[0].clientY);c.current.reset(),c.current.begin(C),l([L[0]]),c.current.renderSelection(b,g,r.currentLayer.color)}},M=S=>{if(!c.current.isDrawing)return;const L=S.changedTouches;for(let C=0;C<L.length;C++){const D=h(L[C].identifier);if(D>=0){const w=St(g,L[C].clientX,L[C].clientY);c.current.update(w),l(m=>{const U=[...m];return U.splice(D,1,L[C]),U})}}c.current.renderSelection(b,g,r.currentLayer.color)},_=S=>{if(!c.current.isDrawing)return;S.preventDefault(),c.current.finish();const L=S.changedTouches;for(let C=0;C<L.length;C++){const D=h(L[C].identifier);D>=0&&l(w=>w.filter((m,U)=>U!==D))}c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:C,startPoint:D}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:C,start:D}}),!i.current?.getContext("2d"))return;const U=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:U},withUpdateInitialPresent:!0}});const[,,$,F]=c.current.getPointsBoundingBox();c.current.mouseStartPos={x:$,y:F},o({type:X.GenerateResult}),s?.isActive&&(!c.current.isAllArea&&s.getCurrentStep()?.id==="selectArea"&&s.next(),c.current.isAllArea&&s.getCurrentStep()?.id==="selectAllArea"&&s.next()),n()})},k=S=>{S.preventDefault();const L=S.changedTouches;for(let C=0;C<L.length;C++){const D=h(L[C].identifier);D>=0&&l(w=>w.filter((m,U)=>U!==D))}c.current.finish()},x=()=>{c.current.isDrawing&&(document.addEventListener("mousemove",y),document.addEventListener("mouseup",E))},y=S=>{if(!c.current.isDrawing)return;let L=St(g,S.clientX,S.clientY);const C=g.width,D=g.height;L={x:Math.max(0,Math.min(C,L.x)),y:Math.max(0,Math.min(D,L.y))},c.current.points.push(L),c.current.renderSelection(b,g,r.currentLayer.color)},E=()=>{c.current.isDrawing&&(document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",E),c.current.finish(),b.clearRect(0,0,g.width,g.height),c.current.renderSelection(b,g,r.currentLayer.color),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:S,startPoint:L}=c.current;o({type:X.SetPointsToLayer,payload:{points:S,start:L}}),i.current?.getContext("2d")&&(o({type:X.GenerateResult}),n())}))},A=new AbortController;return r.mode==="edit"&&(g.addEventListener("mousedown",v,A),g.addEventListener("mousemove",O,A),g.addEventListener("mouseup",T,A),g.addEventListener("touchstart",R,A),g.addEventListener("touchmove",M,A),g.addEventListener("touchend",_,A),g.addEventListener("touchcancel",k,A),g.addEventListener("mouseout",x,A)),()=>{A.abort()}},[r.selectedLayerIdx,r.currentLayer,r.mode,o,h,t,n,s?.isActive,s?.getCurrentStep,s?.next]),B.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`);if(!r.currentLayer?.selection)return;const{points:b,start:v}=r.currentLayer.selection;if(c.current.reset(),c.current.loadSelection(b,v),g&&r.currentLayer?.ctx&&(b.length===0&&r.currentLayer.ctx?.clearRect(0,0,g?.width,g?.height),c.current.renderSelection(r.currentLayer.ctx,g,r.currentLayer.color)),r.selectedLayerIdx>=0&&!r.currentLayer?.ctx){const O=a.current;if(!O)return;const T=i.current,R=document.createElement("canvas");T&&(R.width=T.width,R.height=T.height),R.id=`drawing-canvas-${r.selectedLayerIdx}`,Object.assign(R.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",cursor:"crosshair"}),O.appendChild(R);const M=R.getContext("2d");o({type:X.UpdateLayer,payload:{layerIdx:r.selectedLayerIdx,pselection:{ctx:M}}})}},[r.selectedLayerIdx,r.currentLayer,r.currentLayer?.commands.present,o]),B.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`),b=r.currentLayer;if(b&&!(!g||!b.ctx)&&r.mode==="move"){const v=b.ctx;if(!v||!g.getContext("2d"))return;const T=E=>{E.preventDefault();const{x:A,y:S}=St(g,E.clientX,E.clientY),[L,C,D,w]=c.current.getPointsBoundingBox();$o({drawing:{width:L,height:C,minX:D,minY:w},mouse:{x:A,y:S}})&&(f(!0),c.current.mouseStartPos={x:A,y:S})},R=E=>{u&&(E.preventDefault(),f(!1),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:A,startPoint:S}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:A,start:S}}),!i.current?.getContext("2d",{willReadFrequently:!0}))return;const D=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:D},withUpdateInitialPresent:!0}}),o({type:X.GenerateResult}),n()}))},M=E=>{const{x:A,y:S}=St(g,E.clientX,E.clientY),L=c.current.mouseStartPos;if(!L||!u)return;const C=A-L.x,D=S-L.y;c.current.moveSelection(C,D),c.current.mouseStartPos={x:A,y:S},c.current.renderSelection(v,g,b.color)},_=E=>{E.preventDefault();const A=E.changedTouches;if(A.length>0){const{x:S,y:L}=St(g,A[0].clientX,A[0].clientY),[C,D,w,m]=c.current.getPointsBoundingBox();if(!$o({drawing:{width:C,height:D,minX:w,minY:m},mouse:{x:S,y:L}}))return;f(!0),c.current.mouseStartPos={x:S,y:L}}},k=E=>{E.preventDefault();const A=E.changedTouches;if(A.length===0)return;const{x:S,y:L}=St(g,A[0].clientX,A[0].clientY),C=c.current.mouseStartPos;if(!C||!u)return;const D=S-C.x,w=L-C.y;c.current.moveSelection(D,w),c.current.mouseStartPos={x:S,y:L},c.current.renderSelection(v,g,r.currentLayer.color)},x=E=>{u&&(E.preventDefault(),f(!1),t(),requestIdleCallback(()=>{o({type:X.ResetImageCanvas}),c.current.getSelectArea();const{points:A,startPoint:S}=c.current;if(o({type:X.SetPointsToLayer,payload:{points:A,start:S}}),!i.current?.getContext("2d",{willReadFrequently:!0}))return;const D=c.current.getSelectedAreaCoords();o({type:X.UpdateLayerSelection,payload:{layerIdx:r.selectedLayerIdx,pselection:{selectionArea:D},withUpdateInitialPresent:!0}}),o({type:X.GenerateResult}),n()}))},y=new AbortController;return g.addEventListener("mousedown",T,y),g.addEventListener("mouseup",R,y),g.addEventListener("mousemove",M,y),g.addEventListener("touchstart",_,y),g.addEventListener("touchmove",k,y),g.addEventListener("touchend",x,y),()=>{y.abort()}}},[r.mode,r.currentLayer,r.selectedLayerIdx,u,o,t,n]),B.useEffect(()=>{o({type:X.SelectLayer,payload:r.selectedLayerIdx})},[r.selectedLayerIdx,o]),B.useEffect(()=>{const p=a.current;if(!p)return;const g=p.querySelector(`#drawing-canvas-${r.selectedLayerIdx}`),b=r.currentLayer;b&&(!g||!b.ctx||(r.hideSelectionOverlay?b.ctx.clearRect(0,0,g.width,g.height):c.current.renderSelection(b.ctx,g,r.currentLayer.color)))},[r.hideSelectionOverlay,r.currentLayer,r.selectedLayerIdx]),z.jsx("div",{id:"canvasContainer",ref:a,style:{position:"relative",display:"inline-block",lineHeight:0},...e,children:z.jsx("canvas",{id:"imageCanvas",ref:i,style:{display:"block",maxWidth:"100%",height:"auto"}})})}const sc="modulepreload",ic=function(e){return"/bendor/"+e},jo={},ac=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(l=>Promise.resolve(l).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=c(n.map(d=>{if(d=ic(d),d in jo)return;jo[d]=!0;const l=d.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":sc,l||(f.as="script"),f.crossOrigin="",f.href=d,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},cf=Ia`
  @font-face {
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    box-sizing: border-box;
    font-family: "Modeseven"; 
    src: local("Modeseven"), url("./fonts/Modeseven.ttf") format("truetype");
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
  }
  
  /* html reset */
  html,
  body,
  div,
  span,
  applet,
  object,
  iframe,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  a,
  abbr,
  acronym,
  address,
  big,
  cite,
  code,
  del,
  dfn,
  em,
  img,
  ins,
  kbd,
  q,
  s,
  samp,
  small,
  strike,
  strong,
  sub,
  sup,
  tt,
  var,
  b,
  u,
  i,
  center,
  dl,
  dt,
  dd,
  ol,
  ul,
  li,
  fieldset,
  form,
  label,
  legend,
  table,
  caption,
  tbody,
  tfoot,
  thead,
  tr,
  th,
  td,
  article,
  aside,
  canvas,
  details,
  embed,
  figure,
  figcaption,
  footer,
  header,
  hgroup,
  menu,
  nav,
  output,
  ruby,
  section,
  summary,
  time,
  mark,
  audio,
  video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    vertical-align: baseline;
  }
  
  /* HTML5 display-role reset for older browsers */
  article,
  aside,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  menu,
  nav,
  section {
    display: block;
  }
  
  body {
    line-height: 1;
    background-repeat: repeat;
    background-image: url("./grid_patterns.png");
  }
  
  ol,
  ul {
    list-style: none;
  }
  
  blockquote,
  q {
    quotes: none;
  }
  
  blockquote:before,
  blockquote:after,
  q:before,
  q:after {
    content: "";
    content: none;
  }
  
  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  button {
    all: unset;
  }

  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  select::-ms-expand {
    display: none;
  }

  .react-colorful__saturation {
    border-radius: 0px !important;
  }

  .react-colorful__hue {
    border-radius: 0px !important;
  }

  .react-colorful__last-control {
    border-radius: 0px !important;
  }

  .onboarding {
    border: 2px solid ${({theme:e})=>e.colors.primary};
    border-radius: 0px;
  }

  .shepherd-modal-overlay-container {
    opacity: 0.6 !important;
  }

  .shepherd-title {
    color: ${({theme:e})=>e.colors.primary};
  }

  .shepherd-element .shepherd-arrow:after {
    content: url('./images/arrow.svg');
    color: #0062f6ff;
    display: inline-block;
  }

  .shepherd-element .shepherd-arrow {
    border-width: 0;
    height: auto;
    width: auto;
  }

  .shepherd-arrow::before {
    display: none;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow {
    bottom: -35px;
  }

  .shepherd-element[data-popper-placement^='top'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-top .shepherd-arrow:after {
    transform: rotate(270deg);
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow {
    top: -35px;
  }

  .shepherd-element[data-popper-placement^='bottom'] .shepherd-arrow:after {
    transform: rotate(90deg);
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow {
    right: -35px;
  }

  .shepherd-element[data-popper-placement^='left'] .shepherd-arrow:after,
  .shepherd-element.shepherd-pinned-left .shepherd-arrow:after {
    transform: rotate(180deg);
  }

  .shepherd-element[data-popper-placement^='right'] .shepherd-arrow,
  .shepherd-element.shepherd-pinned-right .shepherd-arrow {
    left: -35px;
  }

  .shepherd-button {
    background: #ffffff;
    border-radius: 0;
    color: ${({theme:e})=>e.colors.primary};
    display: flex;
    flex-grow: 1;
    font-size: 1rem;
    justify-content: center;
    margin: 0;
    padding: 0.2;
    text-align: center;
    text-transform: uppercase;
  }

  .shepherd-button:hover {
    color: ${({theme:e})=>e.colors.primary};
    color: #ffffff;
  }

  .shepherd-button.shepherd-button-secondary {
    background: #cad5d5;
  }

  .shepherd-button.shepherd-button-secondary:hover {
    color: #cad5d5;
    color: ${({theme:e})=>e.colors.primary};
  }

  .custom-tooltip {
    border-radius: 0 !important;
    font-size: 12px !important;
    padding: 8px !important;
  }
`,lf=J.div`
  margin-top: auto;
`,tn=J.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  align-items: center;
`,$n=J.div`
  display: flex;
  justify-content: center;
  width: 100%;
  align-items: center;
  gap: 4px;
`,Bs=J.div`
  display: flex;
  flex-direction: ${({direction:e})=>e==="col"?"column":"row"};
  gap: 8px;
`;function cc(e,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(e)}function zs(e,t){return new Promise((function(n,r){let o;return lc(e).then((function(s){try{return o=s,n(new Blob([t.slice(0,2),o,t.slice(2)],{type:"image/jpeg"}))}catch(i){return r(i)}}),r)}))}const lc=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:o}})=>{const s=new DataView(o);let i=0;if(s.getUint16(i)!==65496)return n("not a valid JPEG");for(i+=2;;){const a=s.getUint16(i);if(a===65498)break;const c=s.getUint16(i+2);if(a===65505&&s.getUint32(i+4)===1165519206){const d=i+10;let l;switch(s.getUint16(d)){case 18761:l=!0;break;case 19789:l=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(d+2,l)!==42)return n("TIFF header contains invalid version");const u=s.getUint32(d+4,l),f=d+u+2+12*s.getUint16(d+u,l);for(let h=d+u+2;h<f;h+=12)if(s.getUint16(h,l)==274){if(s.getUint16(h+2,l)!==3)return n("Orientation data type is invalid");if(s.getUint32(h+4,l)!==1)return n("Orientation data count is invalid");s.setUint16(h+8,1,l);break}return t(o.slice(i,i+2+c))}i+=2+c}return t(new Blob)})),r.readAsArrayBuffer(e)}));var Bn={},uc={get exports(){return Bn},set exports(e){Bn=e}};(function(e){var t,n,r={};uc.exports=r,r.parse=function(o,s){for(var i=r.bin.readUshort,a=r.bin.readUint,c=0,d={},l=new Uint8Array(o),u=l.length-4;a(l,u)!=101010256;)u--;c=u,c+=4;var f=i(l,c+=4);i(l,c+=2);var h=a(l,c+=2),p=a(l,c+=4);c+=4,c=p;for(var g=0;g<f;g++){a(l,c),c+=4,c+=4,c+=4,a(l,c+=4),h=a(l,c+=4);var b=a(l,c+=4),v=i(l,c+=4),O=i(l,c+2),T=i(l,c+4);c+=6;var R=a(l,c+=8);c+=4,c+=v+O+T,r._readLocal(l,R,d,h,b,s)}return d},r._readLocal=function(o,s,i,a,c,d){var l=r.bin.readUshort,u=r.bin.readUint;u(o,s),l(o,s+=4),l(o,s+=2);var f=l(o,s+=2);u(o,s+=2),u(o,s+=4),s+=4;var h=l(o,s+=8),p=l(o,s+=2);s+=2;var g=r.bin.readUTF8(o,s,h);if(s+=h,s+=p,d)i[g]={size:c,csize:a};else{var b=new Uint8Array(o.buffer,s);if(f==0)i[g]=new Uint8Array(b.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(c);r.inflateRaw(b,v),i[g]=v}}},r.inflateRaw=function(o,s){return r.F.inflate(o,s)},r.inflate=function(o,s){return o[0],o[1],r.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),s)},r.deflate=function(o,s){s==null&&(s={level:6});var i=0,a=new Uint8Array(50+Math.floor(1.1*o.length));a[i]=120,a[i+1]=156,i+=2,i=r.F.deflateRaw(o,a,i,s.level);var c=r.adler(o,0,o.length);return a[i+0]=c>>>24&255,a[i+1]=c>>>16&255,a[i+2]=c>>>8&255,a[i+3]=c>>>0&255,new Uint8Array(a.buffer,0,i+4)},r.deflateRaw=function(o,s){s==null&&(s={level:6});var i=new Uint8Array(50+Math.floor(1.1*o.length)),a=r.F.deflateRaw(o,i,a,s.level);return new Uint8Array(i.buffer,0,a)},r.encode=function(o,s){s==null&&(s=!1);var i=0,a=r.bin.writeUint,c=r.bin.writeUshort,d={};for(var l in o){var u=!r._noNeed(l)&&!s,f=o[l],h=r.crc.crc(f,0,f.length);d[l]={cpr:u,usize:f.length,crc:h,file:u?r.deflateRaw(f):f}}for(var l in d)i+=d[l].file.length+30+46+2*r.bin.sizeUTF8(l);i+=22;var p=new Uint8Array(i),g=0,b=[];for(var l in d){var v=d[l];b.push(g),g=r._writeHeader(p,g,l,v,0)}var O=0,T=g;for(var l in d)v=d[l],b.push(g),g=r._writeHeader(p,g,l,v,1,b[O++]);var R=g-T;return a(p,g,101010256),g+=4,c(p,g+=4,O),c(p,g+=2,O),a(p,g+=2,R),a(p,g+=4,T),g+=4,g+=2,p.buffer},r._noNeed=function(o){var s=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(o,s,i,a,c,d){var l=r.bin.writeUint,u=r.bin.writeUshort,f=a.file;return l(o,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),u(o,s,20),u(o,s+=2,0),u(o,s+=2,a.cpr?8:0),l(o,s+=2,0),l(o,s+=4,a.crc),l(o,s+=4,f.length),l(o,s+=4,a.usize),u(o,s+=4,r.bin.sizeUTF8(i)),u(o,s+=2,0),s+=2,c==1&&(s+=2,s+=2,l(o,s+=6,d),s+=4),s+=r.bin.writeUTF8(o,s,i),c==0&&(o.set(f,s),s+=f.length),s},r.crc={table:(function(){for(var o=new Uint32Array(256),s=0;s<256;s++){for(var i=s,a=0;a<8;a++)1&i?i=3988292384^i>>>1:i>>>=1;o[s]=i}return o})(),update:function(o,s,i,a){for(var c=0;c<a;c++)o=r.crc.table[255&(o^s[i+c])]^o>>>8;return o},crc:function(o,s,i){return 4294967295^r.crc.update(4294967295,o,s,i)}},r.adler=function(o,s,i){for(var a=1,c=0,d=s,l=s+i;d<l;){for(var u=Math.min(d+5552,l);d<u;)c+=a+=o[d++];a%=65521,c%=65521}return c<<16|a},r.bin={readUshort:function(o,s){return o[s]|o[s+1]<<8},writeUshort:function(o,s,i){o[s]=255&i,o[s+1]=i>>8&255},readUint:function(o,s){return 16777216*o[s+3]+(o[s+2]<<16|o[s+1]<<8|o[s])},writeUint:function(o,s,i){o[s]=255&i,o[s+1]=i>>8&255,o[s+2]=i>>16&255,o[s+3]=i>>24&255},readASCII:function(o,s,i){for(var a="",c=0;c<i;c++)a+=String.fromCharCode(o[s+c]);return a},writeASCII:function(o,s,i){for(var a=0;a<i.length;a++)o[s+a]=i.charCodeAt(a)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,s,i){for(var a,c="",d=0;d<i;d++)c+="%"+r.bin.pad(o[s+d].toString(16));try{a=decodeURIComponent(c)}catch{return r.bin.readASCII(o,s,i)}return a},writeUTF8:function(o,s,i){for(var a=i.length,c=0,d=0;d<a;d++){var l=i.charCodeAt(d);if((4294967168&l)==0)o[s+c]=l,c++;else if((4294965248&l)==0)o[s+c]=192|l>>6,o[s+c+1]=128|l>>0&63,c+=2;else if((4294901760&l)==0)o[s+c]=224|l>>12,o[s+c+1]=128|l>>6&63,o[s+c+2]=128|l>>0&63,c+=3;else{if((4292870144&l)!=0)throw"e";o[s+c]=240|l>>18,o[s+c+1]=128|l>>12&63,o[s+c+2]=128|l>>6&63,o[s+c+3]=128|l>>0&63,c+=4}}return c},sizeUTF8:function(o){for(var s=o.length,i=0,a=0;a<s;a++){var c=o.charCodeAt(a);if((4294967168&c)==0)i++;else if((4294965248&c)==0)i+=2;else if((4294901760&c)==0)i+=3;else{if((4292870144&c)!=0)throw"e";i+=4}}return i}},r.F={},r.F.deflateRaw=function(o,s,i,a){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=r.F.U,l=r.F._goodIndex;r.F._hash;var u=r.F._putsE,f=0,h=i<<3,p=0,g=o.length;if(a==0){for(;f<g;)u(s,h,f+(A=Math.min(65535,g-f))==g?1:0),h=r.F._copyExact(o,f,A,s,h+8),f+=A;return h>>>3}var b=d.lits,v=d.strt,O=d.prev,T=0,R=0,M=0,_=0,k=0,x=0;for(g>2&&(v[x=r.F._hash(o,0)]=0),f=0;f<g;f++){if(k=x,f+1<g-2){x=r.F._hash(o,f+1);var y=f+1&32767;O[y]=v[x],v[x]=y}if(p<=f){(T>14e3||R>26697)&&g-f>100&&(p<f&&(b[T]=f-p,T+=2,p=f),h=r.F._writeBlock(f==g-1||p==g?1:0,b,T,_,o,M,f-M,s,h),T=R=_=0,M=f);var E=0;f<g-2&&(E=r.F._bestMatch(o,f,O,k,Math.min(c[2],g-f),c[3]));var A=E>>>16,S=65535&E;if(E!=0){S=65535&E;var L=l(A=E>>>16,d.of0);d.lhst[257+L]++;var C=l(S,d.df0);d.dhst[C]++,_+=d.exb[L]+d.dxb[C],b[T]=A<<23|f-p,b[T+1]=S<<16|L<<8|C,T+=2,p=f+A}else d.lhst[o[f]]++;R++}}for(M==f&&o.length!=0||(p<f&&(b[T]=f-p,T+=2,p=f),h=r.F._writeBlock(1,b,T,_,o,M,f-M,s,h),T=0,R=0,T=R=_=0,M=f);(7&h)!=0;)h++;return h>>>3},r.F._bestMatch=function(o,s,i,a,c,d){var l=32767&s,u=i[l],f=l-u+32768&32767;if(u==l||a!=r.F._hash(o,s-f))return 0;for(var h=0,p=0,g=Math.min(32767,s);f<=g&&--d!=0&&u!=l;){if(h==0||o[s+h]==o[s+h-f]){var b=r.F._howLong(o,s,f);if(b>h){if(p=f,(h=b)>=c)break;f+2<b&&(b=f+2);for(var v=0,O=0;O<b-2;O++){var T=s-f+O+32768&32767,R=T-i[T]+32768&32767;R>v&&(v=R,u=T)}}}f+=(l=u)-(u=i[l])+32768&32767}return h<<16|p},r.F._howLong=function(o,s,i){if(o[s]!=o[s-i]||o[s+1]!=o[s+1-i]||o[s+2]!=o[s+2-i])return 0;var a=s,c=Math.min(o.length,s+258);for(s+=3;s<c&&o[s]==o[s-i];)s++;return s-a},r.F._hash=function(o,s){return(o[s]<<8|o[s+1])+(o[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(o,s,i,a,c,d,l,u,f){var h,p,g,b,v,O,T,R,M,_=r.F.U,k=r.F._putsF,x=r.F._putsE;_.lhst[256]++,p=(h=r.F.getTrees())[0],g=h[1],b=h[2],v=h[3],O=h[4],T=h[5],R=h[6],M=h[7];var y=32+((f+3&7)==0?0:8-(f+3&7))+(l<<3),E=a+r.F.contSize(_.fltree,_.lhst)+r.F.contSize(_.fdtree,_.dhst),A=a+r.F.contSize(_.ltree,_.lhst)+r.F.contSize(_.dtree,_.dhst);A+=14+3*T+r.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var S=0;S<286;S++)_.lhst[S]=0;for(S=0;S<30;S++)_.dhst[S]=0;for(S=0;S<19;S++)_.ihst[S]=0;var L=y<E&&y<A?0:E<A?1:2;if(k(u,f,o),k(u,f+1,L),f+=3,L==0){for(;(7&f)!=0;)f++;f=r.F._copyExact(c,d,l,u,f)}else{var C,D;if(L==1&&(C=_.fltree,D=_.fdtree),L==2){r.F.makeCodes(_.ltree,p),r.F.revCodes(_.ltree,p),r.F.makeCodes(_.dtree,g),r.F.revCodes(_.dtree,g),r.F.makeCodes(_.itree,b),r.F.revCodes(_.itree,b),C=_.ltree,D=_.dtree,x(u,f,v-257),x(u,f+=5,O-1),x(u,f+=5,T-4),f+=4;for(var w=0;w<T;w++)x(u,f+3*w,_.itree[1+(_.ordr[w]<<1)]);f+=3*T,f=r.F._codeTiny(R,_.itree,u,f),f=r.F._codeTiny(M,_.itree,u,f)}for(var m=d,U=0;U<i;U+=2){for(var $=s[U],F=$>>>23,I=m+(8388607&$);m<I;)f=r.F._writeLit(c[m++],C,u,f);if(F!=0){var P=s[U+1],H=P>>16,N=P>>8&255,j=255&P;x(u,f=r.F._writeLit(257+N,C,u,f),F-_.of0[N]),f+=_.exb[N],k(u,f=r.F._writeLit(j,D,u,f),H-_.df0[j]),f+=_.dxb[j],m+=F}}f=r.F._writeLit(256,C,u,f)}return f},r.F._copyExact=function(o,s,i,a,c){var d=c>>>3;return a[d]=i,a[d+1]=i>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(o.buffer,s,i),d),c+(i+4<<3)},r.F.getTrees=function(){for(var o=r.F.U,s=r.F._hufTree(o.lhst,o.ltree,15),i=r.F._hufTree(o.dhst,o.dtree,15),a=[],c=r.F._lenCodes(o.ltree,a),d=[],l=r.F._lenCodes(o.dtree,d),u=0;u<a.length;u+=2)o.ihst[a[u]]++;for(u=0;u<d.length;u+=2)o.ihst[d[u]]++;for(var f=r.F._hufTree(o.ihst,o.itree,7),h=19;h>4&&o.itree[1+(o.ordr[h-1]<<1)]==0;)h--;return[s,i,f,c,l,h,a,d]},r.F.getSecond=function(o){for(var s=[],i=0;i<o.length;i+=2)s.push(o[i+1]);return s},r.F.nonZero=function(o){for(var s="",i=0;i<o.length;i+=2)o[i+1]!=0&&(s+=(i>>1)+",");return s},r.F.contSize=function(o,s){for(var i=0,a=0;a<s.length;a++)i+=s[a]*o[1+(a<<1)];return i},r.F._codeTiny=function(o,s,i,a){for(var c=0;c<o.length;c+=2){var d=o[c],l=o[c+1];a=r.F._writeLit(d,s,i,a);var u=d==16?2:d==17?3:7;d>15&&(r.F._putsE(i,a,l,u),a+=u)}return a},r.F._lenCodes=function(o,s){for(var i=o.length;i!=2&&o[i-1]==0;)i-=2;for(var a=0;a<i;a+=2){var c=o[a+1],d=a+3<i?o[a+3]:-1,l=a+5<i?o[a+5]:-1,u=a==0?-1:o[a-1];if(c==0&&d==c&&l==c){for(var f=a+5;f+2<i&&o[f+2]==c;)f+=2;(h=Math.min(f+1-a>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),a+=2*h-2}else if(c==u&&d==c&&l==c){for(f=a+5;f+2<i&&o[f+2]==c;)f+=2;var h=Math.min(f+1-a>>>1,6);s.push(16,h-3),a+=2*h-2}else s.push(c,0)}return i>>>1},r.F._hufTree=function(o,s,i){var a=[],c=o.length,d=s.length,l=0;for(l=0;l<d;l+=2)s[l]=0,s[l+1]=0;for(l=0;l<c;l++)o[l]!=0&&a.push({lit:l,f:o[l]});var u=a.length,f=a.slice(0);if(u==0)return 0;if(u==1){var h=a[0].lit;return f=h==0?1:0,s[1+(h<<1)]=1,s[1+(f<<1)]=1,1}a.sort((function(R,M){return R.f-M.f}));var p=a[0],g=a[1],b=0,v=1,O=2;for(a[0]={lit:-1,f:p.f+g.f,l:p,r:g,d:0};v!=u-1;)p=b!=v&&(O==u||a[b].f<a[O].f)?a[b++]:a[O++],g=b!=v&&(O==u||a[b].f<a[O].f)?a[b++]:a[O++],a[v++]={lit:-1,f:p.f+g.f,l:p,r:g};var T=r.F.setDepth(a[v-1],0);for(T>i&&(r.F.restrictDepth(f,i,T),T=i),l=0;l<u;l++)s[1+(f[l].lit<<1)]=f[l].d;return T},r.F.setDepth=function(o,s){return o.lit!=-1?(o.d=s,s):Math.max(r.F.setDepth(o.l,s+1),r.F.setDepth(o.r,s+1))},r.F.restrictDepth=function(o,s,i){var a=0,c=1<<i-s,d=0;for(o.sort((function(u,f){return f.d==u.d?u.f-f.f:f.d-u.d})),a=0;a<o.length&&o[a].d>s;a++){var l=o[a].d;o[a].d=s,d+=c-(1<<i-l)}for(d>>>=i-s;d>0;)(l=o[a].d)<s?(o[a].d++,d-=1<<s-l-1):a++;for(;a>=0;a--)o[a].d==s&&d<0&&(o[a].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(o,s){var i=0;return s[16|i]<=o&&(i|=16),s[8|i]<=o&&(i|=8),s[4|i]<=o&&(i|=4),s[2|i]<=o&&(i|=2),s[1|i]<=o&&(i|=1),i},r.F._writeLit=function(o,s,i,a){return r.F._putsF(i,a,s[o<<1]),a+s[1+(o<<1)]},r.F.inflate=function(o,s){var i=Uint8Array;if(o[0]==3&&o[1]==0)return s||new i(0);var a=r.F,c=a._bitsF,d=a._bitsE,l=a._decodeTiny,u=a.makeCodes,f=a.codes2map,h=a._get17,p=a.U,g=s==null;g&&(s=new i(o.length>>>2<<3));for(var b,v,O=0,T=0,R=0,M=0,_=0,k=0,x=0,y=0,E=0;O==0;)if(O=c(o,E,1),T=c(o,E+1,2),E+=3,T!=0){if(g&&(s=r.F._check(s,y+(1<<17))),T==1&&(b=p.flmap,v=p.fdmap,k=511,x=31),T==2){R=d(o,E,5)+257,M=d(o,E+5,5)+1,_=d(o,E+10,4)+4,E+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var S=1;for(A=0;A<_;A++){var L=d(o,E+3*A,3);p.itree[1+(p.ordr[A]<<1)]=L,L>S&&(S=L)}E+=3*_,u(p.itree,S),f(p.itree,S,p.imap),b=p.lmap,v=p.dmap,E=l(p.imap,(1<<S)-1,R+M,o,E,p.ttree);var C=a._copyOut(p.ttree,0,R,p.ltree);k=(1<<C)-1;var D=a._copyOut(p.ttree,R,M,p.dtree);x=(1<<D)-1,u(p.ltree,C),f(p.ltree,C,b),u(p.dtree,D),f(p.dtree,D,v)}for(;;){var w=b[h(o,E)&k];E+=15&w;var m=w>>>4;if(!(m>>>8))s[y++]=m;else{if(m==256)break;var U=y+m-254;if(m>264){var $=p.ldef[m-257];U=y+($>>>3)+d(o,E,7&$),E+=7&$}var F=v[h(o,E)&x];E+=15&F;var I=F>>>4,P=p.ddef[I],H=(P>>>4)+c(o,E,15&P);for(E+=15&P,g&&(s=r.F._check(s,y+(1<<17)));y<U;)s[y]=s[y++-H],s[y]=s[y++-H],s[y]=s[y++-H],s[y]=s[y++-H];y=U}}}else{(7&E)!=0&&(E+=8-(7&E));var N=4+(E>>>3),j=o[N-4]|o[N-3]<<8;g&&(s=r.F._check(s,y+j)),s.set(new i(o.buffer,o.byteOffset+N,j),y),E=N+j<<3,y+=j}return s.length==y?s:s.slice(0,y)},r.F._check=function(o,s){var i=o.length;if(s<=i)return o;var a=new Uint8Array(Math.max(i<<1,s));return a.set(o,0),a},r.F._decodeTiny=function(o,s,i,a,c,d){for(var l=r.F._bitsE,u=r.F._get17,f=0;f<i;){var h=o[u(a,c)&s];c+=15&h;var p=h>>>4;if(p<=15)d[f]=p,f++;else{var g=0,b=0;p==16?(b=3+l(a,c,2),c+=2,g=d[f-1]):p==17?(b=3+l(a,c,3),c+=3):p==18&&(b=11+l(a,c,7),c+=7);for(var v=f+b;f<v;)d[f]=g,f++}}return c},r.F._copyOut=function(o,s,i,a){for(var c=0,d=0,l=a.length>>>1;d<i;){var u=o[d+s];a[d<<1]=0,a[1+(d<<1)]=u,u>c&&(c=u),d++}for(;d<l;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return c},r.F.makeCodes=function(o,s){for(var i,a,c,d,l=r.F.U,u=o.length,f=l.bl_count,h=0;h<=s;h++)f[h]=0;for(h=1;h<u;h+=2)f[o[h]]++;var p=l.next_code;for(i=0,f[0]=0,a=1;a<=s;a++)i=i+f[a-1]<<1,p[a]=i;for(c=0;c<u;c+=2)(d=o[c+1])!=0&&(o[c]=p[d],p[d]++)},r.F.codes2map=function(o,s,i){for(var a=o.length,c=r.F.U.rev15,d=0;d<a;d+=2)if(o[d+1]!=0)for(var l=d>>1,u=o[d+1],f=l<<4|u,h=s-u,p=o[d]<<h,g=p+(1<<h);p!=g;)i[c[p]>>>15-s]=f,p++},r.F.revCodes=function(o,s){for(var i=r.F.U.rev15,a=15-s,c=0;c<o.length;c+=2){var d=o[c]<<s-o[c+1];o[c]=i[d]>>>a}},r.F._putsE=function(o,s,i){i<<=7&s;var a=s>>>3;o[a]|=i,o[a+1]|=i>>>8},r.F._putsF=function(o,s,i){i<<=7&s;var a=s>>>3;o[a]|=i,o[a+1]|=i>>>8,o[a+2]|=i>>>16},r.F._bitsE=function(o,s,i){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<i)-1},r.F._bitsF=function(o,s,i){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<i)-1},r.F._get17=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var o=r.F.U,s=0;s<32768;s++){var i=s;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,o.rev15[s]=(i>>>16|i<<16)>>>17}function a(c,d,l){for(;d--!=0;)c.push(0,l)}for(s=0;s<32;s++)o.ldef[s]=o.of0[s]<<3|o.exb[s],o.ddef[s]=o.df0[s]<<4|o.dxb[s];a(o.fltree,144,8),a(o.fltree,112,9),a(o.fltree,24,7),a(o.fltree,8,8),r.F.makeCodes(o.fltree,9),r.F.codes2map(o.fltree,9,o.flmap),r.F.revCodes(o.fltree,9),a(o.fdtree,32,5),r.F.makeCodes(o.fdtree,5),r.F.codes2map(o.fdtree,5,o.fdmap),r.F.revCodes(o.fdtree,5),a(o.itree,19,0),a(o.ltree,286,0),a(o.dtree,30,0),a(o.ttree,320,0)})()})();var fc=cc({__proto__:null,default:Bn},[Bn]);const at=(function(){var e={nextZero(l,u){for(;l[u]!=0;)u++;return u},readUshort:(l,u)=>l[u]<<8|l[u+1],writeUshort(l,u,f){l[u]=f>>8&255,l[u+1]=255&f},readUint:(l,u)=>16777216*l[u]+(l[u+1]<<16|l[u+2]<<8|l[u+3]),writeUint(l,u,f){l[u]=f>>24&255,l[u+1]=f>>16&255,l[u+2]=f>>8&255,l[u+3]=255&f},readASCII(l,u,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(l[u+p]);return h},writeASCII(l,u,f){for(let h=0;h<f.length;h++)l[u+h]=f.charCodeAt(h)},readBytes(l,u,f){const h=[];for(let p=0;p<f;p++)h.push(l[u+p]);return h},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,u,f){let h,p="";for(let g=0;g<f;g++)p+=`%${e.pad(l[u+g].toString(16))}`;try{h=decodeURIComponent(p)}catch{return e.readASCII(l,u,f)}return h}};function t(l,u,f,h){const p=u*f,g=s(h),b=Math.ceil(u*g/8),v=new Uint8Array(4*p),O=new Uint32Array(v.buffer),{ctype:T}=h,{depth:R}=h,M=e.readUshort;if(T==6){const $=p<<2;if(R==8)for(var _=0;_<$;_+=4)v[_]=l[_],v[_+1]=l[_+1],v[_+2]=l[_+2],v[_+3]=l[_+3];if(R==16)for(_=0;_<$;_++)v[_]=l[_<<1]}else if(T==2){const $=h.tabs.tRNS;if($==null){if(R==8)for(_=0;_<p;_++){var k=3*_;O[_]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k]}if(R==16)for(_=0;_<p;_++)k=6*_,O[_]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k]}else{var x=$[0];const F=$[1],I=$[2];if(R==8)for(_=0;_<p;_++){var y=_<<2;k=3*_,O[_]=255<<24|l[k+2]<<16|l[k+1]<<8|l[k],l[k]==x&&l[k+1]==F&&l[k+2]==I&&(v[y+3]=0)}if(R==16)for(_=0;_<p;_++)y=_<<2,k=6*_,O[_]=255<<24|l[k+4]<<16|l[k+2]<<8|l[k],M(l,k)==x&&M(l,k+2)==F&&M(l,k+4)==I&&(v[y+3]=0)}}else if(T==3){const $=h.tabs.PLTE,F=h.tabs.tRNS,I=F?F.length:0;if(R==1)for(var E=0;E<f;E++){var A=E*b,S=E*u;for(_=0;_<u;_++){y=S+_<<2;var L=3*(C=l[A+(_>>3)]>>7-((7&_)<<0)&1);v[y]=$[L],v[y+1]=$[L+1],v[y+2]=$[L+2],v[y+3]=C<I?F[C]:255}}if(R==2)for(E=0;E<f;E++)for(A=E*b,S=E*u,_=0;_<u;_++)y=S+_<<2,L=3*(C=l[A+(_>>2)]>>6-((3&_)<<1)&3),v[y]=$[L],v[y+1]=$[L+1],v[y+2]=$[L+2],v[y+3]=C<I?F[C]:255;if(R==4)for(E=0;E<f;E++)for(A=E*b,S=E*u,_=0;_<u;_++)y=S+_<<2,L=3*(C=l[A+(_>>1)]>>4-((1&_)<<2)&15),v[y]=$[L],v[y+1]=$[L+1],v[y+2]=$[L+2],v[y+3]=C<I?F[C]:255;if(R==8)for(_=0;_<p;_++){var C;y=_<<2,L=3*(C=l[_]),v[y]=$[L],v[y+1]=$[L+1],v[y+2]=$[L+2],v[y+3]=C<I?F[C]:255}}else if(T==4){if(R==8)for(_=0;_<p;_++){y=_<<2;var D=l[w=_<<1];v[y]=D,v[y+1]=D,v[y+2]=D,v[y+3]=l[w+1]}if(R==16)for(_=0;_<p;_++){var w;y=_<<2,D=l[w=_<<2],v[y]=D,v[y+1]=D,v[y+2]=D,v[y+3]=l[w+2]}}else if(T==0)for(x=h.tabs.tRNS?h.tabs.tRNS:-1,E=0;E<f;E++){const $=E*b,F=E*u;if(R==1)for(var m=0;m<u;m++){var U=(D=255*(l[$+(m>>>3)]>>>7-(7&m)&1))==255*x?0:255;O[F+m]=U<<24|D<<16|D<<8|D}else if(R==2)for(m=0;m<u;m++)U=(D=85*(l[$+(m>>>2)]>>>6-((3&m)<<1)&3))==85*x?0:255,O[F+m]=U<<24|D<<16|D<<8|D;else if(R==4)for(m=0;m<u;m++)U=(D=17*(l[$+(m>>>1)]>>>4-((1&m)<<2)&15))==17*x?0:255,O[F+m]=U<<24|D<<16|D<<8|D;else if(R==8)for(m=0;m<u;m++)U=(D=l[$+m])==x?0:255,O[F+m]=U<<24|D<<16|D<<8|D;else if(R==16)for(m=0;m<u;m++)D=l[$+(m<<1)],U=M(l,$+(m<<1))==x?0:255,O[F+m]=U<<24|D<<16|D<<8|D}return v}function n(l,u,f,h){const p=s(l),g=Math.ceil(f*p/8),b=new Uint8Array((g+1+l.interlace)*h);return u=l.tabs.CgBI?o(u,b):r(u,b),l.interlace==0?u=i(u,l,0,f,h):l.interlace==1&&(u=(function(O,T){const R=T.width,M=T.height,_=s(T),k=_>>3,x=Math.ceil(R*_/8),y=new Uint8Array(M*x);let E=0;const A=[0,0,4,0,2,0,1],S=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],C=[8,8,4,4,2,2,1];let D=0;for(;D<7;){const m=L[D],U=C[D];let $=0,F=0,I=A[D];for(;I<M;)I+=m,F++;let P=S[D];for(;P<R;)P+=U,$++;const H=Math.ceil($*_/8);i(O,T,E,$,F);let N=0,j=A[D];for(;j<M;){let G=S[D],W=E+N*H<<3;for(;G<R;){var w;if(_==1&&(w=(w=O[W>>3])>>7-(7&W)&1,y[j*x+(G>>3)]|=w<<7-((7&G)<<0)),_==2&&(w=(w=O[W>>3])>>6-(7&W)&3,y[j*x+(G>>2)]|=w<<6-((3&G)<<1)),_==4&&(w=(w=O[W>>3])>>4-(7&W)&15,y[j*x+(G>>1)]|=w<<4-((1&G)<<2)),_>=8){const Z=j*x+G*k;for(let Y=0;Y<k;Y++)y[Z+Y]=O[(W>>3)+Y]}W+=_,G+=U}N++,j+=m}$*F!=0&&(E+=F*(1+H)),D+=1}return y})(u,l)),u}function r(l,u){return o(new Uint8Array(l.buffer,2,l.length-6),u)}var o=(function(){const l={H:{}};return l.H.N=function(u,f){const h=Uint8Array;let p,g,b=0,v=0,O=0,T=0,R=0,M=0,_=0,k=0,x=0;if(u[0]==3&&u[1]==0)return f||new h(0);const y=l.H,E=y.b,A=y.e,S=y.R,L=y.n,C=y.A,D=y.Z,w=y.m,m=f==null;for(m&&(f=new h(u.length>>>2<<5));b==0;)if(b=E(u,x,1),v=E(u,x+1,2),x+=3,v!=0){if(m&&(f=l.H.W(f,k+(1<<17))),v==1&&(p=w.J,g=w.h,M=511,_=31),v==2){O=A(u,x,5)+257,T=A(u,x+5,5)+1,R=A(u,x+10,4)+4,x+=14;let $=1;for(var U=0;U<38;U+=2)w.Q[U]=0,w.Q[U+1]=0;for(U=0;U<R;U++){const P=A(u,x+3*U,3);w.Q[1+(w.X[U]<<1)]=P,P>$&&($=P)}x+=3*R,L(w.Q,$),C(w.Q,$,w.u),p=w.w,g=w.d,x=S(w.u,(1<<$)-1,O+T,u,x,w.v);const F=y.V(w.v,0,O,w.C);M=(1<<F)-1;const I=y.V(w.v,O,T,w.D);_=(1<<I)-1,L(w.C,F),C(w.C,F,p),L(w.D,I),C(w.D,I,g)}for(;;){const $=p[D(u,x)&M];x+=15&$;const F=$>>>4;if(!(F>>>8))f[k++]=F;else{if(F==256)break;{let I=k+F-254;if(F>264){const G=w.q[F-257];I=k+(G>>>3)+A(u,x,7&G),x+=7&G}const P=g[D(u,x)&_];x+=15&P;const H=P>>>4,N=w.c[H],j=(N>>>4)+E(u,x,15&N);for(x+=15&N;k<I;)f[k]=f[k++-j],f[k]=f[k++-j],f[k]=f[k++-j],f[k]=f[k++-j];k=I}}}}else{(7&x)!=0&&(x+=8-(7&x));const $=4+(x>>>3),F=u[$-4]|u[$-3]<<8;m&&(f=l.H.W(f,k+F)),f.set(new h(u.buffer,u.byteOffset+$,F),k),x=$+F<<3,k+=F}return f.length==k?f:f.slice(0,k)},l.H.W=function(u,f){const h=u.length;if(f<=h)return u;const p=new Uint8Array(h<<1);return p.set(u,0),p},l.H.R=function(u,f,h,p,g,b){const v=l.H.e,O=l.H.Z;let T=0;for(;T<h;){const R=u[O(p,g)&f];g+=15&R;const M=R>>>4;if(M<=15)b[T]=M,T++;else{let _=0,k=0;M==16?(k=3+v(p,g,2),g+=2,_=b[T-1]):M==17?(k=3+v(p,g,3),g+=3):M==18&&(k=11+v(p,g,7),g+=7);const x=T+k;for(;T<x;)b[T]=_,T++}}return g},l.H.V=function(u,f,h,p){let g=0,b=0;const v=p.length>>>1;for(;b<h;){const O=u[b+f];p[b<<1]=0,p[1+(b<<1)]=O,O>g&&(g=O),b++}for(;b<v;)p[b<<1]=0,p[1+(b<<1)]=0,b++;return g},l.H.n=function(u,f){const h=l.H.m,p=u.length;let g,b,v,O;const T=h.j;for(var R=0;R<=f;R++)T[R]=0;for(R=1;R<p;R+=2)T[u[R]]++;const M=h.K;for(g=0,T[0]=0,b=1;b<=f;b++)g=g+T[b-1]<<1,M[b]=g;for(v=0;v<p;v+=2)O=u[v+1],O!=0&&(u[v]=M[O],M[O]++)},l.H.A=function(u,f,h){const p=u.length,g=l.H.m.r;for(let b=0;b<p;b+=2)if(u[b+1]!=0){const v=b>>1,O=u[b+1],T=v<<4|O,R=f-O;let M=u[b]<<R;const _=M+(1<<R);for(;M!=_;)h[g[M]>>>15-f]=T,M++}},l.H.l=function(u,f){const h=l.H.m.r,p=15-f;for(let g=0;g<u.length;g+=2){const b=u[g]<<f-u[g+1];u[g]=h[b]>>>p}},l.H.M=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8},l.H.I=function(u,f,h){h<<=7&f;const p=f>>>3;u[p]|=h,u[p+1]|=h>>>8,u[p+2]|=h>>>16},l.H.e=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},l.H.b=function(u,f,h){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},l.H.Z=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16)>>>(7&f)},l.H.i=function(u,f){return(u[f>>>3]|u[1+(f>>>3)]<<8|u[2+(f>>>3)]<<16|u[3+(f>>>3)]<<24)>>>(7&f)},l.H.m=(function(){const u=Uint16Array,f=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new u(65536),g:new u(32768)}})(),(function(){const u=l.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,u.r[f]=(p>>>16|p<<16)>>>17}function h(p,g,b){for(;g--!=0;)p.push(0,b)}for(f=0;f<32;f++)u.q[f]=u.S[f]<<3|u.T[f],u.c[f]=u.p[f]<<4|u.z[f];h(u._,144,8),h(u._,112,9),h(u._,24,7),h(u._,8,8),l.H.n(u._,9),l.H.A(u._,9,u.J),l.H.l(u._,9),h(u.$,32,5),l.H.n(u.$,5),l.H.A(u.$,5,u.h),l.H.l(u.$,5),h(u.Q,19,0),h(u.C,286,0),h(u.D,30,0),h(u.v,320,0)})(),l.H.N})();function s(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function i(l,u,f,h,p){let g=s(u);const b=Math.ceil(h*g/8);let v,O;g=Math.ceil(g/8);let T=l[f],R=0;if(T>1&&(l[f]=[0,0,1][T-2]),T==3)for(R=g;R<b;R++)l[R+1]=l[R+1]+(l[R+1-g]>>>1)&255;for(let M=0;M<p;M++)if(v=f+M*b,O=v+M+1,T=l[O-1],R=0,T==0)for(;R<b;R++)l[v+R]=l[O+R];else if(T==1){for(;R<g;R++)l[v+R]=l[O+R];for(;R<b;R++)l[v+R]=l[O+R]+l[v+R-g]}else if(T==2)for(;R<b;R++)l[v+R]=l[O+R]+l[v+R-b];else if(T==3){for(;R<g;R++)l[v+R]=l[O+R]+(l[v+R-b]>>>1);for(;R<b;R++)l[v+R]=l[O+R]+(l[v+R-b]+l[v+R-g]>>>1)}else{for(;R<g;R++)l[v+R]=l[O+R]+a(0,l[v+R-b],0);for(;R<b;R++)l[v+R]=l[O+R]+a(l[v+R-g],l[v+R-b],l[v+R-g-b])}return l}function a(l,u,f){const h=l+u-f,p=h-l,g=h-u,b=h-f;return p*p<=g*g&&p*p<=b*b?l:g*g<=b*b?u:f}function c(l,u,f){f.width=e.readUint(l,u),u+=4,f.height=e.readUint(l,u),u+=4,f.depth=l[u],u++,f.ctype=l[u],u++,f.compress=l[u],u++,f.filter=l[u],u++,f.interlace=l[u],u++}function d(l,u,f,h,p,g,b,v,O){const T=Math.min(u,p),R=Math.min(f,g);let M=0,_=0;for(let D=0;D<R;D++)for(let w=0;w<T;w++)if(b>=0&&v>=0?(M=D*u+w<<2,_=(v+D)*p+b+w<<2):(M=(-v+D)*u-b+w<<2,_=D*p+w<<2),O==0)h[_]=l[M],h[_+1]=l[M+1],h[_+2]=l[M+2],h[_+3]=l[M+3];else if(O==1){var k=l[M+3]*.00392156862745098,x=l[M]*k,y=l[M+1]*k,E=l[M+2]*k,A=h[_+3]*(1/255),S=h[_]*A,L=h[_+1]*A,C=h[_+2]*A;const m=1-k,U=k+A*m,$=U==0?0:1/U;h[_+3]=255*U,h[_+0]=(x+S*m)*$,h[_+1]=(y+L*m)*$,h[_+2]=(E+C*m)*$}else if(O==2)k=l[M+3],x=l[M],y=l[M+1],E=l[M+2],A=h[_+3],S=h[_],L=h[_+1],C=h[_+2],k==A&&x==S&&y==L&&E==C?(h[_]=0,h[_+1]=0,h[_+2]=0,h[_+3]=0):(h[_]=x,h[_+1]=y,h[_+2]=E,h[_+3]=k);else if(O==3){if(k=l[M+3],x=l[M],y=l[M+1],E=l[M+2],A=h[_+3],S=h[_],L=h[_+1],C=h[_+2],k==A&&x==S&&y==L&&E==C)continue;if(k<220&&A>20)return!1}return!0}return{decode:function(u){const f=new Uint8Array(u);let h=8;const p=e,g=p.readUshort,b=p.readUint,v={tabs:{},frames:[]},O=new Uint8Array(f.length);let T,R=0,M=0;const _=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(f[k]!=_[k])throw"The input is not a PNG file!";for(;h<f.length;){const D=p.readUint(f,h);h+=4;const w=p.readASCII(f,h,4);if(h+=4,w=="IHDR")c(f,h,v);else if(w=="iCCP"){for(var x=h;f[x]!=0;)x++;p.readASCII(f,h,x-h),f[x+1];const m=f.slice(x+2,h+D);let U=null;try{U=r(m)}catch{U=o(m)}v.tabs[w]=U}else if(w=="CgBI")v.tabs[w]=f.slice(h,h+4);else if(w=="IDAT"){for(k=0;k<D;k++)O[R+k]=f[h+k];R+=D}else if(w=="acTL")v.tabs[w]={num_frames:b(f,h),num_plays:b(f,h+4)},T=new Uint8Array(f.length);else if(w=="fcTL"){M!=0&&((C=v.frames[v.frames.length-1]).data=n(v,T.slice(0,M),C.rect.width,C.rect.height),M=0);const m={x:b(f,h+12),y:b(f,h+16),width:b(f,h+4),height:b(f,h+8)};let U=g(f,h+22);U=g(f,h+20)/(U==0?100:U);const $={rect:m,delay:Math.round(1e3*U),dispose:f[h+24],blend:f[h+25]};v.frames.push($)}else if(w=="fdAT"){for(k=0;k<D-4;k++)T[M+k]=f[h+k+4];M+=D-4}else if(w=="pHYs")v.tabs[w]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(w=="cHRM")for(v.tabs[w]=[],k=0;k<8;k++)v.tabs[w].push(p.readUint(f,h+4*k));else if(w=="tEXt"||w=="zTXt"){v.tabs[w]==null&&(v.tabs[w]={});var y=p.nextZero(f,h),E=p.readASCII(f,h,y-h),A=h+D-y-1;if(w=="tEXt")L=p.readASCII(f,y+1,A);else{var S=r(f.slice(y+2,y+2+A));L=p.readUTF8(S,0,S.length)}v.tabs[w][E]=L}else if(w=="iTXt"){v.tabs[w]==null&&(v.tabs[w]={}),y=0,x=h,y=p.nextZero(f,x),E=p.readASCII(f,x,y-x);const m=f[x=y+1];var L;f[x+1],x+=2,y=p.nextZero(f,x),p.readASCII(f,x,y-x),x=y+1,y=p.nextZero(f,x),p.readUTF8(f,x,y-x),A=D-((x=y+1)-h),m==0?L=p.readUTF8(f,x,A):(S=r(f.slice(x,x+A)),L=p.readUTF8(S,0,S.length)),v.tabs[w][E]=L}else if(w=="PLTE")v.tabs[w]=p.readBytes(f,h,D);else if(w=="hIST"){const m=v.tabs.PLTE.length/3;for(v.tabs[w]=[],k=0;k<m;k++)v.tabs[w].push(g(f,h+2*k))}else if(w=="tRNS")v.ctype==3?v.tabs[w]=p.readBytes(f,h,D):v.ctype==0?v.tabs[w]=g(f,h):v.ctype==2&&(v.tabs[w]=[g(f,h),g(f,h+2),g(f,h+4)]);else if(w=="gAMA")v.tabs[w]=p.readUint(f,h)/1e5;else if(w=="sRGB")v.tabs[w]=f[h];else if(w=="bKGD")v.ctype==0||v.ctype==4?v.tabs[w]=[g(f,h)]:v.ctype==2||v.ctype==6?v.tabs[w]=[g(f,h),g(f,h+2),g(f,h+4)]:v.ctype==3&&(v.tabs[w]=f[h]);else if(w=="IEND")break;h+=D,p.readUint(f,h),h+=4}var C;return M!=0&&((C=v.frames[v.frames.length-1]).data=n(v,T.slice(0,M),C.rect.width,C.rect.height)),v.data=n(v,O,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(u){const f=u.width,h=u.height;if(u.tabs.acTL==null)return[t(u.data,f,h,u).buffer];const p=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const g=f*h*4,b=new Uint8Array(g),v=new Uint8Array(g),O=new Uint8Array(g);for(let R=0;R<u.frames.length;R++){const M=u.frames[R],_=M.rect.x,k=M.rect.y,x=M.rect.width,y=M.rect.height,E=t(M.data,x,y,u);if(R!=0)for(var T=0;T<g;T++)O[T]=b[T];if(M.blend==0?d(E,x,y,b,f,h,_,k,0):M.blend==1&&d(E,x,y,b,f,h,_,k,1),p.push(b.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)d(v,x,y,b,f,h,_,k,0);else if(M.dispose==2)for(T=0;T<g;T++)b[T]=O[T]}}return p},_paeth:a,_copyTile:d,_bin:e}})();(function(){const{_copyTile:e}=at,{_bin:t}=at,n=at._paeth;var r={table:(function(){const x=new Uint32Array(256);for(let y=0;y<256;y++){let E=y;for(let A=0;A<8;A++)1&E?E=3988292384^E>>>1:E>>>=1;x[y]=E}return x})(),update(x,y,E,A){for(let S=0;S<A;S++)x=r.table[255&(x^y[E+S])]^x>>>8;return x},crc:(x,y,E)=>4294967295^r.update(4294967295,x,y,E)};function o(x,y,E,A){y[E]+=x[0]*A>>4,y[E+1]+=x[1]*A>>4,y[E+2]+=x[2]*A>>4,y[E+3]+=x[3]*A>>4}function s(x){return Math.max(0,Math.min(255,x))}function i(x,y){const E=x[0]-y[0],A=x[1]-y[1],S=x[2]-y[2],L=x[3]-y[3];return E*E+A*A+S*S+L*L}function a(x,y,E,A,S,L,C){C==null&&(C=1);const D=A.length,w=[];for(var m=0;m<D;m++){const j=A[m];w.push([j>>>0&255,j>>>8&255,j>>>16&255,j>>>24&255])}for(m=0;m<D;m++){let j=4294967295;for(var U=0,$=0;$<D;$++){var F=i(w[m],w[$]);$!=m&&F<j&&(j=F,U=$)}}const I=new Uint32Array(S.buffer),P=new Int16Array(y*E*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<H.length;m++)H[m]=255*((H[m]+.5)/16-.5);for(let j=0;j<E;j++)for(let G=0;G<y;G++){var N;m=4*(j*y+G),C!=2?N=[s(x[m]+P[m]),s(x[m+1]+P[m+1]),s(x[m+2]+P[m+2]),s(x[m+3]+P[m+3])]:(F=H[4*(3&j)+(3&G)],N=[s(x[m]+F),s(x[m+1]+F),s(x[m+2]+F),s(x[m+3]+F)]),U=0;let W=16777215;for($=0;$<D;$++){const ee=i(N,w[$]);ee<W&&(W=ee,U=$)}const Z=w[U],Y=[N[0]-Z[0],N[1]-Z[1],N[2]-Z[2],N[3]-Z[3]];C==1&&(G!=y-1&&o(Y,P,m+4,7),j!=E-1&&(G!=0&&o(Y,P,m+4*y-4,3),o(Y,P,m+4*y,5),G!=y-1&&o(Y,P,m+4*y+4,1))),L[m>>2]=U,I[m>>2]=A[U]}}function c(x,y,E,A,S){S==null&&(S={});const{crc:L}=r,C=t.writeUint,D=t.writeUshort,w=t.writeASCII;let m=8;const U=x.frames.length>1;let $,F=!1,I=33+(U?20:0);if(S.sRGB!=null&&(I+=13),S.pHYs!=null&&(I+=21),S.iCCP!=null&&($=pako.deflate(S.iCCP),I+=21+$.length+4),x.ctype==3){for(var P=x.plte.length,H=0;H<P;H++)x.plte[H]>>>24!=255&&(F=!0);I+=8+3*P+4+(F?8+1*P+4:0)}for(var N=0;N<x.frames.length;N++)U&&(I+=38),I+=(Z=x.frames[N]).cimg.length+12,N!=0&&(I+=4);I+=12;const j=new Uint8Array(I),G=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)j[H]=G[H];if(C(j,m,13),m+=4,w(j,m,"IHDR"),m+=4,C(j,m,y),m+=4,C(j,m,E),m+=4,j[m]=x.depth,m++,j[m]=x.ctype,m++,j[m]=0,m++,j[m]=0,m++,j[m]=0,m++,C(j,m,L(j,m-17,17)),m+=4,S.sRGB!=null&&(C(j,m,1),m+=4,w(j,m,"sRGB"),m+=4,j[m]=S.sRGB,m++,C(j,m,L(j,m-5,5)),m+=4),S.iCCP!=null){const Y=13+$.length;C(j,m,Y),m+=4,w(j,m,"iCCP"),m+=4,w(j,m,"ICC profile"),m+=11,m+=2,j.set($,m),m+=$.length,C(j,m,L(j,m-(Y+4),Y+4)),m+=4}if(S.pHYs!=null&&(C(j,m,9),m+=4,w(j,m,"pHYs"),m+=4,C(j,m,S.pHYs[0]),m+=4,C(j,m,S.pHYs[1]),m+=4,j[m]=S.pHYs[2],m++,C(j,m,L(j,m-13,13)),m+=4),U&&(C(j,m,8),m+=4,w(j,m,"acTL"),m+=4,C(j,m,x.frames.length),m+=4,C(j,m,S.loop!=null?S.loop:0),m+=4,C(j,m,L(j,m-12,12)),m+=4),x.ctype==3){for(C(j,m,3*(P=x.plte.length)),m+=4,w(j,m,"PLTE"),m+=4,H=0;H<P;H++){const Y=3*H,ee=x.plte[H],le=255&ee,oe=ee>>>8&255,He=ee>>>16&255;j[m+Y+0]=le,j[m+Y+1]=oe,j[m+Y+2]=He}if(m+=3*P,C(j,m,L(j,m-3*P-4,3*P+4)),m+=4,F){for(C(j,m,P),m+=4,w(j,m,"tRNS"),m+=4,H=0;H<P;H++)j[m+H]=x.plte[H]>>>24&255;m+=P,C(j,m,L(j,m-P-4,P+4)),m+=4}}let W=0;for(N=0;N<x.frames.length;N++){var Z=x.frames[N];U&&(C(j,m,26),m+=4,w(j,m,"fcTL"),m+=4,C(j,m,W++),m+=4,C(j,m,Z.rect.width),m+=4,C(j,m,Z.rect.height),m+=4,C(j,m,Z.rect.x),m+=4,C(j,m,Z.rect.y),m+=4,D(j,m,A[N]),m+=2,D(j,m,1e3),m+=2,j[m]=Z.dispose,m++,j[m]=Z.blend,m++,C(j,m,L(j,m-30,30)),m+=4);const Y=Z.cimg;C(j,m,(P=Y.length)+(N==0?0:4)),m+=4;const ee=m;w(j,m,N==0?"IDAT":"fdAT"),m+=4,N!=0&&(C(j,m,W++),m+=4),j.set(Y,m),m+=P,C(j,m,L(j,ee,m-ee)),m+=4}return C(j,m,0),m+=4,w(j,m,"IEND"),m+=4,C(j,m,L(j,m-4,4)),m+=4,j.buffer}function d(x,y,E){for(let A=0;A<x.frames.length;A++){const S=x.frames[A];S.rect.width;const L=S.rect.height,C=new Uint8Array(L*S.bpl+L);S.cimg=h(S.img,L,S.bpp,S.bpl,C,y,E)}}function l(x,y,E,A,S){const L=S[0],C=S[1],D=S[2],w=S[3],m=S[4],U=S[5];let $=6,F=8,I=255;for(var P=0;P<x.length;P++){const Ee=new Uint8Array(x[P]);for(var H=Ee.length,N=0;N<H;N+=4)I&=Ee[N+3]}const j=I!=255,G=(function(ie,fe,xe,be,re,Ie){const me=[];for(var ue=0;ue<ie.length;ue++){const Se=new Uint8Array(ie[ue]),Te=new Uint32Array(Se.buffer);var ke;let Ne=0,Ge=0,Oe=fe,ve=xe,Pe=be?1:0;if(ue!=0){const Tt=Ie||be||ue==1||me[ue-2].dispose!=0?1:2;let xt=0,bt=1e9;for(let it=0;it<Tt;it++){var Ve=new Uint8Array(ie[ue-1-it]);const Et=new Uint32Array(ie[ue-1-it]);let qe=fe,We=xe,tt=-1,dt=-1;for(let Ae=0;Ae<xe;Ae++)for(let V=0;V<fe;V++)Te[ye=Ae*fe+V]!=Et[ye]&&(V<qe&&(qe=V),V>tt&&(tt=V),Ae<We&&(We=Ae),Ae>dt&&(dt=Ae));tt==-1&&(qe=We=tt=dt=0),re&&((1&qe)==1&&qe--,(1&We)==1&&We--);const Ce=(tt-qe+1)*(dt-We+1);Ce<bt&&(bt=Ce,xt=it,Ne=qe,Ge=We,Oe=tt-qe+1,ve=dt-We+1)}Ve=new Uint8Array(ie[ue-1-xt]),xt==1&&(me[ue-1].dispose=2),ke=new Uint8Array(Oe*ve*4),e(Ve,fe,xe,ke,Oe,ve,-Ne,-Ge,0),Pe=e(Se,fe,xe,ke,Oe,ve,-Ne,-Ge,3)?1:0,Pe==1?f(Se,fe,xe,ke,{x:Ne,y:Ge,width:Oe,height:ve}):e(Se,fe,xe,ke,Oe,ve,-Ne,-Ge,0)}else ke=Se.slice(0);me.push({rect:{x:Ne,y:Ge,width:Oe,height:ve},img:ke,blend:Pe,dispose:0})}if(be)for(ue=0;ue<me.length;ue++){if((Ke=me[ue]).blend==1)continue;const Se=Ke.rect,Te=me[ue-1].rect,Ne=Math.min(Se.x,Te.x),Ge=Math.min(Se.y,Te.y),Oe={x:Ne,y:Ge,width:Math.max(Se.x+Se.width,Te.x+Te.width)-Ne,height:Math.max(Se.y+Se.height,Te.y+Te.height)-Ge};me[ue-1].dispose=1,ue-1!=0&&u(ie,fe,xe,me,ue-1,Oe,re),u(ie,fe,xe,me,ue,Oe,re)}let ft=0;if(ie.length!=1)for(var ye=0;ye<me.length;ye++){var Ke;ft+=(Ke=me[ye]).rect.width*Ke.rect.height}return me})(x,y,E,L,C,D),W={},Z=[],Y=[];if(A!=0){const Ee=[];for(N=0;N<G.length;N++)Ee.push(G[N].img.buffer);const ie=(function(re){let Ie=0;for(var me=0;me<re.length;me++)Ie+=re[me].byteLength;const ue=new Uint8Array(Ie);let ke=0;for(me=0;me<re.length;me++){const Ve=new Uint8Array(re[me]),ft=Ve.length;for(let ye=0;ye<ft;ye+=4){let Ke=Ve[ye],Se=Ve[ye+1],Te=Ve[ye+2];const Ne=Ve[ye+3];Ne==0&&(Ke=Se=Te=0),ue[ke+ye]=Ke,ue[ke+ye+1]=Se,ue[ke+ye+2]=Te,ue[ke+ye+3]=Ne}ke+=ft}return ue.buffer})(Ee),fe=g(ie,A);for(N=0;N<fe.plte.length;N++)Z.push(fe.plte[N].est.rgba);let xe=0;for(N=0;N<G.length;N++){const be=(le=G[N]).img.length;var ee=new Uint8Array(fe.inds.buffer,xe>>2,be>>2);Y.push(ee);const re=new Uint8Array(fe.abuf,xe,be);U&&a(le.img,le.rect.width,le.rect.height,Z,re,ee),le.img.set(re),xe+=be}}else for(P=0;P<G.length;P++){var le=G[P];const Ee=new Uint32Array(le.img.buffer);var oe=le.rect.width;for(H=Ee.length,ee=new Uint8Array(H),Y.push(ee),N=0;N<H;N++){const ie=Ee[N];if(N!=0&&ie==Ee[N-1])ee[N]=ee[N-1];else if(N>oe&&ie==Ee[N-oe])ee[N]=ee[N-oe];else{let fe=W[ie];if(fe==null&&(W[ie]=fe=Z.length,Z.push(ie),Z.length>=300))break;ee[N]=fe}}}const He=Z.length;for(He<=256&&m==0&&(F=He<=2?1:He<=4?2:He<=16?4:8,F=Math.max(F,w)),P=0;P<G.length;P++){(le=G[P]).rect.x,le.rect.y,oe=le.rect.width;const Ee=le.rect.height;let ie=le.img;new Uint32Array(ie.buffer);let fe=4*oe,xe=4;if(He<=256&&m==0){fe=Math.ceil(F*oe/8);var Ue=new Uint8Array(fe*Ee);const be=Y[P];for(let re=0;re<Ee;re++){N=re*fe;const Ie=re*oe;if(F==8)for(var de=0;de<oe;de++)Ue[N+de]=be[Ie+de];else if(F==4)for(de=0;de<oe;de++)Ue[N+(de>>1)]|=be[Ie+de]<<4-4*(1&de);else if(F==2)for(de=0;de<oe;de++)Ue[N+(de>>2)]|=be[Ie+de]<<6-2*(3&de);else if(F==1)for(de=0;de<oe;de++)Ue[N+(de>>3)]|=be[Ie+de]<<7-1*(7&de)}ie=Ue,$=3,xe=1}else if(j==0&&G.length==1){Ue=new Uint8Array(oe*Ee*3);const be=oe*Ee;for(N=0;N<be;N++){const re=3*N,Ie=4*N;Ue[re]=ie[Ie],Ue[re+1]=ie[Ie+1],Ue[re+2]=ie[Ie+2]}ie=Ue,$=2,xe=3,fe=3*oe}le.img=ie,le.bpl=fe,le.bpp=xe}return{ctype:$,depth:F,plte:Z,frames:G}}function u(x,y,E,A,S,L,C){const D=Uint8Array,w=Uint32Array,m=new D(x[S-1]),U=new w(x[S-1]),$=S+1<x.length?new D(x[S+1]):null,F=new D(x[S]),I=new w(F.buffer);let P=y,H=E,N=-1,j=-1;for(let W=0;W<L.height;W++)for(let Z=0;Z<L.width;Z++){const Y=L.x+Z,ee=L.y+W,le=ee*y+Y,oe=I[le];oe==0||A[S-1].dispose==0&&U[le]==oe&&($==null||$[4*le+3]!=0)||(Y<P&&(P=Y),Y>N&&(N=Y),ee<H&&(H=ee),ee>j&&(j=ee))}N==-1&&(P=H=N=j=0),C&&((1&P)==1&&P--,(1&H)==1&&H--),L={x:P,y:H,width:N-P+1,height:j-H+1};const G=A[S];G.rect=L,G.blend=1,G.img=new Uint8Array(L.width*L.height*4),A[S-1].dispose==0?(e(m,y,E,G.img,L.width,L.height,-L.x,-L.y,0),f(F,y,E,G.img,L)):e(F,y,E,G.img,L.width,L.height,-L.x,-L.y,0)}function f(x,y,E,A,S){e(x,y,E,A,S.width,S.height,-S.x,-S.y,2)}function h(x,y,E,A,S,L,C){const D=[];let w,m=[0,1,2,3,4];L!=-1?m=[L]:(y*A>5e5||E==1)&&(m=[0]),C&&(w={level:0});const U=fc;for(var $=0;$<m.length;$++){for(let P=0;P<y;P++)p(S,x,P,A,E,m[$]);D.push(U.deflate(S,w))}let F,I=1e9;for($=0;$<D.length;$++)D[$].length<I&&(F=$,I=D[$].length);return D[F]}function p(x,y,E,A,S,L){const C=E*A;let D=C+E;if(x[D]=L,D++,L==0)if(A<500)for(var w=0;w<A;w++)x[D+w]=y[C+w];else x.set(new Uint8Array(y.buffer,C,A),D);else if(L==1){for(w=0;w<S;w++)x[D+w]=y[C+w];for(w=S;w<A;w++)x[D+w]=y[C+w]-y[C+w-S]+256&255}else if(E==0){for(w=0;w<S;w++)x[D+w]=y[C+w];if(L==2)for(w=S;w<A;w++)x[D+w]=y[C+w];if(L==3)for(w=S;w<A;w++)x[D+w]=y[C+w]-(y[C+w-S]>>1)+256&255;if(L==4)for(w=S;w<A;w++)x[D+w]=y[C+w]-n(y[C+w-S],0,0)+256&255}else{if(L==2)for(w=0;w<A;w++)x[D+w]=y[C+w]+256-y[C+w-A]&255;if(L==3){for(w=0;w<S;w++)x[D+w]=y[C+w]+256-(y[C+w-A]>>1)&255;for(w=S;w<A;w++)x[D+w]=y[C+w]+256-(y[C+w-A]+y[C+w-S]>>1)&255}if(L==4){for(w=0;w<S;w++)x[D+w]=y[C+w]+256-n(0,y[C+w-A],0)&255;for(w=S;w<A;w++)x[D+w]=y[C+w]+256-n(y[C+w-S],y[C+w-A],y[C+w-S-A])&255}}}function g(x,y){const E=new Uint8Array(x),A=E.slice(0),S=new Uint32Array(A.buffer),L=b(A,y),C=L[0],D=L[1],w=E.length,m=new Uint8Array(w>>2);let U;if(E.length<2e7)for(var $=0;$<w;$+=4)U=v(C,F=E[$]*(1/255),I=E[$+1]*(1/255),P=E[$+2]*(1/255),H=E[$+3]*(1/255)),m[$>>2]=U.ind,S[$>>2]=U.est.rgba;else for($=0;$<w;$+=4){var F=E[$]*.00392156862745098,I=E[$+1]*(1/255),P=E[$+2]*(1/255),H=E[$+3]*(1/255);for(U=C;U.left;)U=O(U.est,F,I,P,H)<=0?U.left:U.right;m[$>>2]=U.ind,S[$>>2]=U.est.rgba}return{abuf:A.buffer,inds:m,plte:D}}function b(x,y,E){E==null&&(E=1e-4);const A=new Uint32Array(x.buffer),S={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};S.bst=M(x,S.i0,S.i1),S.est=_(S.bst);const L=[S];for(;L.length<y;){let D=0,w=0;for(var C=0;C<L.length;C++)L[C].est.L>D&&(D=L[C].est.L,w=C);if(D<E)break;const m=L[w],U=T(x,A,m.i0,m.i1,m.est.e,m.est.eMq255);if(m.i0>=U||m.i1<=U){m.est.L=0;continue}const $={i0:m.i0,i1:U,bst:null,est:null,tdst:0,left:null,right:null};$.bst=M(x,$.i0,$.i1),$.est=_($.bst);const F={i0:U,i1:m.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:m.bst.N-$.bst.N},C=0;C<16;C++)F.bst.R[C]=m.bst.R[C]-$.bst.R[C];for(C=0;C<4;C++)F.bst.m[C]=m.bst.m[C]-$.bst.m[C];F.est=_(F.bst),m.left=$,m.right=F,L[w]=$,L.push(F)}for(L.sort(((D,w)=>w.bst.N-D.bst.N)),C=0;C<L.length;C++)L[C].ind=C;return[S,L]}function v(x,y,E,A,S){if(x.left==null)return x.tdst=(function($,F,I,P,H){const N=F-$[0],j=I-$[1],G=P-$[2],W=H-$[3];return N*N+j*j+G*G+W*W})(x.est.q,y,E,A,S),x;const L=O(x.est,y,E,A,S);let C=x.left,D=x.right;L>0&&(C=x.right,D=x.left);const w=v(C,y,E,A,S);if(w.tdst<=L*L)return w;const m=v(D,y,E,A,S);return m.tdst<w.tdst?m:w}function O(x,y,E,A,S){const{e:L}=x;return L[0]*y+L[1]*E+L[2]*A+L[3]*S-x.eMq}function T(x,y,E,A,S,L){for(A-=4;E<A;){for(;R(x,E,S)<=L;)E+=4;for(;R(x,A,S)>L;)A-=4;if(E>=A)break;const C=y[E>>2];y[E>>2]=y[A>>2],y[A>>2]=C,E+=4,A-=4}for(;R(x,E,S)>L;)E-=4;return E+4}function R(x,y,E){return x[y]*E[0]+x[y+1]*E[1]+x[y+2]*E[2]+x[y+3]*E[3]}function M(x,y,E){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,0,0,0],L=E-y>>2;for(let C=y;C<E;C+=4){const D=x[C]*.00392156862745098,w=x[C+1]*(1/255),m=x[C+2]*(1/255),U=x[C+3]*(1/255);S[0]+=D,S[1]+=w,S[2]+=m,S[3]+=U,A[0]+=D*D,A[1]+=D*w,A[2]+=D*m,A[3]+=D*U,A[5]+=w*w,A[6]+=w*m,A[7]+=w*U,A[10]+=m*m,A[11]+=m*U,A[15]+=U*U}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:S,N:L}}function _(x){const{R:y}=x,{m:E}=x,{N:A}=x,S=E[0],L=E[1],C=E[2],D=E[3],w=A==0?0:1/A,m=[y[0]-S*S*w,y[1]-S*L*w,y[2]-S*C*w,y[3]-S*D*w,y[4]-L*S*w,y[5]-L*L*w,y[6]-L*C*w,y[7]-L*D*w,y[8]-C*S*w,y[9]-C*L*w,y[10]-C*C*w,y[11]-C*D*w,y[12]-D*S*w,y[13]-D*L*w,y[14]-D*C*w,y[15]-D*D*w],U=m,$=k;let F=[Math.random(),Math.random(),Math.random(),Math.random()],I=0,P=0;if(A!=0)for(let N=0;N<16&&(F=$.multVec(U,F),P=Math.sqrt($.dot(F,F)),F=$.sml(1/P,F),!(N!=0&&Math.abs(P-I)<1e-9));N++)I=P;const H=[S*w,L*w,C*w,D*w];return{Cov:m,q:H,e:F,L:I,eMq255:$.dot($.sml(255,H),F),eMq:$.dot(F,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var k={multVec:(x,y)=>[x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3],x[4]*y[0]+x[5]*y[1]+x[6]*y[2]+x[7]*y[3],x[8]*y[0]+x[9]*y[1]+x[10]*y[2]+x[11]*y[3],x[12]*y[0]+x[13]*y[1]+x[14]*y[2]+x[15]*y[3]],dot:(x,y)=>x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3],sml:(x,y)=>[x*y[0],x*y[1],x*y[2],x*y[3]]};at.encode=function(y,E,A,S,L,C,D){S==null&&(S=0),D==null&&(D=!1);const w=l(y,E,A,S,[!1,!1,!1,0,D,!1]);return d(w,-1),c(w,E,A,L,C)},at.encodeLL=function(y,E,A,S,L,C,D,w){const m={ctype:0+(S==1?0:2)+(L==0?0:4),depth:C,frames:[]},U=(S+L)*C,$=U*E;for(let F=0;F<y.length;F++)m.frames.push({rect:{x:0,y:0,width:E,height:A},img:new Uint8Array(y[F]),blend:0,dispose:1,bpp:Math.ceil(U/8),bpl:Math.ceil($/8)});return d(m,0,!0),c(m,E,A,D,w)},at.encode.compress=l,at.encode.dither=a,at.quantize=g,at.quantize.getKDtree=b,at.quantize.getNearest=v})();const Hs={toArrayBuffer(e,t){const n=e.width,r=e.height,o=n<<2,s=e.getContext("2d").getImageData(0,0,n,r),i=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,c=a*r,d=122+c,l=new ArrayBuffer(d),u=new DataView(l),f=1<<20;let h,p,g,b,v=f,O=0,T=0,R=0;function M(x){u.setUint16(T,x,!0),T+=2}function _(x){u.setUint32(T,x,!0),T+=4}function k(x){T+=x}M(19778),_(d),k(4),_(122),_(108),_(n),_(-r>>>0),M(1),M(32),_(3),_(c),_(2835),_(2835),k(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),(function x(){for(;O<r&&v>0;){for(b=122+O*a,h=0;h<o;)v--,p=i[R++],g=p>>>24,u.setUint32(b+h,p<<8|g),h+=4;O++}R<i.length?(v=f,setTimeout(x,Hs._dly)):t(l)})()},toBlob(e,t){this.toArrayBuffer(e,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Xe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},dc={[Xe.CHROME]:16384,[Xe.FIREFOX]:11180,[Xe.DESKTOP_SAFARI]:16384,[Xe.IE]:8192,[Xe.IOS]:4096,[Xe.ETC]:8192};const Qr=typeof window<"u",Gs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,zn=Qr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),hc=(Qr||Gs)&&(zn&&zn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qs=(Qr||Gs)&&(zn&&zn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Zr(e,t,n=Date.now()){return new Promise((r=>{const o=e.split(","),s=o[0].match(/:(.*?);/)[1],i=globalThis.atob(o[1]);let a=i.length;const c=new Uint8Array(a);for(;a--;)c[a]=i.charCodeAt(a);const d=new Blob([c],{type:s});d.name=t,d.lastModified=n,r(d)}))}function Ws(e){return new Promise(((t,n)=>{const r=new qs;r.onload=()=>t(r.result),r.onerror=o=>n(o),r.readAsDataURL(e)}))}function Ys(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=o=>n(o),r.src=e}))}function $t(){if($t.cachedResult!==void 0)return $t.cachedResult;let e=Xe.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Xe.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Xe.IOS:/Safari/i.test(t)?e=Xe.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Xe.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Xe.IE),$t.cachedResult=e,$t.cachedResult}function Vs(e,t){const n=$t(),r=dc[n];let o=e,s=t,i=o*s;const a=o>s?s/o:o/s;for(;i>r*r;){const c=(r+o)/2,d=(r+s)/2;c<d?(s=d,o=d*a):(s=c*a,o=c),i=o*s}return{width:o,height:s}}function er(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function Xs(e,t){const{width:n,height:r}=Vs(e.width,e.height),[o,s]=er(n,r);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,o.width,o.height)),s.drawImage(e,0,0,o.width,o.height),o}function Dn(){return Dn.cachedResult!==void 0||(Dn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Dn.cachedResult}function Hn(e,t={}){return new Promise((function(n,r){let o,s;var i=function(){try{return s=Xs(o,t.fileType||e.type),n([o,s])}catch(c){return r(c)}},a=function(c){try{var d=function(l){try{throw l}catch(u){return r(u)}};try{let l;return Ws(e).then((function(u){try{return l=u,Ys(l).then((function(f){try{return o=f,(function(){try{return i()}catch(h){return r(h)}})()}catch(h){return d(h)}}),d)}catch(f){return d(f)}}),d)}catch(l){d(l)}}catch(l){return r(l)}};try{if(Dn()||[Xe.DESKTOP_SAFARI,Xe.MOBILE_SAFARI].includes($t()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(c){try{return o=c,i()}catch{return a()}}),a)}catch{a()}}))}function Gn(e,t,n,r,o=1){return new Promise((function(s,i){let a;if(t==="image/png"){let d,l,u;return d=e.getContext("2d"),{data:l}=d.getImageData(0,0,e.width,e.height),u=at.encode([l.buffer],e.width,e.height,4096*o),a=new Blob([u],{type:t}),a.name=n,a.lastModified=r,c.call(this)}{let d=function(){return c.call(this)};if(t==="image/bmp")return new Promise((l=>Hs.toBlob(e,l))).then((function(l){try{return a=l,a.name=n,a.lastModified=r,d.call(this)}catch(u){return i(u)}}).bind(this),i);{let l=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then((function(u){try{return a=u,a.name=n,a.lastModified=r,l.call(this)}catch(f){return i(f)}}).bind(this),i);{let u;return u=e.toDataURL(t,o),Zr(u,n,r).then((function(f){try{return a=f,l.call(this)}catch(h){return i(h)}}).bind(this),i)}}}function c(){return s(a)}}))}function mt(e){e.width=0,e.height=0}function Xt(){return new Promise((function(e,t){let n,r,o,s;return Xt.cachedResult!==void 0?e(Xt.cachedResult):Zr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(i){try{return n=i,Hn(n).then((function(a){try{return r=a[1],Gn(r,n.type,n.name,n.lastModified).then((function(c){try{return o=c,mt(r),Hn(o).then((function(d){try{return s=d[0],Xt.cachedResult=s.width===1&&s.height===2,e(Xt.cachedResult)}catch(l){return t(l)}}),t)}catch(d){return t(d)}}),t)}catch(c){return t(c)}}),t)}catch(a){return t(a)}}),t)}))}function Ks(e){return new Promise(((t,n)=>{const r=new qs;r.onload=o=>{const s=new DataView(o.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const i=s.byteLength;let a=2;for(;a<i;){if(s.getUint16(a+2,!1)<=8)return t(-1);const c=s.getUint16(a,!1);if(a+=2,c==65505){if(s.getUint32(a+=2,!1)!=1165519206)return t(-1);const d=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,d);const l=s.getUint16(a,d);a+=2;for(let u=0;u<l;u++)if(s.getUint16(a+12*u,d)==274)return t(s.getUint16(a+12*u+8,d))}else{if((65280&c)!=65280)break;a+=s.getUint16(a,!1)}}return t(-1)},r.onerror=o=>n(o),r.readAsArrayBuffer(e)}))}function Qs(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:o}=t;let s,i=e;return isFinite(o)&&(n>o||r>o)&&([i,s]=er(n,r),n>r?(i.width=o,i.height=r/n*o):(i.width=n/r*o,i.height=o),s.drawImage(e,0,0,i.width,i.height),mt(e)),i}function Zs(e,t){const{width:n}=e,{height:r}=e,[o,s]=er(n,r);switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,r),mt(e),o}function Uo(e,t,n=0){return new Promise((function(r,o){let s,i,a,c,d,l,u,f,h,p,g,b,v,O,T,R,M,_,k,x;function y(A=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=A,t.onProgress(Math.min(s,100))}function E(A){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(A,s),100),t.onProgress(s)}return s=n,i=t.maxIteration||10,a=1024*t.maxSizeMB*1024,y(),Hn(e,t).then((function(A){try{return[,c]=A,y(),d=Qs(c,t),y(),new Promise((function(S,L){var C;if(!(C=t.exifOrientation))return Ks(e).then((function(w){try{return C=w,D.call(this)}catch(m){return L(m)}}).bind(this),L);function D(){return S(C)}return D.call(this)})).then((function(S){try{return l=S,y(),Xt().then((function(L){try{return u=L?d:Zs(d,l),y(),f=t.initialQuality||1,h=t.fileType||e.type,Gn(u,h,e.name,e.lastModified,f).then((function(C){try{{let w=function(){if(i--&&(T>a||T>v)){let U,$;return U=x?.95*k.width:k.width,$=x?.95*k.height:k.height,[M,_]=er(U,$),_.drawImage(k,0,0,U,$),f*=h==="image/png"?.85:.95,Gn(M,h,e.name,e.lastModified,f).then((function(F){try{return R=F,mt(k),k=M,T=R.size,E(Math.min(99,Math.floor((O-T)/(O-a)*100))),w}catch(I){return o(I)}}),o)}return[1]},m=function(){return mt(k),mt(M),mt(d),mt(u),mt(c),E(100),r(R)};if(p=C,y(),g=p.size>a,b=p.size>e.size,!g&&!b)return E(100),r(p);var D;return v=e.size,O=p.size,T=O,k=u,x=!t.alwaysKeepResolution&&g,(D=(function(U){for(;U;){if(U.then)return void U.then(D,o);try{if(U.pop){if(U.length)return U.pop()?m.call(this):U;U=w}else U=U.call(this)}catch($){return o($)}}}).bind(this))(w)}}catch(w){return o(w)}}).bind(this),o)}catch(C){return o(C)}}).bind(this),o)}catch(L){return o(L)}}).bind(this),o)}catch(S){return o(S)}}).bind(this),o)}))}const pc=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let wr;function gc(e,t){return new Promise(((n,r)=>{wr||(wr=(function(i){const a=[];return a.push(i),URL.createObjectURL(new Blob(a))})(pc));const o=new Worker(wr);o.addEventListener("message",(function(i){if(t.signal&&t.signal.aborted)o.terminate();else if(i.data.progress===void 0){if(i.data.error)return r(new Error(i.data.error)),void o.terminate();n(i.data.file),o.terminate()}else t.onProgress(i.data.progress)})),o.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function ze(e,t){return new Promise((function(n,r){let o,s,i,a,c,d;if(o={...t},i=0,{onProgress:a}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=h=>{i=h,typeof a=="function"&&a(i)},!(e instanceof Blob||e instanceof hc))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return Uo(e,o).then((function(h){try{return s=h,f.call(this)}catch(p){return r(p)}}).bind(this),r);var l=(function(){try{return f.call(this)}catch(h){return r(h)}}).bind(this),u=function(h){try{return Uo(e,o).then((function(p){try{return s=p,l()}catch(g){return r(g)}}),r)}catch(p){return r(p)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",gc(e,o).then((function(h){try{return s=h,l()}catch{return u()}}),u)}catch{u()}function f(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{o.preserveExif&&e.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(s=zs(e,s))}catch{}return n(s)}}))}ze.getDataUrlFromFile=Ws,ze.getFilefromDataUrl=Zr,ze.loadImage=Ys,ze.drawImageInCanvas=Xs,ze.drawFileInCanvas=Hn,ze.canvasToFile=Gn,ze.getExifOrientation=Ks,ze.handleMaxWidthOrHeight=Qs,ze.followExifOrientation=Zs,ze.cleanupCanvasMemory=mt,ze.isAutoOrientationInBrowser=Xt,ze.approximateBelowMaximumCanvasSizeOfBrowser=Vs,ze.copyExifWithoutOrientation=zs,ze.getBrowserName=$t,ze.version="2.0.2";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),No=e=>{const t=yc(e);return t.charAt(0).toUpperCase()+t.slice(1)},Js=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),vc=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},c)=>B.createElement("svg",{ref:c,...wc,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Js("lucide",o),...!s&&!vc(a)&&{"aria-hidden":"true"},...a},[...i.map(([d,l])=>B.createElement(d,l)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(e,t)=>{const n=B.forwardRef(({className:r,...o},s)=>B.createElement(xc,{ref:s,iconNode:t,className:Js(`lucide-${mc(No(e))}`,`lucide-${e}`,r),...o}));return n.displayName=No(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_c=Ht("copy",bc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cc=Ht("download",Sc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Ec=Ht("move-down",Ac);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Rc=Ht("move-up",Ic);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],kc=Ht("redo",Lc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Oc=Ht("trash",Tc);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],$c=Ht("undo",Pc),Mt=J.button`
  text-align: center;
  padding: 8px;
  cursor: ${({variant:e})=>e==="disabled"?"not-allowed":"pointer"};
  border: none;
  font-size: 16px;

  width: ${({$full:e})=>e?"100%":"auto"};
  box-sizing: border-box;

  border: ${({theme:e,variant:t})=>{switch(t){case"outline":return`1px solid ${e.colors.primary}`}}};
  
  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.white;case"disabled":return e.colors.white;case"outline":return e.colors.primaryText;default:return e.colors.white}}};
  
  background-color: ${({theme:e,variant:t="primary"})=>{switch(t){case"warning":return e.colors.warning;case"disabled":return e.colors.disabled;case"outline":return e.colors.white;default:return e.colors.primary}}};
  
  opacity: ${({variant:e})=>e==="disabled"?.6:1};
  pointer-events: ${({variant:e})=>e==="disabled"?"none":"auto"};
  
  @media (max-width: 768px) {
    margin-top: 0;
  }
  
  &:hover {
    opacity: ${({variant:e})=>e==="disabled"?.6:.9};
    background-color: ${({theme:e,variant:t})=>{switch(t){case"outline":return e.colors.primary}}};

  color: ${({theme:e,variant:t="primary"})=>{switch(t){case"outline":return e.colors.white}}};
  }
`,uf=J.h1`
  font-size: 36px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;J.h2`
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;J.h3`
  font-size: 24px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`;const Dc=J.h4`
  font-size: 20px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
  margin-bottom: 12px;
`,ei=J.h5`
  font-size: 16px;
  font-weight: 600;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,Je=J.p`
  font-size: ${({size:e="medium"})=>{switch(e){case"small":return"14px";case"large":return"18px";default:return"16px"}}};
  font-weight: 400;
  line-height: 1.5;
  color: ${({theme:e,variant:t="primary"})=>t==="secondary"?e.colors.secondaryText:e.colors.primaryText};
  margin: 0;
`,ff=J(Je).attrs({as:"p"})`
  font-size: 12px;
  margin-bottom: 16px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,nn=J(Je).attrs({as:"label"})`
  font-weight: 500;
  display: block;
  margin-bottom: 4px;
  color: ${({theme:e})=>e.colors.white};
  background-color: ${({theme:e})=>e.colors.primary};
  width: fit-content;
  margin-bottom: 4px;
`;J(Je).attrs({as:"span"})`
  font-size: 12px;
  opacity: 0.7;
`;const df=J.a`
  font-size: 12px;
  color: ${({theme:e})=>e.colors.primary};
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,Jr=B.forwardRef((e,t)=>{const n=Le.c(32);let r,o,s,i,a,c;if(n[0]!==e){const{id:R,label:M,min:_,max:k,refresh:x,defaultValue:y,...E}=e;o=R,s=M,a=_,i=k,r=y,c=E,n[0]=e,n[1]=r,n[2]=o,n[3]=s,n[4]=i,n[5]=a,n[6]=c}else r=n[1],o=n[2],s=n[3],i=n[4],a=n[5],c=n[6];const{loading:d}=zt(),[l,u]=B.useState(r??c.value??a??0);let f,h;n[7]!==c.value?(f=()=>{c.value!==void 0&&u(c.value)},h=[c.value],n[7]=c.value,n[8]=f,n[9]=h):(f=n[8],h=n[9]),B.useEffect(f,h);let p;n[10]!==o||n[11]!==s?(p=z.jsx(nn,{htmlFor:o,children:s}),n[10]=o,n[11]=s,n[12]=p):p=n[12];let g;n[13]!==l?(g=z.jsx(Uc,{children:l}),n[13]=l,n[14]=g):g=n[14];let b;n[15]!==p||n[16]!==g?(b=z.jsxs(Mc,{children:[p,g]}),n[15]=p,n[16]=g,n[17]=b):b=n[17];let v;n[18]!==c?(v=R=>{u(parseFloat(R.target.value)),c.onChange?.(R)},n[18]=c,n[19]=v):v=n[19];let O;n[20]!==r||n[21]!==o||n[22]!==d||n[23]!==i||n[24]!==a||n[25]!==t||n[26]!==c||n[27]!==v?(O=z.jsx(Nc,{onChange:v,disabled:d,ref:t,id:o,type:"range",min:a,max:i,defaultValue:r,...c}),n[20]=r,n[21]=o,n[22]=d,n[23]=i,n[24]=a,n[25]=t,n[26]=c,n[27]=v,n[28]=O):O=n[28];let T;return n[29]!==b||n[30]!==O?(T=z.jsxs(jc,{children:[b,O]}),n[29]=b,n[30]=O,n[31]=T):T=n[31],T});Jr.displayName="Slider";const Mc=J.div`
    display: flex;
    justify-content: space-between;
    width: 100%;
    align-items: center;
`,jc=J.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  color: #333;
  flex-wrap: wrap;
  height: 56px;
  align-content: end;
`,Uc=J.span`
  padding: 0;
  border: none;
  height: 16px;
  max-width: 48px;
  color: #333;
  text-align: end;
  background-color: transparent;
  -moz-appearance: textfield;
  -webkit-appearance: textfield;
  appearance: textfield;

  &::-webkit-inner-spin-button,
  &::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  &:focus {
    border-radius: 0;
    outline: none;
    font-weight: 700;
    border-bottom: 1px solid #333;
    margin-bottom: -1px;
  }
`,Nc=J.input`
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  height: 24px;
  background: transparent;
  outline: none;
  margin: 2px 0 0;
  flex-basis: 100%;
  position: relative;
  cursor: pointer;

  &:before {
    content: "";
    position: absolute;
    top: 14px;
    left: 0;
    right: 0;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: height 0.2s ease, opacity 0.2s ease;
    pointer-events: none;
  }

  &:focus:before,
  &:hover:before {
    height: 1px;
    opacity: 1;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    border-left: 1px solid #333;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: #f9f8f5;
    margin-top: -4px;
    position: relative;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-webkit-slider-thumb,
  &:hover::-webkit-slider-thumb {
    opacity: 1;
  }

  &::-moz-range-track {
    width: 100%;
    height: 1px;
    background: #333;
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-track,
  &:hover::-moz-range-track {
    opacity: 1;
  }

  &::-moz-range-thumb {
    border: none;
    height: 10px;
    width: 1px;
    border-radius: 0;
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
    transition: opacity 0.2s ease;
  }

  &:focus::-moz-range-thumb,
  &:hover::-moz-range-thumb {
    opacity: 1;
  }
`,Fc=()=>{const{state:e}=je(),{start:t,stop:n}=zt(),[r,o]=B.useState(!1),s=B.useRef(null),i=async a=>{if(!e.imgCtx)return;if(!e.ftype){console.error("uploaded image don't have a FileType");return}const c=e.ftype;o(!0),t();const d=await new Promise(v=>{e.imgCtx.canvas.toBlob(O=>{const T=new File([O],`out.${c.ext}`,{type:c.mime});v(T)},c.mime,a)});a===100&&(a=0);const f={maxSizeMB:d.size/(1024*1024)*a/100/1024,maxWidthOrHeight:void 0,useWebWorker:!0,alwaysKeepResolution:!0,initialQuality:a/100},h=await ze(d,f),p=await Pa(await h.arrayBuffer()),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`${p}.gif`,b.click(),URL.revokeObjectURL(g),n(),o(!1)};return z.jsxs(Bs,{direction:"col",children:[z.jsx(Jr,{id:"imageQuality",label:"Quality",ref:s,type:"range",step:1,min:10,max:100,defaultValue:100}),z.jsx(Mt,{variant:`${r?"disabled":"primary"}`,disabled:r,$full:!0,type:"button",onClick:()=>i(Number(s.current?.value)),children:r?"Exporting...":z.jsxs($n,{children:[z.jsx(Cc,{size:15}),z.jsx("span",{children:"Export"})]})})]})},Bc=B.lazy(()=>ac(()=>import("./gif-export-DSFwuM37.js"),[])),hf=()=>{const e=Le.c(22),{state:t}=je(),[n,r]=B.useState("Image");if(!t.imgCtx){let M;return e[0]===Symbol.for("react.memo_cache_sentinel")?(M=z.jsx("div",{}),e[0]=M):M=e[0],M}let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=M=>{r(M)},e[1]=o):o=e[1];const s=o;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=z.jsx(ei,{style:{marginBottom:"12px"},children:"Export"}),e[2]=i):i=e[2];let a,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(a={marginBottom:"12px"},c=z.jsx(Je,{variant:"secondary",size:"small",children:"Output Format"}),e[3]=a,e[4]=c):(a=e[3],c=e[4]);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={cursor:"pointer"},e[5]=d):d=e[5];const l=n==="Image"?"primary":"secondary";let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s("Image"),e[6]=u):u=e[6];let f;e[7]!==l?(f=z.jsx(Je,{style:d,size:"small",variant:l,onClick:u,children:"Image"}),e[7]=l,e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=z.jsx("span",{children:"/"}),e[9]=h):h=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p={cursor:"pointer"},e[10]=p):p=e[10];const g=n==="GIF"?"primary":"secondary";let b;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>s("GIF"),e[11]=b):b=e[11];let v;e[12]!==g?(v=z.jsx(Je,{style:p,size:"small",variant:g,onClick:b,children:"GIF"}),e[12]=g,e[13]=v):v=e[13];let O;e[14]!==v||e[15]!==f?(O=z.jsxs(tn,{style:a,children:[c,z.jsxs(Hc,{children:[f,h,v]})]}),e[14]=v,e[15]=f,e[16]=O):O=e[16];let T;e[17]!==n?(T=z.jsx(B.Suspense,{fallback:"Loading...",children:n==="Image"?z.jsx(Fc,{}):z.jsx(Bc,{})}),e[17]=n,e[18]=T):T=e[18];let R;return e[19]!==O||e[20]!==T?(R=z.jsxs(zc,{id:"exportContainer",children:[i,O,T]}),e[19]=O,e[20]=T,e[21]=R):R=e[21],R},zc=J.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,Hc=J.div`
  display: flex;
  align-items: center;
  gap: 0 12px;
`,Fo=e=>{const t=Le.c(8);let n;t[0]!==e?({...n}=e,t[0]=e,t[1]=n):n=t[1];const r=B.useRef(null);let o;t[2]!==n?(o=d=>{n.onClick&&n?.onClick(d);const l=r.current;l&&(l.checked=!l.checked)},t[2]=n,t[3]=o):o=t[3];const s=o;let i,a;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=z.jsx(qc,{ref:r,type:"checkbox"}),a=z.jsx(Wc,{}),t[4]=i,t[5]=a):(i=t[4],a=t[5]);let c;return t[6]!==s?(c=z.jsxs(Gc,{onClick:s,children:[i,a]}),t[6]=s,t[7]=c):c=t[7],c},Gc=J.div`
  position: relative;
  display: inline-block;
  width: 60px;
  height: 24px;
`,qc=J.input`
  display: none;
  
  &:checked + label {
    background-color: ${({theme:e})=>e.colors.primary};
  }
  
  &:checked + label::before {
    transform: translateX(26px);
  }
`,Wc=J.label`
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .3s;
  
  &::before {
    position: absolute;
    content: "";
    height: 20px;
    width: 30px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s;
  }
`,pf=()=>{const e=Le.c(16),{dispatch:t,state:n}=je();let r;e[0]!==t||e[1]!==n.mode?(r=()=>{let h;n.mode==="edit"?h="move":h="edit",t({type:X.UpdateState,payload:{key:"mode",value:h}})},e[0]=t,e[1]=n.mode,e[2]=r):r=e[2];const o=r;let s;e[3]!==t||e[4]!==n.hideSelectionOverlay?(s=()=>{t({type:X.UpdateState,payload:{key:"hideSelectionOverlay",value:!n.hideSelectionOverlay}})},e[3]=t,e[4]=n.hideSelectionOverlay,e[5]=s):s=e[5];const i=s;let a;e[6]===Symbol.for("react.memo_cache_sentinel")?(a=z.jsx(ei,{style:{marginBottom:"12px"},children:"Global Configurations"}),e[6]=a):a=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=z.jsx(Je,{size:"small",variant:"secondary",children:"Enable move mode"}),e[7]=c):c=e[7];let d;e[8]!==o?(d=z.jsxs(tn,{children:[c,z.jsx(Fo,{onClick:o})]}),e[8]=o,e[9]=d):d=e[9];let l;e[10]===Symbol.for("react.memo_cache_sentinel")?(l=z.jsx(Je,{size:"small",variant:"secondary",children:"Hide Selection Overlay"}),e[10]=l):l=e[10];let u;e[11]!==i?(u=z.jsxs(tn,{children:[l,z.jsx(Fo,{onClick:i})]}),e[11]=i,e[12]=u):u=e[12];let f;return e[13]!==d||e[14]!==u?(f=z.jsxs(Yc,{children:[a,z.jsxs(Bs,{direction:"col",children:[d,u]})]}),e[13]=d,e[14]=u,e[15]=f):f=e[15],f},Yc=J.div`
  padding: 24px;
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
`,rn=Math.min,jt=Math.max,qn=Math.round,In=Math.floor,yt=e=>({x:e,y:e}),Vc={left:"right",right:"left",bottom:"top",top:"bottom"},Xc={start:"end",end:"start"};function Mr(e,t,n){return jt(e,rn(t,n))}function xn(e,t){return typeof e=="function"?e(t):e}function Ft(e){return e.split("-")[0]}function bn(e){return e.split("-")[1]}function ti(e){return e==="x"?"y":"x"}function eo(e){return e==="y"?"height":"width"}const Kc=new Set(["top","bottom"]);function Rt(e){return Kc.has(Ft(e))?"y":"x"}function to(e){return ti(Rt(e))}function Qc(e,t,n){n===void 0&&(n=!1);const r=bn(e),o=to(e),s=eo(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Wn(i)),[i,Wn(i)]}function Zc(e){const t=Wn(e);return[jr(e),t,jr(t)]}function jr(e){return e.replace(/start|end/g,t=>Xc[t])}const Bo=["left","right"],zo=["right","left"],Jc=["top","bottom"],el=["bottom","top"];function tl(e,t,n){switch(e){case"top":case"bottom":return n?t?zo:Bo:t?Bo:zo;case"left":case"right":return t?Jc:el;default:return[]}}function nl(e,t,n,r){const o=bn(e);let s=tl(Ft(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(jr)))),s}function Wn(e){return e.replace(/left|right|bottom|top/g,t=>Vc[t])}function rl(e){return{top:0,right:0,bottom:0,left:0,...e}}function ni(e){return typeof e!="number"?rl(e):{top:e,right:e,bottom:e,left:e}}function Yn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Ho(e,t,n){let{reference:r,floating:o}=e;const s=Rt(t),i=to(t),a=eo(i),c=Ft(t),d=s==="y",l=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(c){case"top":h={x:l,y:r.y-o.height};break;case"bottom":h={x:l,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(bn(t)){case"start":h[i]-=f*(n&&d?-1:1);break;case"end":h[i]+=f*(n&&d?-1:1);break}return h}const ol=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:u}=Ho(d,r,c),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:O,y:T,data:R,reset:M}=await v({x:l,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:d,platform:i,elements:{reference:e,floating:t}});l=O??l,u=T??u,h={...h,[b]:{...h[b],...R}},M&&p<=50&&(p++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(d=M.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:l,y:u}=Ho(d,f,c)),g=-1)}return{x:l,y:u,placement:f,strategy:o,middlewareData:h}};async function ri(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:f=!1,padding:h=0}=xn(t,e),p=ni(h),b=a[f?u==="floating"?"reference":"floating":u],v=Yn(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:l,strategy:c})),O=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Yn(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:T,strategy:c}):O);return{top:(v.top-M.top+p.top)/R.y,bottom:(M.bottom-v.bottom+p.bottom)/R.y,left:(v.left-M.left+p.left)/R.x,right:(M.right-v.right+p.right)/R.x}}const sl=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:c}=t,{element:d,padding:l=0}=xn(e,t)||{};if(d==null)return{};const u=ni(l),f={x:n,y:r},h=to(o),p=eo(h),g=await i.getDimensions(d),b=h==="y",v=b?"top":"left",O=b?"bottom":"right",T=b?"clientHeight":"clientWidth",R=s.reference[p]+s.reference[h]-f[h]-s.floating[p],M=f[h]-s.reference[h],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=_?_[T]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=a.floating[T]||s.floating[p]);const x=R/2-M/2,y=k/2-g[p]/2-1,E=rn(u[v],y),A=rn(u[O],y),S=E,L=k-g[p]-A,C=k/2-g[p]/2+x,D=Mr(S,C,L),w=!c.arrow&&bn(o)!=null&&C!==D&&s.reference[p]/2-(C<S?E:A)-g[p]/2<0,m=w?C<S?C-S:C-L:0;return{[h]:f[h]+m,data:{[h]:D,centerOffset:C-D-m,...w&&{alignmentOffset:m}},reset:w}}}),il=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:c,elements:d}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=xn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ft(o),O=Rt(a),T=Ft(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=f||(T||!g?[Wn(a)]:Zc(a)),_=p!=="none";!f&&_&&M.push(...nl(a,g,p,R));const k=[a,...M],x=await ri(t,b),y=[];let E=((r=s.flip)==null?void 0:r.overflows)||[];if(l&&y.push(x[v]),u){const C=Qc(o,i,R);y.push(x[C[0]],x[C[1]])}if(E=[...E,{placement:o,overflows:y}],!y.every(C=>C<=0)){var A,S;const C=(((A=s.flip)==null?void 0:A.index)||0)+1,D=k[C];if(D&&(!(u==="alignment"?O!==Rt(D):!1)||E.every(U=>Rt(U.placement)===O?U.overflows[0]>0:!0)))return{data:{index:C,overflows:E},reset:{placement:D}};let w=(S=E.filter(m=>m.overflows[0]<=0).sort((m,U)=>m.overflows[1]-U.overflows[1])[0])==null?void 0:S.placement;if(!w)switch(h){case"bestFit":{var L;const m=(L=E.filter(U=>{if(_){const $=Rt(U.placement);return $===O||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:L[0];m&&(w=m);break}case"initialPlacement":w=a;break}if(o!==w)return{reset:{placement:w}}}return{}}}},al=new Set(["left","top"]);async function cl(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ft(n),a=bn(n),c=Rt(n)==="y",d=al.has(i)?-1:1,l=s&&c?-1:1,u=xn(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*l,y:f*d}:{x:f*d,y:h*l}}const ll=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,c=await cl(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},ul=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:v,y:O}=b;return{x:v,y:O}}},...c}=xn(e,t),d={x:n,y:r},l=await ri(t,c),u=Rt(Ft(o)),f=ti(u);let h=d[f],p=d[u];if(s){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",O=h+l[b],T=h-l[v];h=Mr(O,h,T)}if(i){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",O=p+l[b],T=p-l[v];p=Mr(O,p,T)}const g=a.fn({...t,[f]:h,[u]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[u]:i}}}}}};function tr(){return typeof window<"u"}function an(e){return oi(e)?(e.nodeName||"").toLowerCase():"#document"}function et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wt(e){var t;return(t=(oi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oi(e){return tr()?e instanceof Node||e instanceof et(e).Node:!1}function lt(e){return tr()?e instanceof Element||e instanceof et(e).Element:!1}function vt(e){return tr()?e instanceof HTMLElement||e instanceof et(e).HTMLElement:!1}function Go(e){return!tr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof et(e).ShadowRoot}const fl=new Set(["inline","contents"]);function _n(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ut(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!fl.has(o)}const dl=new Set(["table","td","th"]);function hl(e){return dl.has(an(e))}const pl=[":popover-open",":modal"];function nr(e){return pl.some(t=>{try{return e.matches(t)}catch{return!1}})}const gl=["transform","translate","scale","rotate","perspective"],ml=["transform","translate","scale","rotate","perspective","filter"],yl=["paint","layout","strict","content"];function no(e){const t=ro(),n=lt(e)?ut(e):e;return gl.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ml.some(r=>(n.willChange||"").includes(r))||yl.some(r=>(n.contain||"").includes(r))}function vl(e){let t=kt(e);for(;vt(t)&&!on(t);){if(no(t))return t;if(nr(t))return null;t=kt(t)}return null}function ro(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wl=new Set(["html","body","#document"]);function on(e){return wl.has(an(e))}function ut(e){return et(e).getComputedStyle(e)}function rr(e){return lt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kt(e){if(an(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Go(e)&&e.host||wt(e);return Go(t)?t.host:t}function si(e){const t=kt(e);return on(t)?e.ownerDocument?e.ownerDocument.body:e.body:vt(t)&&_n(t)?t:si(t)}function yn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=si(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=et(o);if(s){const a=Ur(i);return t.concat(i,i.visualViewport||[],_n(o)?o:[],a&&n?yn(a):[])}return t.concat(o,yn(o,[],n))}function Ur(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ii(e){const t=ut(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=vt(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=qn(n)!==s||qn(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function oo(e){return lt(e)?e:e.contextElement}function Kt(e){const t=oo(e);if(!vt(t))return yt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=ii(t);let i=(s?qn(n.width):n.width)/r,a=(s?qn(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const xl=yt(0);function ai(e){const t=et(e);return!ro()||!t.visualViewport?xl:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bl(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==et(e)?!1:t}function Bt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=oo(e);let i=yt(1);t&&(r?lt(r)&&(i=Kt(r)):i=Kt(e));const a=bl(s,n,r)?ai(s):yt(0);let c=(o.left+a.x)/i.x,d=(o.top+a.y)/i.y,l=o.width/i.x,u=o.height/i.y;if(s){const f=et(s),h=r&&lt(r)?et(r):r;let p=f,g=Ur(p);for(;g&&r&&h!==p;){const b=Kt(g),v=g.getBoundingClientRect(),O=ut(g),T=v.left+(g.clientLeft+parseFloat(O.paddingLeft))*b.x,R=v.top+(g.clientTop+parseFloat(O.paddingTop))*b.y;c*=b.x,d*=b.y,l*=b.x,u*=b.y,c+=T,d+=R,p=et(g),g=Ur(p)}}return Yn({width:l,height:u,x:c,y:d})}function or(e,t){const n=rr(e).scrollLeft;return t?t.left+n:Bt(wt(e)).left+n}function ci(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-or(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function _l(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=wt(r),a=t?nr(t.floating):!1;if(r===i||a&&s)return n;let c={scrollLeft:0,scrollTop:0},d=yt(1);const l=yt(0),u=vt(r);if((u||!u&&!s)&&((an(r)!=="body"||_n(i))&&(c=rr(r)),vt(r))){const h=Bt(r);d=Kt(r),l.x=h.x+r.clientLeft,l.y=h.y+r.clientTop}const f=i&&!u&&!s?ci(i,c):yt(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+l.x+f.x,y:n.y*d.y-c.scrollTop*d.y+l.y+f.y}}function Sl(e){return Array.from(e.getClientRects())}function Cl(e){const t=wt(e),n=rr(e),r=e.ownerDocument.body,o=jt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=jt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+or(e);const a=-n.scrollTop;return ut(r).direction==="rtl"&&(i+=jt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}const qo=25;function Al(e,t){const n=et(e),r=wt(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,c=0;if(o){s=o.width,i=o.height;const l=ro();(!l||l&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}const d=or(r);if(d<=0){const l=r.ownerDocument,u=l.body,f=getComputedStyle(u),h=l.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-u.clientWidth-h);p<=qo&&(s-=p)}else d<=qo&&(s+=d);return{width:s,height:i,x:a,y:c}}const El=new Set(["absolute","fixed"]);function Il(e,t){const n=Bt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=vt(e)?Kt(e):yt(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,c=o*s.x,d=r*s.y;return{width:i,height:a,x:c,y:d}}function Wo(e,t,n){let r;if(t==="viewport")r=Al(e,n);else if(t==="document")r=Cl(wt(e));else if(lt(t))r=Il(t,n);else{const o=ai(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Yn(r)}function li(e,t){const n=kt(e);return n===t||!lt(n)||on(n)?!1:ut(n).position==="fixed"||li(n,t)}function Rl(e,t){const n=t.get(e);if(n)return n;let r=yn(e,[],!1).filter(a=>lt(a)&&an(a)!=="body"),o=null;const s=ut(e).position==="fixed";let i=s?kt(e):e;for(;lt(i)&&!on(i);){const a=ut(i),c=no(i);!c&&a.position==="fixed"&&(o=null),(s?!c&&!o:!c&&a.position==="static"&&!!o&&El.has(o.position)||_n(i)&&!c&&li(e,i))?r=r.filter(l=>l!==i):o=a,i=kt(i)}return t.set(e,r),r}function Ll(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?nr(t)?[]:Rl(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((d,l)=>{const u=Wo(t,l,o);return d.top=jt(u.top,d.top),d.right=rn(u.right,d.right),d.bottom=rn(u.bottom,d.bottom),d.left=jt(u.left,d.left),d},Wo(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kl(e){const{width:t,height:n}=ii(e);return{width:t,height:n}}function Tl(e,t,n){const r=vt(t),o=wt(t),s=n==="fixed",i=Bt(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=yt(0);function d(){c.x=or(o)}if(r||!r&&!s)if((an(t)!=="body"||_n(o))&&(a=rr(t)),r){const h=Bt(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&d();s&&!r&&o&&d();const l=o&&!r&&!s?ci(o,a):yt(0),u=i.left+a.scrollLeft-c.x-l.x,f=i.top+a.scrollTop-c.y-l.y;return{x:u,y:f,width:i.width,height:i.height}}function xr(e){return ut(e).position==="static"}function Yo(e,t){if(!vt(e)||ut(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wt(e)===n&&(n=n.ownerDocument.body),n}function ui(e,t){const n=et(e);if(nr(e))return n;if(!vt(e)){let o=kt(e);for(;o&&!on(o);){if(lt(o)&&!xr(o))return o;o=kt(o)}return n}let r=Yo(e,t);for(;r&&hl(r)&&xr(r);)r=Yo(r,t);return r&&on(r)&&xr(r)&&!no(r)?n:r||vl(e)||n}const Ol=async function(e){const t=this.getOffsetParent||ui,n=this.getDimensions,r=await n(e.floating);return{reference:Tl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pl(e){return ut(e).direction==="rtl"}const $l={convertOffsetParentRelativeRectToViewportRelativeRect:_l,getDocumentElement:wt,getClippingRect:Ll,getOffsetParent:ui,getElementRects:Ol,getClientRects:Sl,getDimensions:kl,getScale:Kt,isElement:lt,isRTL:Pl};function fi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Dl(e,t){let n=null,r;const o=wt(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:l,top:u,width:f,height:h}=d;if(a||t(),!f||!h)return;const p=In(u),g=In(o.clientWidth-(l+f)),b=In(o.clientHeight-(u+h)),v=In(l),T={rootMargin:-p+"px "+-g+"px "+-b+"px "+-v+"px",threshold:jt(0,rn(1,c))||1};let R=!0;function M(_){const k=_[0].intersectionRatio;if(k!==c){if(!R)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!fi(d,e.getBoundingClientRect())&&i(),R=!1}try{n=new IntersectionObserver(M,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,T)}n.observe(e)}return i(!0),s}function Ml(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=oo(e),l=o||s?[...d?yn(d):[],...yn(t)]:[];l.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const u=d&&a?Dl(d,n):null;let f=-1,h=null;i&&(h=new ResizeObserver(v=>{let[O]=v;O&&O.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(t)})),n()}),d&&!c&&h.observe(d),h.observe(t));let p,g=c?Bt(e):null;c&&b();function b(){const v=Bt(e);g&&!fi(g,v)&&n(),g=v,p=requestAnimationFrame(b)}return n(),()=>{var v;l.forEach(O=>{o&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),u?.(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const jl=ll,Ul=ul,Nl=il,Fl=sl,Vo=(e,t,n)=>{const r=new Map,o={platform:$l,...n},s={...o.platform,_c:r};return ol(e,t,{...o,platform:s})};var br={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Xo;function Bl(){return Xo||(Xo=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(s=o(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var i="";for(var a in s)t.call(s,a)&&s[a]&&(i=o(i,a));return i}function o(s,i){return i?s?s+" "+i:s+i:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(br)),br.exports}var zl=Bl();const Nr=us(zl);var Ko={};const Hl="react-tooltip-core-styles",Gl="react-tooltip-base-styles",Qo={core:!1,base:!1};function Zo({css:e,id:t=Gl,type:n="base",ref:r}){var o,s;if(!e||typeof document>"u"||Qo[n]||n==="core"&&typeof process<"u"&&(!((o=process==null?void 0:Ko)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:Ko)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Hl),r||(r={});const{insertAt:i}=r;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",i==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),Qo[n]=!0}const Jo=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:o=10,strategy:s="absolute",middlewares:i=[jl(Number(o)),Nl({fallbackAxisSideDirection:"start"}),Ul({padding:5})],border:a,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=i;return n?(d.push(Fl({element:n,padding:5})),Vo(e,t,{placement:r,strategy:s,middleware:d}).then((({x:l,y:u,placement:f,middlewareData:h})=>{var p,g;const b={left:`${l}px`,top:`${u}px`,border:a},{x:v,y:O}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},T=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&g!==void 0?g:"bottom",R=a&&{borderBottom:a,borderRight:a};let M=0;if(a){const _=`${a}`.match(/(\d+)px/);M=_?.[1]?Number(_[1]):1}return{tooltipStyles:b,tooltipArrowStyles:{left:v!=null?`${v}px`:"",top:O!=null?`${O}px`:"",right:"",bottom:"",...R,[T]:`-${c/2+M}px`},place:f}}))):Vo(e,t,{placement:"bottom",strategy:s,middleware:d}).then((({x:l,y:u,placement:f})=>({tooltipStyles:{left:`${l}px`,top:`${u}px`},tooltipArrowStyles:{},place:f})))},es=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),ts=(e,t,n)=>{let r=null;const o=function(...s){const i=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(i,t))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},ns=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Fr=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((o,s)=>Fr(o,t[s])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!ns(e)||!ns(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((o=>Fr(e[o],t[o])))},ql=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"}))},rs=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ql(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Wl=typeof window<"u"?B.useLayoutEffect:B.useEffect,rt=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Yl="DEFAULT_TOOLTIP_ID",Vl={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Xl=B.createContext({getTooltipData:()=>Vl});function di(e=Yl){return B.useContext(Xl).getTooltipData(e)}var Yt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},_r={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Kl=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:o="dark",anchorId:s,anchorSelect:i,place:a="top",offset:c=10,events:d=["hover"],openOnClick:l=!1,positionStrategy:u="absolute",middlewares:f,wrapper:h,delayShow:p=0,delayHide:g=0,float:b=!1,hidden:v=!1,noArrow:O=!1,clickable:T=!1,closeOnEsc:R=!1,closeOnScroll:M=!1,closeOnResize:_=!1,openEvents:k,closeEvents:x,globalCloseEvents:y,imperativeModeOnly:E,style:A,position:S,afterShow:L,afterHide:C,disableTooltip:D,content:w,contentWrapperRef:m,isOpen:U,defaultIsOpen:$=!1,setIsOpen:F,previousActiveAnchor:I,activeAnchor:P,setActiveAnchor:H,border:N,opacity:j,arrowColor:G,arrowSize:W=8,role:Z="tooltip"})=>{var Y;const ee=B.useRef(null),le=B.useRef(null),oe=B.useRef(null),He=B.useRef(null),Ue=B.useRef(null),[de,Ee]=B.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[ie,fe]=B.useState(!1),[xe,be]=B.useState(!1),[re,Ie]=B.useState(null),me=B.useRef(!1),ue=B.useRef(null),{anchorRefs:ke,setActiveAnchor:Ve}=di(t),ft=B.useRef(!1),[ye,Ke]=B.useState([]),Se=B.useRef(!1),Te=l||d.includes("click"),Ne=Te||k?.click||k?.dblclick||k?.mousedown,Ge=k?{...k}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!k&&Te&&Object.assign(Ge,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Oe=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&Te&&Object.assign(Oe,{mouseleave:!1,blur:!1,mouseout:!1});const ve=y?{...y}:{escape:R||!1,scroll:M||!1,resize:_||!1,clickOutsideAnchor:Ne||!1};E&&(Object.assign(Ge,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Oe,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ve,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Wl((()=>(Se.current=!0,()=>{Se.current=!1})),[]);const Pe=q=>{Se.current&&(q&&be(!0),setTimeout((()=>{Se.current&&(F?.(q),U===void 0&&fe(q))}),10))};B.useEffect((()=>{if(t){if(ie){Q(I);const K=q(P),ge=[...new Set([...K,t])].filter(Boolean).join(" ");P?.setAttribute("aria-describedby",ge)}else Q(P);return()=>{Q(P),Q(I)}}function q(K){var ge;return((ge=K?.getAttribute("aria-describedby"))===null||ge===void 0?void 0:ge.split(" "))||[]}function Q(K){const ge=q(K).filter(($e=>$e!==t));ge.length?K?.setAttribute("aria-describedby",ge.join(" ")):K?.removeAttribute("aria-describedby")}}),[P,ie,t,I]),B.useEffect((()=>{if(U===void 0)return()=>null;U&&be(!0);const q=setTimeout((()=>{fe(U)}),10);return()=>{clearTimeout(q)}}),[U]),B.useEffect((()=>{if(ie!==me.current)if(rt(Ue),me.current=ie,ie)L?.();else{const q=(Q=>{const K=Q.match(/^([\d.]+)(ms|s)$/);if(!K)return 0;const[,ge,$e]=K;return Number(ge)*($e==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ue.current=setTimeout((()=>{be(!1),Ie(null),C?.()}),q+25)}}),[ie]);const Tt=q=>{Ee((Q=>Fr(Q,q)?Q:q))},xt=(q=p)=>{rt(oe),xe?Pe(!0):oe.current=setTimeout((()=>{Pe(!0)}),q)},bt=(q=g)=>{rt(He),He.current=setTimeout((()=>{ft.current||Pe(!1)}),q)},it=q=>{var Q;if(!q)return;const K=(Q=q.currentTarget)!==null&&Q!==void 0?Q:q.target;if(!K?.isConnected)return H(null),void Ve({current:null});p?xt():Pe(!0),H(K),Ve({current:K}),rt(He)},Et=()=>{T?bt(g||100):g?bt():Pe(!1),rt(oe)},qe=({x:q,y:Q})=>{var K;const ge={getBoundingClientRect:()=>({x:q,y:Q,width:0,height:0,top:Q,left:q,right:q,bottom:Q})};Jo({place:(K=re?.place)!==null&&K!==void 0?K:a,offset:c,elementReference:ge,tooltipReference:ee.current,tooltipArrowReference:le.current,strategy:u,middlewares:f,border:N,arrowSize:W}).then(($e=>{Tt($e)}))},We=q=>{if(!q)return;const Q=q,K={x:Q.clientX,y:Q.clientY};qe(K),ue.current=K},tt=q=>{var Q;if(!ie)return;const K=q.target;K.isConnected&&(!((Q=ee.current)===null||Q===void 0)&&Q.contains(K)||[document.querySelector(`[id='${s}']`),...ye].some((ge=>ge?.contains(K)))||(Pe(!1),rt(oe)))},dt=ts(it,50),Ce=ts(Et,50),Ae=q=>{Ce.cancel(),dt(q)},V=()=>{dt.cancel(),Ce()},ce=B.useCallback((()=>{var q,Q;const K=(q=re?.position)!==null&&q!==void 0?q:S;K?qe(K):b?ue.current&&qe(ue.current):P?.isConnected&&Jo({place:(Q=re?.place)!==null&&Q!==void 0?Q:a,offset:c,elementReference:P,tooltipReference:ee.current,tooltipArrowReference:le.current,strategy:u,middlewares:f,border:N,arrowSize:W}).then((ge=>{Se.current&&Tt(ge)}))}),[ie,P,w,A,a,re?.place,c,u,S,re?.position,b,W]);B.useEffect((()=>{var q,Q;const K=new Set(ke);ye.forEach((pe=>{D?.(pe)||K.add({current:pe})}));const ge=document.querySelector(`[id='${s}']`);ge&&!D?.(ge)&&K.add({current:ge});const $e=()=>{Pe(!1)},ht=rs(P),pt=rs(ee.current);ve.scroll&&(window.addEventListener("scroll",$e),ht?.addEventListener("scroll",$e),pt?.addEventListener("scroll",$e));let Ye=null;ve.resize?window.addEventListener("resize",$e):P&&ee.current&&(Ye=Ml(P,ee.current,ce,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const nt=pe=>{pe.key==="Escape"&&Pe(!1)};ve.escape&&window.addEventListener("keydown",nt),ve.clickOutsideAnchor&&window.addEventListener("click",tt);const _e=[],Gt=pe=>!!(pe?.target&&P?.contains(pe.target)),wi=pe=>{ie&&Gt(pe)||it(pe)},xi=pe=>{ie&&Gt(pe)&&Et()},io=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],ao=["click","dblclick","mousedown","mouseup"];Object.entries(Ge).forEach((([pe,_t])=>{_t&&(io.includes(pe)?_e.push({event:pe,listener:Ae}):ao.includes(pe)&&_e.push({event:pe,listener:wi}))})),Object.entries(Oe).forEach((([pe,_t])=>{_t&&(io.includes(pe)?_e.push({event:pe,listener:V}):ao.includes(pe)&&_e.push({event:pe,listener:xi}))})),b&&_e.push({event:"pointermove",listener:We});const co=()=>{ft.current=!0},lo=()=>{ft.current=!1,Et()},uo=T&&(Oe.mouseout||Oe.mouseleave);return uo&&((q=ee.current)===null||q===void 0||q.addEventListener("mouseover",co),(Q=ee.current)===null||Q===void 0||Q.addEventListener("mouseout",lo)),_e.forEach((({event:pe,listener:_t})=>{K.forEach((ar=>{var ln;(ln=ar.current)===null||ln===void 0||ln.addEventListener(pe,_t)}))})),()=>{var pe,_t;ve.scroll&&(window.removeEventListener("scroll",$e),ht?.removeEventListener("scroll",$e),pt?.removeEventListener("scroll",$e)),ve.resize?window.removeEventListener("resize",$e):Ye?.(),ve.clickOutsideAnchor&&window.removeEventListener("click",tt),ve.escape&&window.removeEventListener("keydown",nt),uo&&((pe=ee.current)===null||pe===void 0||pe.removeEventListener("mouseover",co),(_t=ee.current)===null||_t===void 0||_t.removeEventListener("mouseout",lo)),_e.forEach((({event:ar,listener:ln})=>{K.forEach((bi=>{var cr;(cr=bi.current)===null||cr===void 0||cr.removeEventListener(ar,ln)}))}))}}),[P,ce,xe,ke,ye,k,x,y,Te,p,g]),B.useEffect((()=>{var q,Q;let K=(Q=(q=re?.anchorSelect)!==null&&q!==void 0?q:i)!==null&&Q!==void 0?Q:"";!K&&t&&(K=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const ge=new MutationObserver(($e=>{const ht=[],pt=[];$e.forEach((Ye=>{if(Ye.type==="attributes"&&Ye.attributeName==="data-tooltip-id"&&(Ye.target.getAttribute("data-tooltip-id")===t?ht.push(Ye.target):Ye.oldValue===t&&pt.push(Ye.target)),Ye.type==="childList"){if(P){const nt=[...Ye.removedNodes].filter((_e=>_e.nodeType===1));if(K)try{pt.push(...nt.filter((_e=>_e.matches(K)))),pt.push(...nt.flatMap((_e=>[..._e.querySelectorAll(K)])))}catch{}nt.some((_e=>{var Gt;return!!(!((Gt=_e?.contains)===null||Gt===void 0)&&Gt.call(_e,P))&&(be(!1),Pe(!1),H(null),rt(oe),rt(He),!0)}))}if(K)try{const nt=[...Ye.addedNodes].filter((_e=>_e.nodeType===1));ht.push(...nt.filter((_e=>_e.matches(K)))),ht.push(...nt.flatMap((_e=>[..._e.querySelectorAll(K)])))}catch{}}})),(ht.length||pt.length)&&Ke((Ye=>[...Ye.filter((nt=>!pt.includes(nt))),...ht]))}));return ge.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{ge.disconnect()}}),[t,i,re?.anchorSelect,P]),B.useEffect((()=>{ce()}),[ce]),B.useEffect((()=>{if(!m?.current)return()=>null;const q=new ResizeObserver((()=>{setTimeout((()=>ce()))}));return q.observe(m.current),()=>{q.disconnect()}}),[w,m?.current]),B.useEffect((()=>{var q;const Q=document.querySelector(`[id='${s}']`),K=[...ye,Q];P&&K.includes(P)||H((q=ye[0])!==null&&q!==void 0?q:Q)}),[s,ye,P]),B.useEffect((()=>($&&Pe(!0),()=>{rt(oe),rt(He)})),[]),B.useEffect((()=>{var q;let Q=(q=re?.anchorSelect)!==null&&q!==void 0?q:i;if(!Q&&t&&(Q=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Q)try{const K=Array.from(document.querySelectorAll(Q));Ke(K)}catch{Ke([])}}),[t,i,re?.anchorSelect]),B.useEffect((()=>{oe.current&&(rt(oe),xt(p))}),[p]);const Qe=(Y=re?.content)!==null&&Y!==void 0?Y:w,Ot=ie&&Object.keys(de.tooltipStyles).length>0;return B.useImperativeHandle(e,(()=>({open:q=>{if(q?.anchorSelect)try{document.querySelector(q.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${q.anchorSelect}" is not a valid CSS selector`)}Ie(q??null),q?.delay?xt(q.delay):Pe(!0)},close:q=>{q?.delay?bt(q.delay):Pe(!1)},activeAnchor:P,place:de.place,isOpen:!!(xe&&!v&&Qe&&Ot)}))),xe&&!v&&Qe?ae.createElement(h,{id:t,role:Z,className:Nr("react-tooltip",Yt.tooltip,_r.tooltip,_r[o],n,`react-tooltip__place-${de.place}`,Yt[Ot?"show":"closing"],Ot?"react-tooltip__show":"react-tooltip__closing",u==="fixed"&&Yt.fixed,T&&Yt.clickable),onTransitionEnd:q=>{rt(Ue),ie||q.propertyName!=="opacity"||(be(!1),Ie(null),C?.())},style:{...A,...de.tooltipStyles,opacity:j!==void 0&&Ot?j:void 0},ref:ee},Qe,ae.createElement(h,{className:Nr("react-tooltip-arrow",Yt.arrow,_r.arrow,r,O&&Yt.noArrow),style:{...de.tooltipArrowStyles,background:G?`linear-gradient(to right bottom, transparent 50%, ${G} 50%)`:void 0,"--rt-arrow-size":`${W}px`},ref:le})):null},Ql=({content:e})=>ae.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Sr=ae.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:o,render:s,className:i,classNameArrow:a,variant:c="dark",place:d="top",offset:l=10,wrapper:u="div",children:f=null,events:h=["hover"],openOnClick:p=!1,positionStrategy:g="absolute",middlewares:b,delayShow:v=0,delayHide:O=0,float:T=!1,hidden:R=!1,noArrow:M=!1,clickable:_=!1,closeOnEsc:k=!1,closeOnScroll:x=!1,closeOnResize:y=!1,openEvents:E,closeEvents:A,globalCloseEvents:S,imperativeModeOnly:L=!1,style:C,position:D,isOpen:w,defaultIsOpen:m=!1,disableStyleInjection:U=!1,border:$,opacity:F,arrowColor:I,arrowSize:P,setIsOpen:H,afterShow:N,afterHide:j,disableTooltip:G,role:W="tooltip"},Z)=>{const[Y,ee]=B.useState(r),[le,oe]=B.useState(o),[He,Ue]=B.useState(d),[de,Ee]=B.useState(c),[ie,fe]=B.useState(l),[xe,be]=B.useState(v),[re,Ie]=B.useState(O),[me,ue]=B.useState(T),[ke,Ve]=B.useState(R),[ft,ye]=B.useState(u),[Ke,Se]=B.useState(h),[Te,Ne]=B.useState(g),[Ge,Oe]=B.useState(null),[ve,Pe]=B.useState(null),Tt=B.useRef(null),xt=B.useRef(U),{anchorRefs:bt,activeAnchor:it}=di(e),Et=Ce=>Ce?.getAttributeNames().reduce(((Ae,V)=>{var ce;return V.startsWith("data-tooltip-")&&(Ae[V.replace(/^data-tooltip-/,"")]=(ce=Ce?.getAttribute(V))!==null&&ce!==void 0?ce:null),Ae}),{}),qe=Ce=>{const Ae={place:V=>{var ce;Ue((ce=V)!==null&&ce!==void 0?ce:d)},content:V=>{ee(V??r)},html:V=>{oe(V??o)},variant:V=>{var ce;Ee((ce=V)!==null&&ce!==void 0?ce:c)},offset:V=>{fe(V===null?l:Number(V))},wrapper:V=>{var ce;ye((ce=V)!==null&&ce!==void 0?ce:u)},events:V=>{const ce=V?.split(" ");Se(ce??h)},"position-strategy":V=>{var ce;Ne((ce=V)!==null&&ce!==void 0?ce:g)},"delay-show":V=>{be(V===null?v:Number(V))},"delay-hide":V=>{Ie(V===null?O:Number(V))},float:V=>{ue(V===null?T:V==="true")},hidden:V=>{Ve(V===null?R:V==="true")},"class-name":V=>{Oe(V)}};Object.values(Ae).forEach((V=>V(null))),Object.entries(Ce).forEach((([V,ce])=>{var Qe;(Qe=Ae[V])===null||Qe===void 0||Qe.call(Ae,ce)}))};B.useEffect((()=>{ee(r)}),[r]),B.useEffect((()=>{oe(o)}),[o]),B.useEffect((()=>{Ue(d)}),[d]),B.useEffect((()=>{Ee(c)}),[c]),B.useEffect((()=>{fe(l)}),[l]),B.useEffect((()=>{be(v)}),[v]),B.useEffect((()=>{Ie(O)}),[O]),B.useEffect((()=>{ue(T)}),[T]),B.useEffect((()=>{Ve(R)}),[R]),B.useEffect((()=>{Ne(g)}),[g]),B.useEffect((()=>{xt.current!==U&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[U]),B.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:U==="core",disableBase:U}}))}),[]),B.useEffect((()=>{var Ce;const Ae=new Set(bt);let V=n;if(!V&&e&&(V=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),V)try{document.querySelectorAll(V).forEach((Q=>{Ae.add({current:Q})}))}catch{console.warn(`[react-tooltip] "${V}" is not a valid CSS selector`)}const ce=document.querySelector(`[id='${t}']`);if(ce&&Ae.add({current:ce}),!Ae.size)return()=>null;const Qe=(Ce=ve??ce)!==null&&Ce!==void 0?Ce:it.current,Ot=new MutationObserver((Q=>{Q.forEach((K=>{var ge;if(!Qe||K.type!=="attributes"||!(!((ge=K.attributeName)===null||ge===void 0)&&ge.startsWith("data-tooltip-")))return;const $e=Et(Qe);qe($e)}))})),q={attributes:!0,childList:!1,subtree:!1};if(Qe){const Q=Et(Qe);qe(Q),Ot.observe(Qe,q)}return()=>{Ot.disconnect()}}),[bt,it,ve,t,n]),B.useEffect((()=>{C?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),$&&!es("border",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`border\`.`),C?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!es("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)}),[]);let We=f;const tt=B.useRef(null);if(s){const Ce=s({content:ve?.getAttribute("data-tooltip-content")||Y||null,activeAnchor:ve});We=Ce?ae.createElement("div",{ref:tt,className:"react-tooltip-content-wrapper"},Ce):null}else Y&&(We=Y);le&&(We=ae.createElement(Ql,{content:le}));const dt={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:Nr(i,Ge),classNameArrow:a,content:We,contentWrapperRef:tt,place:He,variant:de,offset:ie,wrapper:ft,events:Ke,openOnClick:p,positionStrategy:Te,middlewares:b,delayShow:xe,delayHide:re,float:me,hidden:ke,noArrow:M,clickable:_,closeOnEsc:k,closeOnScroll:x,closeOnResize:y,openEvents:E,closeEvents:A,globalCloseEvents:S,imperativeModeOnly:L,style:C,position:D,isOpen:w,defaultIsOpen:m,border:$,opacity:F,arrowColor:I,arrowSize:P,setIsOpen:H,afterShow:N,afterHide:j,disableTooltip:G,activeAnchor:ve,previousActiveAnchor:Tt.current,setActiveAnchor:Ce=>{Pe((Ae=>(Ce?.isSameNode(Ae)||(Tt.current=Ae),Ce)))},role:W};return ae.createElement(Kl,{...dt})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||Zo({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Zo({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));function gf(){const e=Le.c(35),{loading:t,start:n,stop:r}=zt(),{state:o,dispatch:s}=je(),{selectedLayerIdx:i,imgCtx:a,layers:c}=o,d=B.useContext(Kr);let l;e[0]!==s||e[1]!==a||e[2]!==t||e[3]!==d?(l=()=>{!t&&a&&s({type:X.CreateNewLayer}),d?.isActive()&&d.getCurrentStep()?.id==="addLayer"&&d.next()},e[0]=s,e[1]=a,e[2]=t,e[3]=d,e[4]=l):l=e[4];const u=l;let f;e[5]!==s?(f=A=>{s({type:X.SelectLayer,payload:A})},e[5]=s,e[6]=f):f=e[6];const h=f;let p;e[7]!==s||e[8]!==n||e[9]!==r?(p=(A,S)=>{n(),s({type:X.MoveLayer,payload:{direction:A,layerIdx:S}}),s({type:X.ResetImageCanvas}),s({type:X.GenerateResult}),r()},e[7]=s,e[8]=n,e[9]=r,e[10]=p):p=e[10];const g=p;let b;e[11]!==s?(b=()=>{s({type:X.ResetImageCanvas}),s({type:X.GenerateResult,payload:{refreshIdx:0}})},e[11]=s,e[12]=b):b=e[12];const v=b;let O;e[13]!==s?(O=A=>{s({type:X.DuplicateLayer,payload:A}),s({type:X.ResetImageCanvas}),s({type:X.GenerateResult,payload:{refreshIdx:A}})},e[13]=s,e[14]=O):O=e[14];const T=O;let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=z.jsx(nn,{children:"Layers"}),e[15]=R):R=e[15];let M;e[16]!==c.length||e[17]!==v?(M=c.length>0&&z.jsx(Je,{onClick:v,variant:"secondary",style:{cursor:"pointer"},children:"Refresh"}),e[16]=c.length,e[17]=v,e[18]=M):M=e[18];let _;e[19]!==M?(_=z.jsxs(tn,{children:[R,M]}),e[19]=M,e[20]=_):_=e[20];let k;e[21]!==c||e[22]!==T||e[23]!==g||e[24]!==h||e[25]!==i?(k=c.length>0?c.map((A,S)=>z.jsxs(eu,{id:`${S}`,children:[z.jsxs(Je,{variant:"secondary",onClick:()=>h(S),style:{cursor:"pointer"},children:[i===S?"<*> ":"< > "," ",Fs[A.selection.filter]]}),z.jsxs(tu,{children:[z.jsxs(Cr,{onClick:()=>g("up",S),children:[z.jsx(Rc,{size:16,"data-tooltip-id":"moveUp","data-tooltip-content":"Move layer up","data-tooltip-place":"bottom"}),z.jsx(Sr,{id:"moveUp",className:"custom-tooltip"})]}),z.jsxs(Cr,{onClick:()=>g("down",S),children:[z.jsx(Ec,{size:16,"data-tooltip-id":"moveDown","data-tooltip-content":"Move layer down","data-tooltip-place":"bottom"}),z.jsx(Sr,{id:"moveDown",className:"custom-tooltip"})]}),z.jsxs(Cr,{onClick:()=>T(S),children:[z.jsx(_c,{size:16,"data-tooltip-id":"duplicate","data-tooltip-content":"Duplicate layer","data-tooltip-place":"bottom-end"}),z.jsx(Sr,{id:"duplicate",className:"custom-tooltip"})]})]})]},`layers-${A.color}`)):z.jsx(nu,{children:"<empty>"}),e[21]=c,e[22]=T,e[23]=g,e[24]=h,e[25]=i,e[26]=k):k=e[26];let x;e[27]!==k?(x=z.jsx(Jl,{children:k}),e[27]=k,e[28]=x):x=e[28];let y;e[29]!==u?(y=z.jsx(Mt,{id:"addNewLayer",variant:"outline",type:"button",$full:!0,onClick:u,children:"+ Add new layer"}),e[29]=u,e[30]=y):y=e[30];let E;return e[31]!==x||e[32]!==y||e[33]!==_?(E=z.jsxs(Zl,{children:[_,x,y]}),e[31]=x,e[32]=y,e[33]=_,e[34]=E):E=e[34],E}const Zl=J.div`
  border-bottom: solid black 1px;
  border-bottom-style: dashed;
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 1280px) {
    flex: none;
    min-height: fit-content;
    overflow-y: hidden;
  }
`,Jl=J.ul`
  margin-bottom: 8px;
  overflow-y: auto;
  flex: 1; 
  min-height: 0;

  @media (max-width: 1280px) {
    flex: none;
    min-height: auto;
  }
`,eu=J.li`
  display: flex;
  justify-content: space-between;
`,tu=J.div`
  display: flex;
  align-items: center;
  justify-items: center;
  gap: 4px;
`,Cr=J.span`
  display: flex;
  align-items: center;
  padding: 4px;
  cursor: pointer;
  &:hover {
    background-color: #ccc ;
  };
`,nu=J.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
`,ru={min:0,max:2},ou={min:0,max:1},su={min:0,max:1},iu={min:2,max:12},au={min:1,max:100},cu=["Vibrance","Red","Green","Blue"],lu=["Vertical","Horizontal"],uu={min:1,max:100},fu={min:-100,max:0},Ar={min:1,max:20,step:1},du={BRIGHTNESS_RANGE:{min:0,max:2}};function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sr(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function vn(e){var t=B.useRef(e),n=B.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var wn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},hn=function(e){return"touches"in e},Br=function(e){return e&&e.ownerDocument.defaultView||self},os=function(e,t,n){var r=e.getBoundingClientRect(),o=hn(t)?(function(s,i){for(var a=0;a<s.length;a++)if(s[a].identifier===i)return s[a];return s[0]})(t.touches,n):t;return{left:wn((o.pageX-(r.left+Br(e).pageXOffset))/r.width),top:wn((o.pageY-(r.top+Br(e).pageYOffset))/r.height)}},ss=function(e){!hn(e)&&e.preventDefault()},hi=ae.memo(function(e){var t=e.onMove,n=e.onKey,r=sr(e,["onMove","onKey"]),o=B.useRef(null),s=vn(t),i=vn(n),a=B.useRef(null),c=B.useRef(!1),d=B.useMemo(function(){var h=function(b){ss(b),(hn(b)?b.touches.length>0:b.buttons>0)&&o.current?s(os(o.current,b,a.current)):g(!1)},p=function(){return g(!1)};function g(b){var v=c.current,O=Br(o.current),T=b?O.addEventListener:O.removeEventListener;T(v?"touchmove":"mousemove",h),T(v?"touchend":"mouseup",p)}return[function(b){var v=b.nativeEvent,O=o.current;if(O&&(ss(v),!(function(R,M){return M&&!hn(R)})(v,c.current)&&O)){if(hn(v)){c.current=!0;var T=v.changedTouches||[];T.length&&(a.current=T[0].identifier)}O.focus(),s(os(O,v,a.current)),g(!0)}},function(b){var v=b.which||b.keyCode;v<37||v>40||(b.preventDefault(),i({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},g]},[i,s]),l=d[0],u=d[1],f=d[2];return B.useEffect(function(){return f},[f]),ae.createElement("div",cn({},r,{onTouchStart:l,onMouseDown:l,className:"react-colorful__interactive",ref:o,onKeyDown:u,tabIndex:0,role:"slider"}))}),so=function(e){return e.filter(Boolean).join(" ")},pi=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=so(["react-colorful__pointer",e.className]);return ae.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},ae.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Fe=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},hu=function(e){return vu(zr(e))},zr=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Fe(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Fe(parseInt(e.substring(6,8),16)/255,2):1}},pu=function(e){return yu(mu(e))},gu=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Fe(e.h),s:Fe(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Fe(o/2),a:Fe(r,2)}},Hr=function(e){var t=gu(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},mu=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),a=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),d=s%6;return{r:Fe(255*[r,a,i,i,c,r][d]),g:Fe(255*[c,r,r,a,i,i][d]),b:Fe(255*[i,i,c,r,r,a][d]),a:Fe(o,2)}},Rn=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},yu=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o<1?Rn(Fe(255*o)):"";return"#"+Rn(t)+Rn(n)+Rn(r)+s},vu=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),a=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:Fe(60*(a<0?a+6:a)),s:Fe(s?i/s*100:0),v:Fe(s/255*100),a:o}},wu=ae.memo(function(e){var t=e.hue,n=e.onChange,r=so(["react-colorful__hue",e.className]);return ae.createElement("div",{className:r},ae.createElement(hi,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:wn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Fe(t),"aria-valuemax":"360","aria-valuemin":"0"},ae.createElement(pi,{className:"react-colorful__hue-pointer",left:t/360,color:Hr({h:t,s:100,v:100,a:1})})))}),xu=ae.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Hr({h:t.h,s:100,v:100,a:1})};return ae.createElement("div",{className:"react-colorful__saturation",style:r},ae.createElement(hi,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:wn(t.s+100*o.left,0,100),v:wn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Fe(t.s)+"%, Brightness "+Fe(t.v)+"%"},ae.createElement(pi,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Hr(t)})))}),gi=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},bu=function(e,t){return e.toLowerCase()===t.toLowerCase()||gi(zr(e),zr(t))};function _u(e,t,n){var r=vn(n),o=B.useState(function(){return e.toHsva(t)}),s=o[0],i=o[1],a=B.useRef({color:t,hsva:s});B.useEffect(function(){if(!e.equal(t,a.current.color)){var d=e.toHsva(t);a.current={hsva:d,color:t},i(d)}},[t,e]),B.useEffect(function(){var d;gi(s,a.current.hsva)||e.equal(d=e.fromHsva(s),a.current.color)||(a.current={hsva:s,color:d},r(d))},[s,e,r]);var c=B.useCallback(function(d){i(function(l){return Object.assign({},l,d)})},[]);return[s,c]}var Su=typeof window<"u"?B.useLayoutEffect:B.useEffect,Cu=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},is=new Map,Au=function(e){Su(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!is.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,is.set(t,n);var r=Cu();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},Eu=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,i=sr(e,["className","colorModel","color","onChange"]),a=B.useRef(null);Au(a);var c=_u(n,o,s),d=c[0],l=c[1],u=so(["react-colorful",t]);return ae.createElement("div",cn({},i,{ref:a,className:u}),ae.createElement(xu,{hsva:d,onChange:l}),ae.createElement(wu,{hue:d.h,onChange:l,className:"react-colorful__last-control"}))},Iu={defaultColor:"000",toHsva:hu,fromHsva:function(e){return pu({h:e.h,s:e.s,v:e.v,a:1})},equal:bu},Ru=function(e){return ae.createElement(Eu,cn({},e,{colorModel:Iu}))},Lu=/^#?([0-9A-F]{3,8})$/i,ku=function(e){var t=e.color,n=t===void 0?"":t,r=e.onChange,o=e.onBlur,s=e.escape,i=e.validate,a=e.format,c=e.process,d=sr(e,["color","onChange","onBlur","escape","validate","format","process"]),l=B.useState(function(){return s(n)}),u=l[0],f=l[1],h=vn(r),p=vn(o),g=B.useCallback(function(v){var O=s(v.target.value);f(O),i(O)&&h(c?c(O):O)},[s,c,i,h]),b=B.useCallback(function(v){i(v.target.value)||f(s(n)),p(v)},[n,s,i,p]);return B.useEffect(function(){f(s(n))},[n,s]),ae.createElement("input",cn({},d,{value:a?a(u):u,spellCheck:"false",onChange:g,onBlur:b}))},as=function(e){return"#"+e},Tu=function(e){var t=e.prefixed,n=e.alpha,r=sr(e,["prefixed","alpha"]),o=B.useCallback(function(i){return i.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),s=B.useCallback(function(i){return(function(a,c){var d=Lu.exec(a),l=d?d[1].length:0;return l===3||l===6||!!c&&l===4||!!c&&l===8})(i,n)},[n]);return ae.createElement(ku,cn({},r,{escape:o,format:t?as:void 0,process:as,validate:s}))},mi=Ei();const yi=J.select`
    padding: 8px;
    border: ${({theme:e})=>`solid 1px ${e.colors.primary}`};
    width: ${({$full:e})=>e?"100%":"auto"};
    background-color: white;
`,At=e=>{const t=Le.c(25);let n,r,o,s,i,a,c;t[0]!==e?({label:s,id:o,min:a,max:i,configKey:n,defaultValue:r,...c}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=i,t[6]=a,t[7]=c):(n=t[1],r=t[2],o=t[3],s=t[4],i=t[5],a=t[6],c=t[7]);const{loading:d,start:l,stop:u}=zt(),{state:f,dispatch:h}=je(),p=B.useRef(null);let g;t[8]!==n||t[9]!==r||t[10]!==h||t[11]!==l||t[12]!==f.selectedLayerIdx||t[13]!==u?(g=()=>{mi.flushSync(()=>{l()}),h({type:X.ResetImageCanvas});const T=parseFloat(p.current?.value??r.toString());h({type:X.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[n]:Math.abs(T)}},withUpdateInitialPresent:!1}}),h({type:X.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[8]=n,t[9]=r,t[10]=h,t[11]=l,t[12]=f.selectedLayerIdx,t[13]=u,t[14]=g):g=t[14];const b=g,v=c.step??.01;let O;return t[15]!==r||t[16]!==o||t[17]!==s||t[18]!==d||t[19]!==i||t[20]!==a||t[21]!==b||t[22]!==c||t[23]!==v?(O=z.jsx(Jr,{label:s,disabled:d,ref:p,onMouseUp:b,onTouchEnd:b,id:o,type:"range",min:a,max:i,step:v,defaultValue:r,...c}),t[15]=r,t[16]=o,t[17]=s,t[18]=d,t[19]=i,t[20]=a,t[21]=b,t[22]=c,t[23]=v,t[24]=O):O=t[24],O},vi=e=>{const t=Le.c(38),{label:n,id:r,items:o,configKey:s,defaultValue:i,renderItem:a,getItemValue:c}=e,{loading:d,start:l,stop:u}=zt(),{state:f,dispatch:h}=je(),[p,g]=B.useState(i);let b;t[0]!==s||t[1]!==h||t[2]!==c||t[3]!==o||t[4]!==l||t[5]!==f.selectedLayerIdx||t[6]!==u?(b=A=>{const S=parseInt(A.target.value,10),L=o[S];mi.flushSync(()=>{l()}),g(L),h({type:X.ResetImageCanvas});const C=c?c(L):L;h({type:X.UpdateLayerSelection,payload:{layerIdx:f.selectedLayerIdx,pselection:{config:{[s]:C}},withUpdateInitialPresent:!1}}),h({type:X.GenerateResult,payload:{refreshIdx:f.selectedLayerIdx}}),u()},t[0]=s,t[1]=h,t[2]=c,t[3]=o,t[4]=l,t[5]=f.selectedLayerIdx,t[6]=u,t[7]=b):b=t[7];const v=b;let O;if(t[8]!==c||t[9]!==o||t[10]!==p){let A;t[12]!==c||t[13]!==p?(A=S=>{const L=c?c(S):S,C=c?c(p):p;return L===C},t[12]=c,t[13]=p,t[14]=A):A=t[14],O=o.findIndex(A),t[8]=c,t[9]=o,t[10]=p,t[11]=O}else O=t[11];const T=O;let R;t[15]!==r||t[16]!==n?(R=z.jsx(nn,{htmlFor:r,children:n}),t[15]=r,t[16]=n,t[17]=R):R=t[17];const M=d?"not-allowed":"pointer",_=d?.5:1;let k;t[18]!==M||t[19]!==_?(k={cursor:M,opacity:_},t[18]=M,t[19]=_,t[20]=k):k=t[20];let x;if(t[21]!==o||t[22]!==a||t[23]!==T){let A;t[25]!==a||t[26]!==T?(A=(S,L)=>z.jsx("option",{value:L,children:a?a(S,L===T):String(S)},`${S}-${L+1}`),t[25]=a,t[26]=T,t[27]=A):A=t[27],x=o.map(A),t[21]=o,t[22]=a,t[23]=T,t[24]=x}else x=t[24];let y;t[28]!==r||t[29]!==d||t[30]!==v||t[31]!==T||t[32]!==k||t[33]!==x?(y=z.jsx(yi,{$full:!0,id:r,value:T,onChange:v,disabled:d,style:k,children:x}),t[28]=r,t[29]=d,t[30]=v,t[31]=T,t[32]=k,t[33]=x,t[34]=y):y=t[34];let E;return t[35]!==R||t[36]!==y?(E=z.jsxs("div",{children:[R,y]}),t[35]=R,t[36]=y,t[37]=E):E=t[37],E},Ou=J.div`
  margin-top: 24px;
`,ir=J.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,Er=[{highlightsColor:"#6aff7f",shadowsColor:"#00007e"},{highlightsColor:"#f8be3d",shadowsColor:"#682218"},{highlightsColor:"#01dbfe",shadowsColor:"#7f01d3"},{highlightsColor:"#fbf019",shadowsColor:"#01ab6d"},{highlightsColor:"#fbcd20",shadowsColor:"#ff5d77"},{highlightsColor:"#dc4379",shadowsColor:"#11245e"},{highlightsColor:"#ffffff",shadowsColor:"#91cff8"},{highlightsColor:"#ffefb3",shadowsColor:"#290900"},{highlightsColor:"#acd49d",shadowsColor:"#602457"},{highlightsColor:"#f00e2e",shadowsColor:"#0a0505"},{highlightsColor:"#defcfe",shadowsColor:"#8682d9"},{highlightsColor:"#fdd9e2",shadowsColor:"#65b7d6"},{highlightsColor:"#01ab6d",shadowsColor:"#241a5f"},{highlightsColor:"#ff9738",shadowsColor:"#36200c"},{highlightsColor:"#dfb233",shadowsColor:"#2f0781"}],Pu=()=>{const e=Le.c(52),{state:t,dispatch:n}=je(),[r,o]=B.useState("#ffffff"),[s,i]=B.useState(!1),[a,c]=B.useState("highlightsColor"),[d,l]=B.useState(0),u=B.useRef(null),{BRIGHTNESS_RANGE:f}=du,p=(t.currentLayer?.selection).config;let g;e[0]!==n||e[1]!==t.selectedLayerIdx?(g=$=>{n({type:X.UpdateLayerSelection,payload:{layerIdx:t.selectedLayerIdx,pselection:{config:{highlightsColor:$.highlightsColor,shadowsColor:$.shadowsColor}},withUpdateInitialPresent:!1}}),n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},e[0]=n,e[1]=t.selectedLayerIdx,e[2]=g):g=e[2];const b=g;let v;e[3]!==b?(v=$=>{i(!1),c("highlightsColor"),l($),b(Er[$])},e[3]=b,e[4]=v):v=e[4];const O=v;let T,R,M,_,k;if(e[5]!==r||e[6]!==p.highlightsColor||e[7]!==p.shadowsColor||e[8]!==a||e[9]!==b){M=()=>{u.current||(u.current=k());const{highlightsColor:I,shadowsColor:P}=u.current;b({highlightsColor:I,shadowsColor:P}),i(!0),o(I)};let $;e[15]===Symbol.for("react.memo_cache_sentinel")?($=I=>{o(I)},e[15]=$):$=e[15],T=$,_=()=>{const I=r,P={highlightsColor:a==="highlightsColor"?I:p.highlightsColor,shadowsColor:a==="shadowsColor"?I:p.shadowsColor};u.current=P,b(P)};let F;e[16]!==p.highlightsColor||e[17]!==p.shadowsColor?(F=I=>{c(I);let P;I==="highlightsColor"?P=p.highlightsColor:P=p.shadowsColor,o(P)},e[16]=p.highlightsColor,e[17]=p.shadowsColor,e[18]=F):F=e[18],R=F,k=Mu,e[5]=r,e[6]=p.highlightsColor,e[7]=p.shadowsColor,e[8]=a,e[9]=b,e[10]=T,e[11]=R,e[12]=M,e[13]=_,e[14]=k}else T=e[10],R=e[11],M=e[12],_=e[13],k=e[14];let x;e[19]!==a||e[20]!==k||e[21]!==b?(x=()=>{u.current=k();let $;a==="highlightsColor"?$=u.current.highlightsColor:$=u.current.shadowsColor,o($),b(u.current)},e[19]=a,e[20]=k,e[21]=b,e[22]=x):x=e[22];const y=x;let E,A;e[23]!==p.highlightsColor||e[24]!==p.shadowsColor||e[25]!==a?(E=()=>{u.current={highlightsColor:p.highlightsColor,shadowsColor:p.shadowsColor};let $=!1;for(const[F,I]of Er.entries())if(I.highlightsColor===p.highlightsColor&&I.shadowsColor===p.shadowsColor){$=!0,l(F);break}$||(o(a==="highlightsColor"?p.highlightsColor:p.shadowsColor),i(!0))},A=[a,p.highlightsColor,p.shadowsColor],e[23]=p.highlightsColor,e[24]=p.shadowsColor,e[25]=a,e[26]=E,e[27]=A):(E=e[26],A=e[27]),B.useEffect(E,A);let S;e[28]!==p.brightness?(S=z.jsx(At,{label:"Brightness",id:"brightnessIntensity",min:f.min,max:f.max,configKey:"brightness",defaultValue:p.brightness,refresh:!0}),e[28]=p.brightness,e[29]=S):S=e[29];let L;e[30]===Symbol.for("react.memo_cache_sentinel")?(L=z.jsx(nn,{children:"Color Presets"}),e[30]=L):L=e[30];let C;e[31]!==O||e[32]!==d?(C=Er.map(($,F)=>z.jsx(cs,{preset:$,onClick:()=>O(F),selected:d===F},F)),e[31]=O,e[32]=d,e[33]=C):C=e[33];let D;e[34]!==M||e[35]!==s?(D=z.jsx(cs,{onClick:M,selected:s,children:"Custom"}),e[34]=M,e[35]=s,e[36]=D):D=e[36];let w;e[37]!==C||e[38]!==D?(w=z.jsxs(Du,{children:[C,D]}),e[37]=C,e[38]=D,e[39]=w):w=e[39];let m;e[40]!==r||e[41]!==a||e[42]!==T||e[43]!==R||e[44]!==_||e[45]!==y||e[46]!==s?(m=s&&z.jsxs(B.Fragment,{children:[z.jsxs(tn,{children:[z.jsx(nn,{variant:"primary",children:"Custom Tone"}),z.jsx(Je,{onClick:y,variant:"secondary",size:"small",style:{cursor:"pointer"},children:"Randomize"})]}),z.jsxs(tn,{children:[z.jsx(Je,{onClick:()=>R("highlightsColor"),style:{cursor:"pointer"},size:"small",variant:a==="highlightsColor"?"primary":"secondary",children:"Highlights"}),z.jsx(Je,{onClick:()=>R("shadowsColor"),style:{cursor:"pointer"},size:"small",variant:a==="shadowsColor"?"primary":"secondary",children:"Shadows"})]}),z.jsx(Ru,{color:r,onChange:$=>T($),onMouseUp:_,onTouchEnd:_}),z.jsx(Tu,{color:r,onChange:$=>T($)})]}),e[40]=r,e[41]=a,e[42]=T,e[43]=R,e[44]=_,e[45]=y,e[46]=s,e[47]=m):m=e[47];let U;return e[48]!==m||e[49]!==S||e[50]!==w?(U=z.jsxs($u,{children:[S,L,w,m]}),e[48]=m,e[49]=S,e[50]=w,e[51]=U):U=e[51],U},$u=J.div`
  display: flex;
  flex: 1;
  min-height: 0;
  overflow-y: hidden;
  flex-direction: column;
  gap: 12px;
`,Du=J.div`
  display: grid;
  gap: 8px;
  grid-template-columns: 1fr 1fr;
  margin-bottom: 12px;
`,cs=J.div`
  height: 90px;
  cursor: pointer;
  text-align: center;
  align-items: center;
  justify-content: center;
  display: flex;
  border: 1px solid ${({theme:e,selected:t})=>t?e.colors.primary:"black"};
  ${e=>e.preset?`
    background: linear-gradient(
      to right,
      ${e.preset.shadowsColor} 0%,
      ${e.preset.shadowsColor} 50%,
      ${e.preset.highlightsColor} 50%,
      ${e.preset.highlightsColor} 100%
    );
  `:"background: transparent;"}
  position: relative;
  
  ${({theme:e,selected:t})=>t&&`
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: ${e.colors.primary};
      opacity: 0.4;
      pointer-events: none;
    }
  `}
`;function Mu(){const e=Fn(),t=Fn();return{highlightsColor:e,shadowsColor:t}}const ju=()=>{const e=Le.c(2),{state:t}=je(),{min:n,max:r}=ou,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=z.jsx(At,{label:"Intensity",id:"grayscaleIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},Uu=()=>{const e=Le.c(2),{state:t}=je(),{min:n,max:r}=ru,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=z.jsx(At,{label:"Intensity",id:"brightnessIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},Nu=()=>{const e=Le.c(2),{state:t}=je(),{min:n,max:r}=su,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.blend?(i=z.jsx(At,{label:"Blend Intensity",id:"blendIntensity",min:n,max:r,configKey:"blend",defaultValue:s.blend}),e[0]=s.blend,e[1]=i):i=e[1],i},Fu=()=>{const e=Le.c(8),{state:t,dispatch:n}=je(),{min:r,max:o}=iu,i=(t.currentLayer?.selection).config;let a;e[0]!==i.intensity?(a=z.jsx(At,{label:"Intensity",id:"distortionIntensity",min:r,max:o,configKey:"intensity",defaultValue:i.intensity,refresh:!0}),e[0]=i.intensity,e[1]=a):a=e[1];let c;e[2]!==n||e[3]!==t.selectedLayerIdx?(c=z.jsx(Mt,{variant:"outline",type:"button",onClick:()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Pattern"}),e[2]=n,e[3]=t.selectedLayerIdx,e[4]=c):c=e[4];let d;return e[5]!==a||e[6]!==c?(d=z.jsxs(ir,{children:[a,c]}),e[5]=a,e[6]=c,e[7]=d):d=e[7],d},Bu=()=>{const e=Le.c(3),{state:t}=je(),{min:n,max:r}=au,s=(t.currentLayer?.selection).config;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=z.jsx(vi,{label:"RGB Shift Effect",id:"rgb-shift-effect",items:cu,configKey:"effect",defaultValue:"Vibrance",getItemValue:Yu}),e[0]=i):i=e[0];let a;return e[1]!==s.intensity?(a=z.jsxs(ir,{children:[i,z.jsx(At,{label:"Intensity",id:"rgbShiftIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=a):a=e[2],a},zu=()=>{const e=Le.c(3),{state:t}=je(),{min:n,max:r}=uu,s=(t.currentLayer?.selection).config;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=z.jsx(vi,{label:"Sort Direction",id:"pixelSortDirection",items:lu,configKey:"direction",defaultValue:"Vertical",getItemValue:Vu,refresh:!0}),e[0]=i):i=e[0];let a;return e[1]!==s.intensity?(a=z.jsxs(ir,{children:[i,z.jsx(At,{label:"Intensity",id:"pixelSortIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity,refresh:!0})]}),e[1]=s.intensity,e[2]=a):a=e[2],a},Hu=()=>{const e=Le.c(2),{state:t}=je(),{min:n,max:r}=fu,s=(t.currentLayer?.selection).config;let i;return e[0]!==s.intensity?(i=z.jsx(At,{label:"Intensity",id:"sliceDistortionIntensity",min:n,max:r,configKey:"intensity",defaultValue:s.intensity}),e[0]=s.intensity,e[1]=i):i=e[1],i},Gu=()=>{const e=Le.c(8),{state:t,dispatch:n}=je(),o=(t.currentLayer?.selection).config;let s;e[0]!==o.intensity?(s=z.jsx(At,{label:"Distortion",id:"sliceDistortionIntensity",min:Ar.min,max:Ar.max,step:Ar.step,configKey:"intensity",defaultValue:o.intensity,refresh:!0}),e[0]=o.intensity,e[1]=s):s=e[1];let i;e[2]!==n||e[3]!==t.selectedLayerIdx?(i=z.jsx(Mt,{variant:"outline",type:"button",onClick:()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult,payload:{refreshIdx:t.selectedLayerIdx}})},children:"Refresh Patterns"}),e[2]=n,e[3]=t.selectedLayerIdx,e[4]=i):i=e[4];let a;return e[5]!==s||e[6]!==i?(a=z.jsxs(ir,{children:[s,i]}),e[5]=s,e[6]=i,e[7]=a):a=e[7],a},qu=e=>{const t=Le.c(11);if(!e){let n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx("div",{}),t[0]=n):n=t[0],n}switch(e){case ne.None:{let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx("div",{}),t[1]=n):n=t[1],n}case ne.RGBShift:{let n;return t[2]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Bu,{}),t[2]=n):n=t[2],n}case ne.Grayscale:{let n;return t[3]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(ju,{}),t[3]=n):n=t[3],n}case ne.Brightness:{let n;return t[4]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Uu,{}),t[4]=n):n=t[4],n}case ne.AsSound:{let n;return t[5]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Nu,{}),t[5]=n):n=t[5],n}case ne.FractalPixelSort:{let n;return t[6]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Fu,{}),t[6]=n):n=t[6],n}case ne.PixelSort:{let n;return t[7]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(zu,{}),t[7]=n):n=t[7],n}case ne.Slice:{let n;return t[8]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Hu,{}),t[8]=n):n=t[8],n}case ne.OffsetPixelSort:{let n;return t[9]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Gu,{}),t[9]=n):n=t[9],n}case ne.Duotone:{let n;return t[10]===Symbol.for("react.memo_cache_sentinel")?(n=z.jsx(Pu,{}),t[10]=n):n=t[10],n}}};function Wu(){const e=Le.c(4),{state:t}=je(),n=t.currentLayer?.selection.filter;let r;e[0]!==n?(r=qu(n),e[0]=n,e[1]=r):r=e[1];let o;return e[2]!==r?(o=z.jsx(Ou,{children:r}),e[2]=r,e[3]=o):o=e[3],o}function Yu(e){return e}function Vu(e){return e}const mf=()=>{const e=Le.c(46),{state:t,dispatch:n}=je(),{selectedLayerIdx:r,currentLayer:o}=t,{start:s,stop:i}=zt(),a=B.useContext(Kr);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=Object.keys(ne),e[0]=c):c=e[0];const d=c;let l;e[1]!==n||e[2]!==s||e[3]!==i||e[4]!==a?(l=($,F)=>{s(),n({type:X.UpdateLayerSelection,payload:{layerIdx:$,pselection:{filter:F},withUpdateInitialPresent:!1}}),a?.isActive()&&a.getCurrentStep()?.id==="chooseEffect"&&a.next(),i()},e[1]=n,e[2]=s,e[3]=i,e[4]=a,e[5]=l):l=e[5];const u=l;let f;e[6]!==n||e[7]!==r||e[8]!==s||e[9]!==i?(f=()=>{s(),n({type:X.DeleteLayer,payload:r}),n({type:X.ResetImageCanvas}),n({type:X.GenerateResult}),i()},e[6]=n,e[7]=r,e[8]=s,e[9]=i,e[10]=f):f=e[10];const h=f;let p;e[11]!==n?(p=()=>{n({type:X.ResetImageCanvas}),n({type:X.GenerateResult})},e[11]=n,e[12]=p):p=e[12];const g=p;let b;e[13]!==n||e[14]!==g?(b=$=>{n({type:X.DoLayerAction,payload:$}),g()},e[13]=n,e[14]=g,e[15]=b):b=e[15];const v=b;let O,T;e[16]===Symbol.for("react.memo_cache_sentinel")?(O=z.jsx(Dc,{style:{marginBottom:"12px"},children:"Layer Configurations"}),T=z.jsx(nn,{children:"Filter"}),e[16]=O,e[17]=T):(O=e[16],T=e[17]);let R;e[18]!==u||e[19]!==r?(R=$=>u(r,$.target.value),e[18]=u,e[19]=r,e[20]=R):R=e[20];const M=o?.selection.filter;let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=d.map(Qu),e[21]=_):_=e[21];let k;e[22]!==R||e[23]!==M?(k=z.jsx(yi,{id:"filterList",$full:!0,onChange:R,value:M,children:_}),e[22]=R,e[23]=M,e[24]=k):k=e[24];let x;e[25]===Symbol.for("react.memo_cache_sentinel")?(x=z.jsx(Wu,{}),e[25]=x):x=e[25];let y;e[26]===Symbol.for("react.memo_cache_sentinel")?(y=z.jsxs($n,{children:[z.jsx(Oc,{size:16}),z.jsx("span",{children:"Delete Layer"})]}),e[26]=y):y=e[26];let E;e[27]!==h?(E=z.jsx(Mt,{$full:!0,variant:"warning",onClick:h,children:y}),e[27]=h,e[28]=E):E=e[28];let A;e[29]!==v?(A=()=>v("undo"),e[29]=v,e[30]=A):A=e[30];let S;e[31]===Symbol.for("react.memo_cache_sentinel")?(S=z.jsxs($n,{children:[z.jsx($c,{size:16}),z.jsx("span",{children:"Undo"})]}),e[31]=S):S=e[31];let L;e[32]!==A?(L=z.jsx(Mt,{variant:"outline",type:"button",onClick:A,children:S}),e[32]=A,e[33]=L):L=e[33];let C;e[34]!==v?(C=()=>v("redo"),e[34]=v,e[35]=C):C=e[35];let D;e[36]===Symbol.for("react.memo_cache_sentinel")?(D=z.jsxs($n,{children:[z.jsx(kc,{size:16}),z.jsx("span",{children:"Redo"})]}),e[36]=D):D=e[36];let w;e[37]!==C?(w=z.jsx(Mt,{variant:"outline",type:"button",onClick:C,children:D}),e[37]=C,e[38]=w):w=e[38];let m;e[39]!==E||e[40]!==L||e[41]!==w?(m=z.jsxs(Ku,{children:[E,L,w]}),e[39]=E,e[40]=L,e[41]=w,e[42]=m):m=e[42];let U;return e[43]!==k||e[44]!==m?(U=z.jsxs(Xu,{children:[O,T,k,x,m]}),e[43]=k,e[44]=m,e[45]=U):U=e[45],U},Xu=J.div`
  padding: 24px;
  flex: 1; // stretch the height until the next element
  min-height: 0;
  overflow-y: auto;
  @media (max-width: 1280px) {
    border-top: solid black 1px;
    border-top-style: dashed;
    flex: none;
    min-height: auto;
  }
`,Ku=J.div`
    margin-top: 12px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 4px;

    & > *:first-child {
        grid-column: span 2;
    }
`;function Qu(e){return z.jsx("option",{value:e,children:Fs[e]},`filter-${e}`)}const yf=B.forwardRef((e,t)=>{const n=Le.c(26);let r,o;n[0]!==e?({onChange:r,...o}=e,n[0]=e,n[1]=r,n[2]=o):(r=n[1],o=n[2]);const s=B.useRef(null),[i,a]=B.useState(!1);let c;n[3]!==t?(c=()=>{t&&"current"in t&&t.current&&t.current.click()},n[3]=t,n[4]=c):c=n[4];const d=c;let l;n[5]===Symbol.for("react.memo_cache_sentinel")?(l=y=>{y.preventDefault(),y.stopPropagation(),a(!0)},n[5]=l):l=n[5];const u=l;let f;n[6]===Symbol.for("react.memo_cache_sentinel")?(f=y=>{y.preventDefault(),y.stopPropagation(),a(!1)},n[6]=f):f=n[6];const h=f;let p;n[7]!==r||n[8]!==t?(p=y=>{if(t&&"current"in t&&t.current){const E=new DataTransfer;if(E.items.add(y),t.current.files=E.files,r){const A=new Event("change",{bubbles:!0});Object.defineProperty(A,"target",{writable:!1,value:t.current}),r(A)}}},n[7]=r,n[8]=t,n[9]=p):p=n[9];const g=p;let b;n[10]!==g||n[11]!==t?(b=y=>{y.preventDefault(),y.stopPropagation(),a(!1);const E=y.dataTransfer.files;E&&E.length>0&&t&&"current"in t&&t.current&&g(E[0])},n[10]=g,n[11]=t,n[12]=b):b=n[12];const v=b,O=i?"active":"";let T,R;n[13]===Symbol.for("react.memo_cache_sentinel")?(T=z.jsx(ef,{children:z.jsx("i",{className:"fas fa-images"})}),R=z.jsx(ls,{children:"Drag & Drop"}),n[13]=T,n[14]=R):(T=n[13],R=n[14]);let M;n[15]===Symbol.for("react.memo_cache_sentinel")?(M=z.jsxs(ls,{children:["or ",z.jsx(nf,{children:"browse"})]}),n[15]=M):M=n[15];let _;n[16]!==r||n[17]!==t||n[18]!==o?(_=z.jsx(rf,{ref:t,type:"file",accept:"image/*",onChange:r,...o}),n[16]=r,n[17]=t,n[18]=o,n[19]=_):_=n[19];let k;n[20]===Symbol.for("react.memo_cache_sentinel")?(k=z.jsx(tf,{children:"Supports: JPEG, JPG, PNG"}),n[20]=k):k=n[20];let x;return n[21]!==d||n[22]!==v||n[23]!==_||n[24]!==O?(x=z.jsx(Zu,{ref:s,children:z.jsxs(Ju,{className:O,onDragOver:u,onDragLeave:h,onDrop:v,onClick:d,children:[T,R,M,_,k]})}),n[21]=d,n[22]=v,n[23]=_,n[24]=O,n[25]=x):x=n[25],x}),Zu=J.div`
  max-width: 650px;
  width: 100%;
  padding: 30px;
  background: #fff;
`,Ju=J.div`
  cursor: pointer;
  height: 400px;
  border: 1px dashed #9da2ac;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  margin: 10px auto;

  &.active {
    border: 1px solid ${({theme:e})=>e.colors.primary};
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`,ef=J.div`
  font-size: 50px;
  color: ${({theme:e})=>e.colors.primary};
`,ls=J.span`
  font-size: 20px;
  font-weight: 500;
  color: #34495e;
`,tf=J.span`
  font-size: 12px;
  color: gray;
  margin: 10px 0 15px 0;
`,nf=J.span`
  font-size: 20px;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.primary};
`,rf=J.input`
  display: none;
`;export{Mt as B,af as C,Cc as D,hf as E,Bs as F,pf as G,uf as H,ka as L,ff as P,Jr as S,yf as U,ac as _,zt as a,$n as b,X as c,Gr as d,Ei as e,us as f,Pa as g,Le as h,J as i,z as j,Kr as k,gf as l,mf as m,df as n,lf as o,jl as p,js as q,B as r,sf as s,Ta as t,je as u,of as v,cf as w};
